/*! For license information please see 2.6deee0db.chunk.js.LICENSE.txt */
(this["webpackJsonpreact-chess"]=this["webpackJsonpreact-chess"]||[]).push([[2],[function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return u})),n.d(t,"g",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function u(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))}function u(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(u){o=[6,u],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}Object.create;function s(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create},function(e,t,n){"use strict";e.exports=n(69)},function(e,t,n){"use strict";function r(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!e){var o;if(void 0===t)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;(o=new Error(t.replace(/%s/g,(function(){return r[a++]})))).name="Invariant Violation"}throw o.framesToPop=1,o}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r,i,o=n(0),a=n(4),u=n(24),s=n(14),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.b("app","Firebase",c),f=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),h=new s.b("@firebase/app"),d=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Object(a.f)(e),this.container=new u.b(t.name),this._addComponent(new u.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t="[DEFAULT]"),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){h.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!==typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name="[DEFAULT]");var u=o.name;if("string"!==typeof u||!u)throw l.create("bad-app-name",{appName:String(u)});if(Object(a.c)(t,u))throw l.create("duplicate-app",{appName:u});var s=new e(n,o,r);return t[u]=s,s},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=f[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&c.push("and"),s&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void h.warn(c.join(" "))}o(new u.a(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:s.c,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw l.create("invalid-log-argument");Object(s.d)(e,t)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function i(e){if(e=e||"[DEFAULT]",!Object(a.c)(t,e))throw l.create("no-app",{appName:e});return t[e]}function o(o){var u=o.name;if(n.has(u))return h.debug("There were multiple attempts to register component "+u+"."),"PUBLIC"===o.type?r[u]:null;if(n.set(u,o),"PUBLIC"===o.type){var s=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[u])throw l.create("invalid-app-argument",{appName:u});return e[u]()};void 0!==o.serviceProps&&Object(a.g)(s,o.serviceProps),r[u]=s,e.prototype[u]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,u);return n.apply(this,o.multipleInstances?e:[])}}for(var c=0,f=Object.keys(t);c<f.length;c++){var d=f[c];t[d]._addComponent(o)}return"PUBLIC"===o.type?r[u]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(d);return t.INTERNAL=Object(o.a)(Object(o.a)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(a.g)(t,e)},createSubscribe:a.e,ErrorFactory:a.b,deepExtend:a.g}),t}(),v=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(Object(a.j)()&&void 0!==self.firebase){h.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&h.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=p.initializeApp;p.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(a.o)()&&h.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,e)};var m=p;!function(e,t){e.INTERNAL.registerComponent(new u.a("platform-logger",(function(e){return new v(e)}),"PRIVATE")),e.registerVersion("@firebase/app","0.6.30",t),e.registerVersion("fire-js","")}(m),t.a=m},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return T})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return s})),n.d(t,"h",(function(){return A})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return p})),n.d(t,"k",(function(){return v})),n.d(t,"l",(function(){return y})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return h})),n.d(t,"o",(function(){return d})),n.d(t,"p",(function(){return g})),n.d(t,"q",(function(){return w})),n.d(t,"r",(function(){return b}));var r=n(0),i=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,u=a?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=o>>2,f=(3&o)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(u=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==s)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==u){var l=a<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},a=function(e){return function(e){var t=i(e);return o.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function u(e){return s(void 0,e)}function s(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=s(e[n],t[n]));return e}var c=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function l(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var u=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[a(JSON.stringify({alg:"none",type:"JWT"})),a(JSON.stringify(u)),""].join(".")}function f(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function h(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())}function d(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}}function p(){return"object"===typeof self&&self.self===self}function v(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function g(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function y(){return f().indexOf("Electron/")>=0}function m(){var e=f();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function b(){return f().indexOf("MSAppHost/")>=0}function w(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var E=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,T.prototype.create),o}return Object(r.c)(t,e),t}(Error),T=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?S(o,r):"Error",u=this.serviceName+": "+a+" ("+i+").",s=new E(i,u,r);return s},e}();function S(e,t){return e.replace(I,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var I=/\{\$([^}]+)}/g;function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,u=this.chain_[0],s=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^s&(c^l),a=1518500249):(o=s^c^l,a=1859775393):r<60?(o=s&c|l&(s|c),a=2400959708):(o=s^c^l,a=3395469782);i=(u<<5|u>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(s<<30|s>>>2),s=u,u=i}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();function _(e,t){var n=new k(e,t);return n.subscribe.bind(n)}var k=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function C(){}function A(e){return e&&e._delegate?e._delegate:e}}).call(this,n(26))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(36);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return C})),n.d(t,"g",(function(){return A}));var r=n(16),i=n(1),o=n.n(i),a=n(12),u=n(55),s=n(15),c=n(9),l=n(45),f=n.n(l),h=(n(50),n(25)),d=(n(56),function(e){var t=Object(u.a)();return t.displayName=e,t}),p=d("Router-History"),v=d("Router"),g=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return o.a.createElement(v.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(p.Provider,{children:this.props.children||null,value:this.props.history}))},t}(o.a.Component);o.a.Component;o.a.Component;var y={},m=0;function b(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,u=void 0!==a&&a,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=y[n]||(y[n]={});if(r[e])return r[e];var i=[],o={regexp:f()(e,i,t),keys:i};return m<1e4&&(r[e]=o,m++),o}(n,{end:o,strict:u,sensitive:c}),i=r.regexp,a=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],h=s.slice(1),d=e===l;return o&&!d?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:d,params:a.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var w=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(v.Consumer,null,(function(t){t||Object(s.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?b(n.pathname,e.props):t.match,i=Object(c.a)({},t,{location:n,match:r}),a=e.props,u=a.children,l=a.component,f=a.render;return Array.isArray(u)&&function(e){return 0===o.a.Children.count(e)}(u)&&(u=null),o.a.createElement(v.Provider,{value:i},i.match?u?"function"===typeof u?u(i):u:l?o.a.createElement(l,i):f?f(i):null:"function"===typeof u?u(i):null)}))},t}(o.a.Component);function E(e){return"/"===e.charAt(0)?e:"/"+e}function T(e,t){if(!e)return t;var n=E(e);return 0!==t.pathname.indexOf(n)?t:Object(c.a)({},t,{pathname:t.pathname.substr(n.length)})}function S(e){return"string"===typeof e?e:Object(a.e)(e)}function I(e){return function(){Object(s.a)(!1)}}function O(){}o.a.Component;var _=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(v.Consumer,null,(function(t){t||Object(s.a)(!1);var n,r,i=e.props.location||t.location;return o.a.Children.forEach(e.props.children,(function(e){if(null==r&&o.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?b(i.pathname,Object(c.a)({},e.props,{path:a})):t.match}})),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(o.a.Component);var k=o.a.useContext;function C(){return k(p)}function A(){var e=k(v).match;return e?e.params:{}}},function(e,t,n){e.exports=n(73)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return zu})),n.d(t,"b",(function(){return ju})),n.d(t,"c",(function(){return rc})),n.d(t,"d",(function(){return oc})),n.d(t,"e",(function(){return Zs})),n.d(t,"f",(function(){return Ys})),n.d(t,"g",(function(){return I})),n.d(t,"h",(function(){return Ru})),n.d(t,"i",(function(){return Js})),n.d(t,"j",(function(){return nc})),n.d(t,"k",(function(){return cc})),n.d(t,"l",(function(){return yc})),n.d(t,"m",(function(){return fc})),n.d(t,"n",(function(){return pc})),n.d(t,"o",(function(){return tc})),n.d(t,"p",(function(){return gc})),n.d(t,"q",(function(){return dc})),n.d(t,"r",(function(){return lc}));var r=n(0),i=n(4),o=n(14),a=n(10),u=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();u.o=-1;var s={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},c=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(r.c)(t,e),t}(Error),l=new o.b("@firebase/firestore");function f(){return l.logLevel}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(l.logLevel<=o.a.DEBUG){var i=t.map(v);l.debug.apply(l,Object(r.f)(["Firestore (8.10.1): "+e],i))}}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(l.logLevel<=o.a.ERROR){var i=t.map(v);l.error.apply(l,Object(r.f)(["Firestore (8.10.1): "+e],i))}}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(l.logLevel<=o.a.WARN){var i=t.map(v);l.warn.apply(l,Object(r.f)(["Firestore (8.10.1): "+e],i))}}function v(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function g(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw d(t),new Error(t)}function y(e,t){e||g()}function m(e,t){return e}function b(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var w=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=b(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function E(e,t){return e<t?-1:e>t?1:0}function T(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function S(e){return e+"\0"}var I=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new c(s.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new c(s.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new c(s.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new c(s.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?E(this.nanoseconds,e.nanoseconds):E(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),O=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new I(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function _(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function k(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function C(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var A=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&g(),void 0===n?n=e.length-t:n>e.length-t&&g(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new c(s.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(A),x=/^[_a-zA-Z][_a-zA-Z0-9]*$/,D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return x.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new c(s.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new c(s.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new c(s.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===u?(a=!a,i++):"."!==u||a?(r+=u,i++):(o(),i++)}if(o(),a)throw new c(s.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(A),P=function(){function e(e){this.fields=e,e.sort(D.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return T(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),j=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return E(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();j.EMPTY_BYTE_STRING=new j("");var R=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function L(e){if(y(!!e),"string"==typeof e){var t=0,n=R.exec(e);if(y(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:M(e.seconds),nanos:M(e.nanos)}}function M(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function F(e){return"string"==typeof e?j.fromBase64String(e):j.fromUint8Array(e)}function U(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function V(e){var t=L(e.mapValue.fields.__local_write_time__.timestampValue);return new I(t.seconds,t.nanos)}function q(e){return null==e}function B(e){return 0===e&&1/e==-1/0}function z(e){return"number"==typeof e&&Number.isInteger(e)&&!B(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var K=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(N.fromString(t))},e.fromName=function(t){return new e(N.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===N.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return N.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new N(t.slice()))},e}();function H(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?U(e)?4:10:g()}function G(e,t){var n=H(e);if(n!==H(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return V(e).isEqual(V(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=L(e.timestampValue),r=L(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return F(e.bytesValue).isEqual(F(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return M(e.geoPointValue.latitude)===M(t.geoPointValue.latitude)&&M(e.geoPointValue.longitude)===M(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return M(e.integerValue)===M(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=M(e.doubleValue),r=M(t.doubleValue);return n===r?B(n)===B(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return T(e.arrayValue.values||[],t.arrayValue.values||[],G);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(_(n)!==_(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!G(n[i],r[i])))return!1;return!0}(e,t);default:return g()}}function W(e,t){return void 0!==(e.values||[]).find((function(e){return G(e,t)}))}function Q(e,t){var n=H(e),r=H(t);if(n!==r)return E(n,r);switch(n){case 0:return 0;case 1:return E(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=M(e.integerValue||e.doubleValue),r=M(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return $(e.timestampValue,t.timestampValue);case 4:return $(V(e),V(t));case 5:return E(e.stringValue,t.stringValue);case 6:return function(e,t){var n=F(e),r=F(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=E(n[i],r[i]);if(0!==o)return o}return E(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=E(M(e.latitude),M(t.latitude));return 0!==n?n:E(M(e.longitude),M(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=Q(n[i],r[i]);if(o)return o}return E(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var u=E(r[a],o[a]);if(0!==u)return u;var s=Q(n[r[a]],i[o[a]]);if(0!==s)return s}return E(r.length,o.length)}(e.mapValue,t.mapValue);default:throw g()}}function $(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return E(e,t);var n=L(e),r=L(t),i=E(n.seconds,r.seconds);return 0!==i?i:E(n.nanos,r.nanos)}function X(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){var t=L(e);return"time("+t.seconds+","+t.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?F(t.bytesValue).toBase64():"referenceValue"in t?(r=t.referenceValue,K.fromName(r).toString()):"geoPointValue"in t?"geo("+(n=t.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in t?function(t){for(var n="[",r=!0,i=0,o=t.values||[];i<o.length;i++)r?r=!1:n+=",",n+=e(o[i]);return n+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var n="{",r=!0,i=0,o=Object.keys(t.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+e(t.fields[a])}return n+"}"}(t.mapValue):g();var n,r}(e)}function Y(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function J(e){return!!e&&"integerValue"in e}function Z(e){return!!e&&"arrayValue"in e}function ee(e){return!!e&&"nullValue"in e}function te(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ne(e){return!!e&&"mapValue"in e}function re(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return k(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=re(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=re(e.arrayValue.values[r]);return n}return Object.assign({},e)}var ie=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!ne(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=re(t)},e.prototype.setAll=function(e){var t=this,n=D.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=re(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());ne(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return G(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];ne(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){k(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(re(this.value))},e}();function oe(e){var t=[];return k(e.fields,(function(e,n){var r=new D([e]);if(ne(n)){var i=oe(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var u=a[o];t.push(r.child(u))}}else t.push(r)})),new P(t)}var ae=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,O.min(),ie.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,ie.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,ie.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=ie.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=ie.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),ue=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function se(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new ue(e,t,n,r,i,o,a)}function ce(e){var t=m(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+X(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),q(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Te(t.startAt)),t.endAt&&(n+="|ub:",n+=Te(t.endAt)),t.h=n}return t.h}function le(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ie(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!G(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!_e(e.startAt,t.startAt)&&_e(e.endAt,t.endAt)}function fe(e){return K.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var he=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return Object(r.c)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new de(e,n,r):"array-contains"===n?new ye(e,r):"in"===n?new me(e,r):"not-in"===n?new be(e,r):"array-contains-any"===n?new we(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new pe(e,n):new ve(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(Q(t,this.value)):null!==t&&H(this.value)===H(t)&&this.m(Q(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return g()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),de=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=K.fromName(r.referenceValue),i}return Object(r.c)(t,e),t.prototype.matches=function(e){var t=K.comparator(e.key,this.key);return this.m(t)},t}(he),pe=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=ge("in",n),r}return Object(r.c)(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(he),ve=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=ge("not-in",n),r}return Object(r.c)(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(he);function ge(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return K.fromName(e.referenceValue)}))}var ye=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return Object(r.c)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return Z(t)&&W(t.arrayValue,this.value)},t}(he),me=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return Object(r.c)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&W(this.value.arrayValue,t)},t}(he),be=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return Object(r.c)(t,e),t.prototype.matches=function(e){if(W(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!W(this.value.arrayValue,t)},t}(he),we=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return Object(r.c)(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!Z(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return W(t.value.arrayValue,e)}))},t}(he),Ee=function(e,t){this.position=e,this.before=t};function Te(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return X(e)})).join(",")}var Se=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Ie(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Oe(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?K.comparator(K.fromName(a.referenceValue),n.key):Q(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function _e(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!G(e.position[n],t.position[n]))return!1;return!0}var ke=function(e,t,n,r,i,o,a,u){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===u&&(u=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.p=null,this.T=null,this.startAt,this.endAt};function Ce(e,t,n,r,i,o,a,u){return new ke(e,t,n,r,i,o,a,u)}function Ae(e){return new ke(e)}function Ne(e){return!q(e.limit)&&"F"===e.limitType}function xe(e){return!q(e.limit)&&"L"===e.limitType}function De(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Pe(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function je(e){return null!==e.collectionGroup}function Re(e){var t=m(e);if(null===t.p){t.p=[];var n=Pe(t),r=De(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Se(n)),t.p.push(new Se(D.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var u=a[o];t.p.push(u),u.field.isKeyField()&&(i=!0)}if(!i){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Se(D.keyField(),s))}}}return t.p}function Le(e){var t=m(e);if(!t.T)if("F"===t.limitType)t.T=se(t.path,t.collectionGroup,Re(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Re(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Se(o.field,a))}var u=t.endAt?new Ee(t.endAt.position,!t.endAt.before):null,s=t.startAt?new Ee(t.startAt.position,!t.startAt.before):null;t.T=se(t.path,t.collectionGroup,n,t.filters,t.limit,u,s)}return t.T}function Me(e,t,n){return new ke(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Fe(e,t){return le(Le(e),Le(t))&&e.limitType===t.limitType}function Ue(e){return ce(Le(e))+"|lt:"+e.limitType}function Ve(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+X(t.value);var t})).join(", ")+"]"),q(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+Te(e.startAt)),e.endAt&&(t+=", endAt: "+Te(e.endAt)),"Target("+t+")"}(Le(e))+"; limitType="+e.limitType+")"}function qe(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):K.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Oe(e.startAt,Re(e),t))&&(!e.endAt||!Oe(e.endAt,Re(e),t))}(e,t)}function Be(e){return function(t,n){for(var r=!1,i=0,o=Re(e);i<o.length;i++){var a=o[i],u=ze(a,t,n);if(0!==u)return u;r=r||a.field.isKeyField()}return 0}}function ze(e,t,n){var r=e.field.isKeyField()?K.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Q(r,i):g()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return g()}}function Ke(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:B(t)?"-0":t}}function He(e){return{integerValue:""+e}}function Ge(e,t){return z(t)?He(t):Ke(e,t)}var We=function(){this._=void 0};function Qe(e,t,n){return e instanceof Ye?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Je?Ze(e,t):e instanceof et?tt(e,t):function(e,t){var n=Xe(e,t),r=rt(n)+rt(e.A);return J(n)&&J(e.A)?He(r):Ke(e.R,r)}(e,t)}function $e(e,t,n){return e instanceof Je?Ze(e,t):e instanceof et?tt(e,t):n}function Xe(e,t){return e instanceof nt?J(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Ye=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t}(We),Je=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Object(r.c)(t,e),t}(We);function Ze(e,t){for(var n=it(t),r=function(e){n.some((function(t){return G(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var et=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Object(r.c)(t,e),t}(We);function tt(e,t){for(var n=it(t),r=function(e){n=n.filter((function(t){return!G(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var nt=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return Object(r.c)(t,e),t}(We);function rt(e){return M(e.integerValue||e.doubleValue)}function it(e){return Z(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ot=function(e,t){this.field=e,this.transform=t},at=function(e,t){this.version=e,this.transformResults=t},ut=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function st(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ct=function(){};function lt(e,t,n){e instanceof vt?function(e,t,n){var r=e.value.clone(),i=mt(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof gt?function(e,t,n){if(st(e.precondition,t)){var r=mt(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(yt(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ft(e,t,n){e instanceof vt?function(e,t,n){if(st(e.precondition,t)){var r=e.value.clone(),i=bt(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(pt(t),r).setHasLocalMutations()}}(e,t,n):e instanceof gt?function(e,t,n){if(st(e.precondition,t)){var r=bt(e.fieldTransforms,n,t),i=t.data;i.setAll(yt(e)),i.setAll(r),t.convertToFoundDocument(pt(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){st(e.precondition,t)&&t.convertToNoDocument(O.min())}(e,t)}function ht(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),u=Xe(o.transform,a||null);null!=u&&(null==n&&(n=ie.empty()),n.set(o.field,u))}return n||null}function dt(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&T(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Je&&t instanceof Je||e instanceof et&&t instanceof et?T(e.elements,t.elements,G):e instanceof nt&&t instanceof nt?G(e.A,t.A):e instanceof Ye&&t instanceof Ye}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function pt(e){return e.isFoundDocument()?e.version:O.min()}var vt=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(r.c)(t,e),t}(ct),gt=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Object(r.c)(t,e),t}(ct);function yt(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function mt(e,t,n){var r=new Map;y(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,u=t.data.field(o.field);r.set(o.field,$e(a,u,n[i]))}return r}function bt(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],u=a.transform,s=n.data.field(a.field);r.set(a.field,Qe(u,s,t))}return r}var wt,Et,Tt=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(r.c)(t,e),t}(ct),St=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(r.c)(t,e),t}(ct),It=function(e){this.count=e};function Ot(e){switch(e){case s.OK:return g();case s.CANCELLED:case s.UNKNOWN:case s.DEADLINE_EXCEEDED:case s.RESOURCE_EXHAUSTED:case s.INTERNAL:case s.UNAVAILABLE:case s.UNAUTHENTICATED:return!1;case s.INVALID_ARGUMENT:case s.NOT_FOUND:case s.ALREADY_EXISTS:case s.PERMISSION_DENIED:case s.FAILED_PRECONDITION:case s.ABORTED:case s.OUT_OF_RANGE:case s.UNIMPLEMENTED:case s.DATA_LOSS:return!0;default:return g()}}function _t(e){if(void 0===e)return d("GRPC error has no .code"),s.UNKNOWN;switch(e){case wt.OK:return s.OK;case wt.CANCELLED:return s.CANCELLED;case wt.UNKNOWN:return s.UNKNOWN;case wt.DEADLINE_EXCEEDED:return s.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return s.RESOURCE_EXHAUSTED;case wt.INTERNAL:return s.INTERNAL;case wt.UNAVAILABLE:return s.UNAVAILABLE;case wt.UNAUTHENTICATED:return s.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return s.INVALID_ARGUMENT;case wt.NOT_FOUND:return s.NOT_FOUND;case wt.ALREADY_EXISTS:return s.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return s.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return s.FAILED_PRECONDITION;case wt.ABORTED:return s.ABORTED;case wt.OUT_OF_RANGE:return s.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return s.UNIMPLEMENTED;case wt.DATA_LOSS:return s.DATA_LOSS;default:return g()}}(Et=wt||(wt={}))[Et.OK=0]="OK",Et[Et.CANCELLED=1]="CANCELLED",Et[Et.UNKNOWN=2]="UNKNOWN",Et[Et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Et[Et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Et[Et.NOT_FOUND=5]="NOT_FOUND",Et[Et.ALREADY_EXISTS=6]="ALREADY_EXISTS",Et[Et.PERMISSION_DENIED=7]="PERMISSION_DENIED",Et[Et.UNAUTHENTICATED=16]="UNAUTHENTICATED",Et[Et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Et[Et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Et[Et.ABORTED=10]="ABORTED",Et[Et.OUT_OF_RANGE=11]="OUT_OF_RANGE",Et[Et.UNIMPLEMENTED=12]="UNIMPLEMENTED",Et[Et.INTERNAL=13]="INTERNAL",Et[Et.UNAVAILABLE=14]="UNAVAILABLE",Et[Et.DATA_LOSS=15]="DATA_LOSS";var kt=function(){function e(e,t){this.comparator=e,this.root=t||At.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,At.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,At.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Ct(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Ct(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Ct(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Ct(this.root,e,this.comparator,!0)},e}(),Ct=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),At=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw g();if(this.right.isRed())throw g();var e=this.left.check();if(e!==this.right.check())throw g();return e+(this.isRed()?0:1)},e}();At.EMPTY=null,At.RED=!0,At.BLACK=!1,At.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw g()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new At(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var Nt=function(){function e(e){this.comparator=e,this.data=new kt(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new xt(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new xt(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),xt=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Dt=new kt(K.comparator);function Pt(){return Dt}var jt=new kt(K.comparator);function Rt(){return jt}var Lt=new kt(K.comparator);function Mt(){return Lt}var Ft=new Nt(K.comparator);function Ut(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Ft,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Vt=new Nt(E);function qt(){return Vt}var Bt=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,zt.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(O.min(),r,qt(),Pt(),Ut())},e}(),zt=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(j.EMPTY_BYTE_STRING,n,Ut(),Ut(),Ut())},e}(),Kt=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},Ht=function(e,t){this.targetId=e,this.V=t},Gt=function(e,t,n,r){void 0===n&&(n=j.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Wt=function(){function e(){this.S=0,this.D=Xt(),this.C=j.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=Ut(),t=Ut(),n=Ut();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:g()}})),new zt(this.C,this.N,e,t,n)},e.prototype.L=function(){this.k=!1,this.D=Xt()},e.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),Qt=function(){function e(e){this.W=e,this.G=new Map,this.H=Pt(),this.J=$t(),this.Y=new Nt(E)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:g()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(fe(i))if(0===n){var o=new K(i.path);this.tt(t,o,ae.newNoDocument(o,O.min()))}else y(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&fe(o.target)){var a=new K(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,ae.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=Ut();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Bt(e,n,this.Y,this.H,r);return this.H=Pt(),this.J=$t(),this.Y=new Nt(E),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new Wt,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new Nt(E),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||h("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new Wt),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function $t(){return new kt(K.comparator)}function Xt(){return new kt(K.comparator)}var Yt={asc:"ASCENDING",desc:"DESCENDING"},Jt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zt=function(e,t){this.databaseId=e,this.I=t};function en(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function tn(e,t){return e.I?t.toBase64():t.toUint8Array()}function nn(e,t){return en(e,t.toTimestamp())}function rn(e){return y(!!e),O.fromTimestamp(function(e){var t=L(e);return new I(t.seconds,t.nanos)}(e))}function on(e,t){return function(e){return new N(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function an(e){var t=N.fromString(e);return y(An(t)),t}function un(e,t){return on(e.databaseId,t.path)}function sn(e,t){var n=an(t);if(n.get(1)!==e.databaseId.projectId)throw new c(s.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new c(s.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new K(hn(n))}function cn(e,t){return on(e.databaseId,t)}function ln(e){var t=an(e);return 4===t.length?N.emptyPath():hn(t)}function fn(e){return new N(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function hn(e){return y(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function dn(e,t,n){return{name:un(e,t),fields:n.value.mapValue.fields}}function pn(e,t,n){var r=sn(e,t.name),i=rn(t.updateTime),o=new ie({mapValue:{fields:t.fields}}),a=ae.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function vn(e,t){var n;if(t instanceof vt)n={update:dn(e,t.key,t.value)};else if(t instanceof Tt)n={delete:un(e,t.key)};else if(t instanceof gt)n={update:dn(e,t.key,t.data),updateMask:Cn(t.fieldMask)};else{if(!(t instanceof St))return g();n={verify:un(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Ye)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Je)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof et)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof nt)return{fieldPath:t.field.canonicalString(),increment:n.A};throw g()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:nn(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:g()}(e,t.precondition)),n}function gn(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?ut.updateTime(rn(e.updateTime)):void 0!==e.exists?ut.exists(e.exists):ut.none()}(t.currentDocument):ut.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)y("REQUEST_TIME"===t.setToServerValue),n=new Ye;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Je(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new et(i)}else"increment"in t?n=new nt(e,t.increment):g();var o=D.fromServerFormat(t.fieldPath);return new ot(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=sn(e,t.update.name),o=new ie({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new P(t.map((function(e){return D.fromServerFormat(e)})))}(t.updateMask);return new gt(i,o,a,n,r)}return new vt(i,o,n,r)}if(t.delete){var u=sn(e,t.delete);return new Tt(u,n)}if(t.verify){var s=sn(e,t.verify);return new St(s,n)}return g()}function yn(e,t){return{documents:[cn(e,t.path)]}}function mn(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=cn(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=cn(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(te(e.value))return{unaryFilter:{field:In(e.field),op:"IS_NAN"}};if(ee(e.value))return{unaryFilter:{field:In(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(te(e.value))return{unaryFilter:{field:In(e.field),op:"IS_NOT_NAN"}};if(ee(e.value))return{unaryFilter:{field:In(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:In(e.field),op:Sn(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:In(e.field),direction:Tn(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||q(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=wn(t.startAt)),t.endAt&&(n.structuredQuery.endAt=wn(t.endAt)),n}function bn(e){var t=ln(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){y(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=function e(t){return t?void 0!==t.unaryFilter?[kn(t)]:void 0!==t.fieldFilter?[_n(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e(t)})).reduce((function(e,t){return e.concat(t)})):g():[]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Se(On(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return q(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=En(n.startAt));var l=null;return n.endAt&&(l=En(n.endAt)),Ce(t,i,u,a,s,"F",c,l)}function wn(e){return{before:e.before,values:e.position}}function En(e){var t=!!e.before,n=e.values||[];return new Ee(n,t)}function Tn(e){return Yt[e]}function Sn(e){return Jt[e]}function In(e){return{fieldPath:e.canonicalString()}}function On(e){return D.fromServerFormat(e.fieldPath)}function _n(e){return he.create(On(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return g()}}(e.fieldFilter.op),e.fieldFilter.value)}function kn(e){switch(e.unaryFilter.op){case"IS_NAN":var t=On(e.unaryFilter.field);return he.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=On(e.unaryFilter.field);return he.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=On(e.unaryFilter.field);return he.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=On(e.unaryFilter.field);return he.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return g()}}function Cn(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function An(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Nn(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Dn(t)),t=xn(e.get(n),t);return Dn(t)}function xn(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Dn(e){return e+"\x01\x01"}function Pn(e){var t=e.length;if(y(t>=2),2===t)return y("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),N.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&g(),e.charAt(a+1)){case"\x01":var u=e.substring(o,a),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:g()}o=a+2}return new N(r)}var jn=function(e,t){this.seconds=e,this.nanoseconds=t},Rn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Rn.store="owner",Rn.key="owner";var Ln=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Ln.store="mutationQueues",Ln.keyPath="userId";var Mn=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Mn.store="mutations",Mn.keyPath="batchId",Mn.userMutationsIndex="userMutationsIndex",Mn.userMutationsKeyPath=["userId","batchId"];var Fn=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Nn(t)]},e.key=function(e,t,n){return[e,Nn(t),n]},e}();Fn.store="documentMutations",Fn.PLACEHOLDER=new Fn;var Un=function(e,t){this.path=e,this.readTime=t},Vn=function(e,t){this.path=e,this.version=t},qn=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};qn.store="remoteDocuments",qn.readTimeIndex="readTimeIndex",qn.readTimeIndexPath="readTime",qn.collectionReadTimeIndex="collectionReadTimeIndex",qn.collectionReadTimeIndexPath=["parentPath","readTime"];var Bn=function(e){this.byteSize=e};Bn.store="remoteDocumentGlobal",Bn.key="remoteDocumentGlobalKey";var zn=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};zn.store="targets",zn.keyPath="targetId",zn.queryTargetsIndexName="queryTargetsIndex",zn.queryTargetsKeyPath=["canonicalId","targetId"];var Kn=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Kn.store="targetDocuments",Kn.keyPath=["targetId","path"],Kn.documentTargetsIndex="documentTargetsIndex",Kn.documentTargetsKeyPath=["path","targetId"];var Hn=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Hn.key="targetGlobalKey",Hn.store="targetGlobal";var Gn=function(e,t){this.collectionId=e,this.parent=t};Gn.store="collectionParents",Gn.keyPath=["collectionId","parent"];var Wn=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Wn.store="clientMetadata",Wn.keyPath="clientId";var Qn=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Qn.store="bundles",Qn.keyPath="bundleId";var $n=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};$n.store="namedQueries",$n.keyPath="name";var Xn=Object(r.f)(Object(r.f)([],Object(r.f)(Object(r.f)([],Object(r.f)(Object(r.f)([],Object(r.f)(Object(r.f)([],[Ln.store,Mn.store,Fn.store,qn.store,zn.store,Rn.store,Hn.store,Kn.store]),[Wn.store])),[Bn.store])),[Gn.store])),[Qn.store,$n.store]),Yn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Jn=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),Zn=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},er=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&g(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),tr=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Zn,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new ir(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=cr(t.target.error);n.ft.reject(new ir(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ir(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(h("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new ar(t)},e}(),nr=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(i.i)())&&d("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return h("SimpleDb","Removing database:",e),ur(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(i.i)(),n=t._t(e),r=0<n&&n<10,o=t.Et(e),a=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)},t.gt=function(){var t;return"undefined"!=typeof e&&"YES"===(null===(t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}))||void 0===t?void 0:t.Tt)},t.It=function(e,t){return e.store(t)},t._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(e){return Object(r.b)(this,void 0,void 0,(function(){var t,n=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(h("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new ir(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new c(s.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new ir(e,n))},i.onupgradeneeded=function(e){h("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){h("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},t.prototype.runTransaction=function(e,t,n,i){return Object(r.b)(this,void 0,void 0,(function(){var o,a,u,s,c;return Object(r.d)(this,(function(l){switch(l.label){case 0:o="readonly"===t,a=0,u=function(){var t,u,c,l,f;return Object(r.d)(this,(function(r){switch(r.label){case 0:++a,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=r.sent(),t=tr.open(s.db,e,o?"readonly":"readwrite",n),u=i(t).catch((function(e){return t.abort(e),er.reject(e)})).toPromise(),c={},u.catch((function(){})),[4,t.dt];case 3:return[2,(c.value=(r.sent(),u),c)];case 4:return l=r.sent(),f="FirebaseError"!==l.name&&a<3,h("SimpleDb","Transaction failed with error:",l.message,"Retrying:",f),s.close(),f?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},s=this,l.label=1;case 1:return[5,u()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),rr=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return ur(this.Pt.delete())},e}(),ir=function(e){function t(t,n){var r=this;return(r=e.call(this,s.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(r.c)(t,e),t}(c);function or(e){return"IndexedDbTransactionError"===e.name}var ar=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(h("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(h("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ur(n)},e.prototype.add=function(e){return h("SimpleDb","ADD",this.store.name,e,e),ur(this.store.add(e))},e.prototype.get=function(e){var t=this;return ur(this.store.get(e)).next((function(n){return void 0===n&&(n=null),h("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return h("SimpleDb","DELETE",this.store.name,e),ur(this.store.delete(e))},e.prototype.count=function(){return h("SimpleDb","COUNT",this.store.name),ur(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.kt=function(e,t){h("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new er((function(n,r){t.onerror=function(e){var t=cr(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new er((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new rr(i),a=t(i.primaryKey,i.value,o);if(a instanceof er){var u=a.catch((function(e){return o.done(),er.reject(e)}));n.push(u)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return er.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function ur(e){return new er((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=cr(e.target.error);n(t)}}))}var sr=!1;function cr(e){var t=nr._t(Object(i.i)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new c("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return sr||(sr=!0,setTimeout((function(){throw r}),0)),r}}return e}var lr=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return Object(r.c)(t,e),t}(Jn);function fr(e,t){var n=m(e);return nr.It(n.Mt,t)}var hr=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&lt(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&ft(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&ft(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(O.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ut())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&T(this.mutations,e.mutations,(function(e,t){return dt(e,t)}))&&T(this.baseMutations,e.baseMutations,(function(e,t){return dt(e,t)}))},e}(),dr=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){y(t.mutations.length===r.length);for(var i=Mt(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),pr=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=O.min()),void 0===o&&(o=O.min()),void 0===a&&(a=j.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),vr=function(e){this.Lt=e};function gr(e,t){if(t.document)return pn(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=K.fromSegments(t.noDocument.path),r=Er(t.noDocument.readTime),i=ae.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=K.fromSegments(t.unknownDocument.path);return r=Er(t.unknownDocument.version),ae.newUnknownDocument(o,r)}return g()}function yr(e,t,n){var r=mr(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:un(e,t.key),fields:t.data.value.mapValue.fields,updateTime:en(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new qn(null,null,o,a,r,i)}if(t.isNoDocument()){var u=t.key.path.toArray(),s=wr(t.version);return a=t.hasCommittedMutations,new qn(null,new Un(u,s),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=wr(t.version);return new qn(new Vn(c,l),null,null,!0,r,i)}return g()}function mr(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function br(e){var t=new I(e[0],e[1]);return O.fromTimestamp(t)}function wr(e){var t=e.toTimestamp();return new jn(t.seconds,t.nanoseconds)}function Er(e){var t=new I(e.seconds,e.nanoseconds);return O.fromTimestamp(t)}function Tr(e,t){for(var n=(t.baseMutations||[]).map((function(t){return gn(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return gn(e.Lt,t)})),u=I.fromMillis(t.localWriteTimeMs);return new hr(t.batchId,u,n,a)}function Sr(e){var t,n,r=Er(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Er(e.lastLimboFreeSnapshotVersion):O.min();return void 0!==e.query.documents?(y(1===(n=e.query).documents.length),t=Le(Ae(ln(n.documents[0])))):t=function(e){return Le(bn(e))}(e.query),new pr(t,e.targetId,0,e.lastListenSequenceNumber,r,i,j.fromBase64String(e.resumeToken))}function Ir(e,t){var n,r=wr(t.snapshotVersion),i=wr(t.lastLimboFreeSnapshotVersion);n=fe(t.target)?yn(e.Lt,t.target):mn(e.Lt,t.target);var o=t.resumeToken.toBase64();return new zn(t.targetId,ce(t.target),r,o,t.sequenceNumber,i,n)}function Or(e){var t=bn({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Me(t,t.limit,"L"):t}var _r=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return kr(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Er(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return kr(e).put({bundleId:(n=t).id,createTime:wr(rn(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Cr(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Or(t.bundledQuery),readTime:Er(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Cr(e).put(function(e){return{name:e.name,readTime:wr(rn(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function kr(e){return fr(e,Qn.store)}function Cr(e){return fr(e,$n.store)}var Ar=function(){function e(){this.Bt=new Nr}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),er.resolve()},e.prototype.getCollectionParents=function(e,t){return er.resolve(this.Bt.getEntries(t))},e}(),Nr=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Nt(N.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Nt(N.comparator)).toArray()},e}(),xr=function(){function e(){this.qt=new Nr}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:Nn(i)};return Dr(e).put(o)}return er.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[S(t),""],!1,!0);return Dr(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Pn(o.parent))}return n}))},e}();function Dr(e){return fr(e,Gn.store)}var Pr={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jr=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function Rr(e,t,n){var r=e.store(Mn.store),i=e.store(Fn.store),o=[],a=IDBKeyRange.only(n.batchId),u=0,s=r.$t({range:a},(function(e,t,n){return u++,n.delete()}));o.push(s.next((function(){y(1===u)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=Fn.key(t,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return er.waitFor(o).next((function(){return c}))}function Lr(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw g();t=e.noDocument}return JSON.stringify(t).length}jr.DEFAULT_COLLECTION_PERCENTILE=10,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jr.DEFAULT=new jr(41943040,jr.DEFAULT_COLLECTION_PERCENTILE,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jr.DISABLED=new jr(-1,0,0);var Mr=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return y(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ur(e).$t({index:Mn.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=Vr(e),a=Ur(e);return a.add({}).next((function(u){y("number"==typeof u);for(var s=new hr(u,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return vn(e.Lt,t)})),i=n.mutations.map((function(t){return vn(e.Lt,t)}));return new Mn(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,s),l=[],f=new Nt((function(e,t){return E(e.canonicalString(),t.canonicalString())})),h=0,d=r;h<d.length;h++){var p=d[h],v=Fn.key(i.userId,p.key.path,u);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,Fn.PLACEHOLDER))}return f.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[u]=s.keys()})),er.waitFor(l).next((function(){return s}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Ur(e).get(t).next((function(e){return e?(y(e.userId===n.userId),Tr(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?er.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Ur(e).$t({index:Mn.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(y(t.batchId>=r),o=Tr(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ur(e).$t({index:Mn.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ur(e).Nt(Mn.userMutationsIndex,n).next((function(e){return e.map((function(e){return Tr(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=Fn.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Vr(e).$t({range:i},(function(r,i,a){var u=r[0],s=r[1],c=r[2],l=Pn(s);if(u===n.userId&&t.path.isEqual(l))return Ur(e).get(c).next((function(e){if(!e)throw g();y(e.userId===n.userId),o.push(Tr(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Nt(E),i=[];return t.forEach((function(t){var o=Fn.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),u=Vr(e).$t({range:a},(function(e,i,o){var a=e[0],u=e[1],s=e[2],c=Pn(u);a===n.userId&&t.path.isEqual(c)?r=r.add(s):o.done()}));i.push(u)})),er.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=Fn.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),u=new Nt(E);return Vr(e).$t({range:a},(function(e,t,o){var a=e[0],s=e[1],c=e[2],l=Pn(s);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(u=u.add(c)):o.done()})).next((function(){return n.Wt(e,u)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Ur(e).get(t).next((function(e){if(null===e)throw g();y(e.userId===n.userId),r.push(Tr(n.R,e))})))})),er.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return Rr(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),er.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return er.resolve();var r=IDBKeyRange.lowerBound(Fn.prefixForUser(t.userId)),i=[];return Vr(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Pn(e[1]);i.push(o)}else r.done()})).next((function(){y(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return Fr(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return qr(e).get(this.userId).next((function(e){return e||new Ln(t.userId,-1,"")}))},e}();function Fr(e,t,n){var r=Fn.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Vr(e).$t({range:o,Ft:!0},(function(e,n,r){var o=e[0],u=e[1];e[2],o===t&&u===i&&(a=!0),r.done()})).next((function(){return a}))}function Ur(e){return fr(e,Mn.store)}function Vr(e){return fr(e,Fn.store)}function qr(e){return fr(e,Ln.store)}var Br=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),zr=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new Br(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return O.fromTimestamp(new I(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Kr(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return y(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return Kr(e).$t((function(a,u){var s=Sr(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,o.push(r.removeTargetData(e,s)))})).next((function(){return er.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return Kr(e).$t((function(e,n){var r=Sr(n);t(r)}))},e.prototype.Xt=function(e){return Hr(e).get(Hn.key).next((function(e){return y(null!==e),e}))},e.prototype.Zt=function(e,t){return Hr(e).put(Hn.key,t)},e.prototype.te=function(e,t){return Kr(e).put(Ir(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=ce(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Kr(e).$t({range:r,index:zn.queryTargetsIndexName},(function(e,n,r){var o=Sr(n);le(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=Gr(e);return t.forEach((function(t){var a=Nn(t.path);i.push(o.put(new Kn(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),er.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=Gr(e);return er.forEach(t,(function(t){var o=Nn(t.path);return er.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=Gr(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Gr(e),i=Ut();return r.$t({range:n,Ft:!0},(function(e,t,n){var r=Pn(e[1]),o=new K(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=Nn(t.path),r=IDBKeyRange.bound([n],[S(n)],!1,!0),i=0;return Gr(e).$t({index:Kn.documentTargetsIndex,Ft:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return Kr(e).get(t).next((function(e){return e?Sr(e):null}))},e}();function Kr(e){return fr(e,zn.store)}function Hr(e){return fr(e,Hn.store)}function Gr(e){return fr(e,Kn.store)}function Wr(e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){if(e.code!==s.FAILED_PRECONDITION||e.message!==Yn)throw e;return h("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function Qr(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=E(n,i);return 0===a?E(r,o):a}var $r=function(){function e(e){this.ne=e,this.buffer=new Nt(Qr),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Qr(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Xr=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;h("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Object(r.b)(t,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return or(t=n.sent())?(h("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Wr(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),Yr=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return er.resolve(u.o);var r=new $r(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(h("LruGarbageCollector","Garbage collection skipped; disabled"),er.resolve(Pr)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(h("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Pr):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,a,u,s,c,l=this,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>l.params.maximumSequenceNumbersToCollect?(h("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+t),r=l.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),l.nthSequenceNumber(e,r)})).next((function(r){return n=r,u=Date.now(),l.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),l.removeOrphanedDocuments(e,n)})).next((function(e){return c=Date.now(),f()<=o.a.DEBUG&&h("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-d)+"ms\n\tDetermined least recently used "+r+" in "+(u-a)+"ms\n\tRemoved "+i+" targets in "+(s-u)+"ms\n\tRemoved "+e+" documents in "+(c-s)+"ms\nTotal Duration: "+(c-d)+"ms"),er.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),Jr=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new Yr(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return Zr(e,n)},e.prototype.removeReference=function(e,t,n){return Zr(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return Zr(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return qr(e).Ot((function(r){return Fr(e,r,t).next((function(e){return e&&(n=!0),er.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,u){if(u<=t){var s=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),Gr(e).delete([0,Nn(a.path)])}))}));i.push(s)}})).next((function(){return er.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Zr(e,t)},e.prototype.we=function(e,t){var n,r=Gr(e),i=u.o;return r.$t({index:Kn.documentTargetsIndex},(function(e,r){var o=e[0];e[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==u.o&&t(new K(Pn(n)),i),i=s,n=a):i=u.o})).next((function(){i!==u.o&&t(new K(Pn(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Zr(e,t){return Gr(e).put(function(e,t){return new Kn(0,Nn(e.path),t)}(t,e.currentSequenceNumber))}var ei=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],u=o[1];if(this.equalsFn(a,e))return u}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){k(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],u=o[1];e(a,u)}}))},e.prototype.isEmpty=function(){return C(this.inner)},e}(),ti=function(){function e(){this.changes=new ei((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:O.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:ae.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?er.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),ni=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return oi(e).put(ai(t),n)},e.prototype.removeEntry=function(e,t){var n=oi(e),r=ai(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return oi(e).get(ai(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return oi(e).get(ai(t)).next((function(e){return{document:n.ye(t,e),size:Lr(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=Pt();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=Pt(),i=new kt(K.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,Lr(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return er.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return oi(e).$t({range:r},(function(e,t,r){for(var a=K.fromSegments(e);o&&K.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=Pt(),o=t.path.length+1,a={};if(n.isEqual(O.min())){var u=t.path.toArray();a.range=IDBKeyRange.lowerBound(u)}else{var s=t.path.toArray(),c=mr(n);a.range=IDBKeyRange.lowerBound([s,c],!0),a.index=qn.collectionReadTimeIndex}return oi(e).$t(a,(function(e,n,a){if(e.length===o){var u=gr(r.R,n);t.path.isPrefixOf(u.key.path)?qe(t,u)&&(i=i.insert(u.key,u)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new ri(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return ii(e).get(Bn.key).next((function(e){return y(!!e),e}))},e.prototype.me=function(e,t){return ii(e).put(Bn.key,t)},e.prototype.ye=function(e,t){if(t){var n=gr(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(O.min()))return n}return ae.newInvalidDocument(e)},e}(),ri=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new ei((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return Object(r.c)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Nt((function(e,t){return E(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var u=t.Ae.get(o);if(a.document.isValidDocument()){var s=yr(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=Lr(s);r+=c-u,n.push(t.Ie.addEntry(e,o,s))}else if(r-=u,t.trackRemovals){var l=yr(t.Ie.R,ae.newNoDocument(o,O.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),er.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(ti);function ii(e){return fr(e,Bn.store)}function oi(e){return fr(e,qn.store)}function ai(e){return e.path.toArray()}var ui=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;y(n<r&&n>=0&&r<=11);var o=new tr("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Rn.store)}(e),function(e){e.createObjectStore(Ln.store,{keyPath:Ln.keyPath}),e.createObjectStore(Mn.store,{keyPath:Mn.keyPath,autoIncrement:!0}).createIndex(Mn.userMutationsIndex,Mn.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Fn.store)}(e),si(e),function(e){e.createObjectStore(qn.store)}(e));var a=er.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Kn.store),e.deleteObjectStore(zn.store),e.deleteObjectStore(Hn.store)}(e),si(e)),a=a.next((function(){return function(e){var t=e.store(Hn.store),n=new Hn(0,0,O.min().toTimestamp(),0);return t.put(Hn.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(Mn.store).Nt().next((function(n){e.deleteObjectStore(Mn.store),e.createObjectStore(Mn.store,{keyPath:Mn.keyPath,autoIncrement:!0}).createIndex(Mn.userMutationsIndex,Mn.userMutationsKeyPath,{unique:!0});var r=t.store(Mn.store),i=n.map((function(e){return r.put(e)}));return er.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(Wn.store,{keyPath:Wn.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(Bn.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(qn.store);t.createIndex(qn.readTimeIndex,qn.readTimeIndexPath,{unique:!1}),t.createIndex(qn.collectionReadTimeIndex,qn.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(Qn.store,{keyPath:Qn.keyPath})}(e),function(e){e.createObjectStore($n.store,{keyPath:$n.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(qn.store).$t((function(e,n){t+=Lr(n)})).next((function(){var n=new Bn(t);return e.store(Bn.store).put(Bn.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(Ln.store),r=e.store(Mn.store);return n.Nt().next((function(n){return er.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Mn.userMutationsIndex,i).next((function(r){return er.forEach(r,(function(r){y(r.userId===n.userId);var i=Tr(t.R,r);return Rr(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(Kn.store),n=e.store(qn.store);return e.store(Hn.store).get(Hn.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new N(n),a=function(e){return[0,Nn(e)]}(o);r.push(t.get(a).next((function(n){return n?er.resolve():function(n){return t.put(new Kn(0,Nn(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return er.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(Gn.store,{keyPath:Gn.keyPath});var n=t.store(Gn.store),r=new Nr,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Nn(i)})}};return t.store(qn.store).$t({Ft:!0},(function(e,t){var n=new N(e);return i(n.popLast())})).next((function(){return t.store(Fn.store).$t({Ft:!0},(function(e,t){e[0];var n=e[1];e[2];var r=Pn(n);return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(zn.store);return n.$t((function(e,r){var i=Sr(r),o=Ir(t.R,i);return n.put(o)}))},e}();function si(e){e.createObjectStore(Kn.store,{keyPath:Kn.keyPath}).createIndex(Kn.documentTargetsIndex,Kn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(zn.store,{keyPath:zn.keyPath}).createIndex(zn.queryTargetsIndexName,zn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Hn.store)}var ci="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",li=function(){function e(t,n,r,i,o,a,u,l,f,h){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=u,this.De=f,this.Ce=h,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new c(s.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Jr(this,i),this.Le=n+"main",this.R=new vr(l),this.Be=new nr(this.Le,11,new ui(this.R)),this.qe=new zr(this.referenceDelegate,this.R),this.Ut=new xr,this.Ue=function(e,t){return new ni(e,t)}(this.R,this.Ut),this.Ke=new _r,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===h&&d("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new c(s.FAILED_PRECONDITION,ci);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new u(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return Object(r.b)(t,void 0,void 0,(function(){return Object(r.d)(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return Object(r.b)(t,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return Object(r.b)(t,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return hi(t).put(new Wn(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(or(t))return h("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return h("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return fi(e).get(Rn.key).next((function(e){return er.resolve(t.tn(e))}))},e.prototype.en=function(e){return hi(e).delete(this.clientId)},e.prototype.nn=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,t,n,i,o=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=fr(e,Wn.store);return t.Nt().next((function(e){var n=o.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return er.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=r.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)i=n[t],this.Qe.removeItem(this.on(i.clientId));r.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?er.resolve(!0):fi(e).get(Rn.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new c(s.FAILED_PRECONDITION,ci);return!1}}return!(!t.networkEnabled||!t.inForeground)||hi(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&h("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return Object(r.b)(this,void 0,void 0,(function(){var e=this;return Object(r.d)(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Rn.store,Wn.store],(function(t){var n=new lr(t,u.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return hi(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return Mr.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;h("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,Xn,(function(o){return i=new lr(o,r.Ne?r.Ne.next():u.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw d("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new c(s.FAILED_PRECONDITION,Yn);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return fi(e).get(Rn.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new c(s.FAILED_PRECONDITION,ci)}))},e.prototype.Ze=function(e){var t=new Rn(this.clientId,this.allowTabSynchronization,Date.now());return fi(e).put(Rn.key,t)},e.yt=function(){return nr.yt()},e.prototype.Xe=function(e){var t=this,n=fi(e);return n.get(Rn.key).next((function(e){return t.tn(e)?(h("IndexedDbPersistence","Releasing primary lease."),n.delete(Rn.key)):er.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(d("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),Object(i.q)()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return h("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return d("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){d("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function fi(e){return fr(e,Rn.store)}function hi(e){return fr(e,Wn.store)}function di(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var pi=function(e,t){this.progress=e,this.wn=t},vi=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return K.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):je(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new K(t)).next((function(e){var t=Rt();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=Rt();return this.Ut.getCollectionParents(e,i).next((function(a){return er.forEach(a,(function(a){var u=function(e,t){return new ke(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,u,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,u=o.mutations;a<u.length;a++){var s=u[a],c=s.key,l=r.get(c);null==l&&(l=ae.newInvalidDocument(c),r=r.insert(c,l)),ft(s,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){qe(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=Ut(),i=0,o=t;i<o.length;i++)for(var a=0,u=o[i].mutations;a<u.length;a++){var s=u[a];s instanceof gt&&null===n.get(s.key)&&(r=r.add(s.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),gi=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=Ut(),i=Ut(),o=0,a=n.docChanges;o<a.length;o++){var u=a[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),yi=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(O.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(a){var u=i.Cn(t,a);return(Ne(t)||xe(t))&&i.Nn(t.limitType,u,r,n)?i.Dn(e,t):(f()<=o.a.DEBUG&&h("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ve(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return u.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new Nt(Be(e));return t.forEach((function(t,r){qe(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return f()<=o.a.DEBUG&&h("QueryEngine","Using full collection scan to execute query:",Ve(t)),this.Sn.getDocumentsMatchingQuery(e,t,O.min())},e}(),mi=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new kt(E),this.Fn=new ei((function(e){return ce(e)}),le),this.$n=O.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new vi(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.kn)}))},e}();function bi(e,t,n,r){return new mi(e,t,n,r)}function wi(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=m(e),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var r;return n._n.getAllMutationBatches(e).next((function(a){return r=a,i=n.persistence.getMutationQueue(t),o=new vi(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(t){for(var n=[],i=[],a=Ut(),u=0,s=r;u<s.length;u++){var c=s[u];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var d=0,p=t;d<p.length;d++){var v=p[d];i.push(v.batchId);for(var g=0,y=v.mutations;g<y.length;g++){var m=y[g];a=a.add(m.key)}}return o.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:i}}))}))}))];case 1:return a=r.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),a)]}}))}))}function Ei(e,t){var n=m(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=er.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);y(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function Ti(e){var t=m(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function Si(e,t){var n=m(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach((function(t,o){var u=i.get(o);if(u){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var s=t.resumeToken;if(s.approximateByteSize()>0){var c=u.withResumeToken(s,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return y(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(u,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var u=Pt();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Ii(e,o,t.documentUpdates,r,void 0).next((function(e){u=e}))),!r.isEqual(O.min())){var s=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(s)}return er.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,u)})).next((function(){return u}))})).then((function(e){return n.kn=i,e}))}function Ii(e,t,n,r,i){var o=Ut();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=Pt();return n.forEach((function(n,a){var u=e.get(n),s=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(O.min())?(t.removeEntry(n,s),o=o.insert(n,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||0===a.version.compareTo(u.version)&&u.hasPendingWrites?(t.addEntry(a,s),o=o.insert(n,a)):h("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",a.version)})),o}))}function Oi(e,t){var n=m(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function _i(e,t){var n=m(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,er.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new pr(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.kn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(e.targetId,e),n.Fn.set(t,e.targetId)),e}))}function ki(e,t,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,a,u;return Object(r.d)(this,(function(r){switch(r.label){case 0:i=m(e),o=i.kn.get(t),a=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",a,(function(e){return i.persistence.referenceDelegate.removeTarget(e,o)}))];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!or(u=r.sent()))throw u;return h("LocalStore","Failed to update sequence numbers for target "+t+": "+u),[3,5];case 5:return i.kn=i.kn.remove(t),i.Fn.delete(o.target),[2]}}))}))}function Ci(e,t,n){var r=m(e),i=O.min(),o=Ut();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=m(e),i=r.Fn.get(n);return void 0!==i?er.resolve(r.kn.get(i)):r.qe.getTargetData(t,n)}(r,e,Le(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:O.min(),n?o:Ut())})).next((function(e){return{documents:e,Bn:o}}))}))}function Ai(e,t){var n=m(e),r=m(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function Ni(e){var t=m(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=m(e),i=Pt(),o=mr(n),a=oi(t),u=IDBKeyRange.lowerBound(o,!0);return a.$t({index:qn.readTimeIndex,range:u},(function(e,t){var n=gr(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:br(o)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function xi(e){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(n){return[2,(t=m(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=oi(e),n=O.min();return t.$t({index:qn.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=br(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function Di(e,t,n,i){return Object(r.b)(this,void 0,void 0,(function(){var o,a,u,s,c,l,f,h,d,p;return Object(r.d)(this,(function(r){switch(r.label){case 0:for(o=m(e),a=Ut(),u=Pt(),s=Mt(),c=0,l=n;c<l.length;c++)f=l[c],h=t.qn(f.metadata.name),f.document&&(a=a.add(h)),u=u.insert(h,t.Un(f)),s=s.insert(h,t.Kn(f.metadata.readTime));return d=o.On.newChangeBuffer({trackRemovals:!0}),[4,_i(o,function(e){return Le(Ae(N.fromString("__bundle__/docs/"+e)))}(i))];case 1:return p=r.sent(),[2,o.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Ii(e,d,u,O.min(),s).next((function(t){return d.apply(e),t})).next((function(t){return o.qe.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return o.qe.addMatchingKeys(e,a,p.targetId)})).next((function(){return o.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function Pi(e,t,n){return void 0===n&&(n=Ut()),Object(r.b)(this,void 0,void 0,(function(){var i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,_i(e,Le(Or(t.bundledQuery)))];case 1:return i=r.sent(),[2,(o=m(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var r=rn(t.readTime);if(i.snapshotVersion.compareTo(r)>=0)return o.Ke.saveNamedQuery(e,t);var a=i.withResumeToken(j.EMPTY_BYTE_STRING,r);return o.kn=o.kn.insert(a.targetId,a),o.qe.updateTargetData(e,a).next((function(){return o.qe.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return o.qe.addMatchingKeys(e,n,i.targetId)})).next((function(){return o.Ke.saveNamedQuery(e,t)}))}))]}}))}))}var ji=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return er.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:rn(n.createTime)}),er.resolve()},e.prototype.getNamedQuery=function(e,t){return er.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Or(e.bundledQuery),readTime:rn(e.readTime)}}(t)),er.resolve()},e}(),Ri=function(){function e(){this.Wn=new Nt(Li.Gn),this.zn=new Nt(Li.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new Li(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new Li(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new K(new N([])),r=new Li(n,e),i=new Li(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new K(new N([])),n=new Li(t,e),r=new Li(t,e+1),i=Ut();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new Li(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),Li=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return K.comparator(e.key,t.key)||E(e.ns,t.ns)},e.Hn=function(e,t){return E(e.ns,t.ns)||K.comparator(e.key,t.key)},e}(),Mi=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new Nt(Li.Gn)}return e.prototype.checkEmpty=function(e){return er.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new hr(i,t,n,r);this._n.push(o);for(var a=0,u=r;a<u.length;a++){var s=u[a];this.rs=this.rs.add(new Li(s.key,i)),this.Ut.addToCollectionParentIndex(e,s.key.path.popLast())}return er.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return er.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return er.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return er.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return er.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Li(t,0),i=new Li(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),er.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Nt(E);return t.forEach((function(e){var t=new Li(e,0),i=new Li(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),er.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;K.isDocumentKey(i)||(i=i.child(""));var o=new Li(new K(i),0),a=new Nt(E);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),er.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;y(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return er.forEach(t.mutations,(function(i){var o=new Li(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new Li(t,0),r=this.rs.firstAfterOrEqual(n);return er.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,er.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),Fi=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new kt(K.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return er.resolve(n?n.document.clone():ae.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=Pt();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():ae.newInvalidDocument(e))})),er.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=Pt(),i=new K(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),u=a.key,s=a.value,c=s.document,l=s.readTime;if(!t.path.isPrefixOf(u.path))break;l.compareTo(n)<=0||qe(t,c)&&(r=r.insert(c.key,c.clone()))}return er.resolve(r)},e.prototype.fs=function(e,t){return er.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new Ui(this)},e.prototype.getSize=function(e){return er.resolve(this.size)},e}(),Ui=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return Object(r.c)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),er.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(ti),Vi=function(){function e(e){this.persistence=e,this.ds=new ei((function(e){return ce(e)}),le),this.lastRemoteSnapshotVersion=O.min(),this.highestTargetId=0,this.ws=0,this._s=new Ri,this.targetCount=0,this.ys=Br.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),er.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return er.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return er.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),er.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),er.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new Br(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,er.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),er.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,er.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),er.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return er.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return er.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),er.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),er.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),er.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return er.resolve(n)},e.prototype.containsKey=function(e,t){return er.resolve(this._s.containsKey(t))},e}(),qi=function(){function e(e,t){var n=this;this.gs={},this.Ne=new u(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Vi(this),this.Ut=new Ar,this.Ue=function(e,t){return new Fi(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new vr(t),this.Ke=new ji(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new Mi(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;h("MemoryPersistence","Starting transaction:",e);var i=new Bi(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return er.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),Bi=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return Object(r.c)(t,e),t}(Jn),zi=function(){function e(e){this.persistence=e,this.As=new Ri,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw g()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),er.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),er.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),er.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return er.forEach(this.vs,(function(r){var i=K.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return er.or([function(){return er.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),Ki=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function Hi(e,t){return"firestore_clients_"+e+"_"+t}function Gi(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Wi(e,t){return"firestore_targets_"+e+"_"+t}Ki.UNAUTHENTICATED=new Ki(null),Ki.GOOGLE_CREDENTIALS=new Ki("google-credentials-uid"),Ki.FIRST_PARTY=new Ki("first-party-uid"),Ki.MOCK_USER=new Ki("mock-user");var Qi=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new c(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(d("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),$i=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new c(i.error.code,i.error.message)),o?new e(t,i.state,r):(d("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Xi=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=qt(),a=0;i&&a<r.activeTargetIds.length;++a)i=z(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(d("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Yi=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(d("SharedClientState","Failed to parse online state: "+t),null)},e}(),Ji=function(){function e(){this.activeTargetIds=qt()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Zi=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new kt(E),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Hi(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Ji),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,t,n,i,o,a,u,s,c,l,f,h=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=r.sent(),t=0,n=e;t<n.length;t++)(i=n[t])!==this.Ns&&(o=this.getItem(Hi(this.persistenceKey,i)))&&(a=Xi.Vs(i,o))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(u=this.storage.getItem(this.Us))&&(s=this.js(u))&&this.Ws(s),c=0,l=this.$s;c<l.length;c++)f=l[c],this.ks(f);return this.$s=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Wi(this.persistenceKey,e));if(n){var r=$i.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(Wi(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return h("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){h("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){h("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(h("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void d("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Object(r.b)(t,void 0,void 0,(function(){var e,t,i,o,a,s;return Object(r.d)(this,(function(r){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(i=this.si(n.key,n.newValue)))return[2,this.ii(i)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(o=this.ri(n.key,n.newValue)))return[2,this.oi(o)]}else if(n.key===this.Us){if(null!==n.newValue&&(a=this.js(n.newValue)))return[2,this.Ws(a)]}else if(n.key===this.Ms)(s=function(e){var t=u.o;if(null!=e)try{var n=JSON.parse(e);y("number"==typeof n),t=n}catch(e){d("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==u.o&&this.sequenceNumberHandler(s);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new Qi(this.currentUser,e,t,n),i=Gi(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=Gi(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=Wi(this.persistenceKey,e),i=new $i(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return Xi.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Qi.Vs(new Ki(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return $i.Vs(r,t)},e.prototype.js=function(e){return Yi.Vs(e)},e.prototype.ii=function(e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(h("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),i=this.Gs(this.Fs),o=this.Gs(r),a=[],u=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||u.push(e)})),this.syncEngine.hi(a,u).then((function(){n.Fs=r}))},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=qt();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),eo=function(){function e(){this.li=new Ji,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new Ji,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),to=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),no=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){h("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){h("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),ro={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},io=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),oo=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return Object(r.c)(t,e),t.prototype.Fi=function(e,t,n,r){return new Promise((function(i,o){var u=new a.g;u.listenOnce(a.c.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case a.a.NO_ERROR:var t=u.getResponseJson();h("Connection","XHR received:",JSON.stringify(t)),i(t);break;case a.a.TIMEOUT:h("Connection",'RPC "'+e+'" timed out'),o(new c(s.DEADLINE_EXCEEDED,"Request time out"));break;case a.a.HTTP_ERROR:var n=u.getStatus();if(h("Connection",'RPC "'+e+'" failed with status:',n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson().error;if(r&&r.status&&r.message){var l=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(s).indexOf(t)>=0?t:s.UNKNOWN}(r.status);o(new c(l,r.message))}else o(new c(s.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new c(s.UNAVAILABLE,"Connection failed."));break;default:g()}}finally{h("Connection",'RPC "'+e+'" completed.')}}));var l=JSON.stringify(r);u.send(t,"POST",l,n,15)}))},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Object(a.h)(),o=Object(a.i)(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new a.d({})),this.ki(u.initMessageHeaders,t),Object(i.n)()||Object(i.p)()||Object(i.l)()||Object(i.m)()||Object(i.r)()||Object(i.k)()||(u.httpHeadersOverwriteParam="$httpHeaders");var l=n.join("");h("Connection","Creating WebChannel: "+l,u);var f=r.createWebChannel(l,u),d=!1,v=!1,g=new io({Ei:function(e){v?h("Connection","Not sending because WebChannel is closed:",e):(d||(h("Connection","Opening WebChannel transport."),f.open(),d=!0),h("Connection","WebChannel sending:",e),f.send(e))},Ti:function(){return f.close()}}),m=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return m(f,a.f.EventType.OPEN,(function(){v||h("Connection","WebChannel transport opened.")})),m(f,a.f.EventType.CLOSE,(function(){v||(v=!0,h("Connection","WebChannel transport closed"),g.Vi())})),m(f,a.f.EventType.ERROR,(function(e){v||(v=!0,p("Connection","WebChannel transport errored:",e),g.Vi(new c(s.UNAVAILABLE,"The operation could not be completed")))})),m(f,a.f.EventType.MESSAGE,(function(e){var t;if(!v){var n=e.data[0];y(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){h("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=wt[e];if(void 0!==t)return _t(t)}(o),u=i.message;void 0===a&&(a=s.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),v=!0,g.Vi(new c(a,u)),f.close()}else h("Connection","WebChannel received:",n),g.Si(n)}})),m(o,a.b.STAT_EVENT,(function(e){e.stat===a.e.PROXY?h("Connection","Detected buffering proxy"):e.stat===a.e.NOPROXY&&h("Connection","Detected no buffering proxy")})),setTimeout((function(){g.Pi()}),0),g},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);h("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(e,i,o,n).then((function(e){return h("RestConnection","Received: ",e),e}),(function(t){throw p("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=ro[e];return this.Di+"/v1/"+t+":"+n},e}());function ao(){return"undefined"!=typeof window?window:null}function uo(){return"undefined"!=typeof document?document:null}function so(e){return new Zt(e,!0)}var co=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&h("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),lo=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new co(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===s.RESOURCE_EXHAUSTED?(d(t.toString()),d("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===s.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new c(s.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return h("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(h("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),fo=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return Object(r.c)(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:g()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(y(void 0===t||"string"==typeof t),j.fromBase64String(t||"")):(y(void 0===t||t instanceof Uint8Array),j.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(u=t.targetChange.cause)&&function(e){var t=void 0===e.code?s.UNKNOWN:_t(e.code);return new c(t,e.message||"")}(u);n=new Gt(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=sn(e,r.document.name),o=rn(r.document.updateTime);var u=new ie({mapValue:{fields:r.document.fields}}),l=(a=ae.newFoundDocument(i,o,u),r.targetIds||[]),f=r.removedTargetIds||[];n=new Kt(l,f,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=sn(e,r.document),o=r.readTime?rn(r.readTime):O.min(),u=ae.newNoDocument(i,o),a=r.removedTargetIds||[],n=new Kt([],a,u.key,u);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=sn(e,r.document),o=r.removedTargetIds||[],n=new Kt([],o,i,null);else{if(!("filter"in t))return g();t.filter;var h=t.filter;h.targetId,r=h.count||0,i=new It(r),o=h.targetId,n=new Ht(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return O.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?O.min():t.readTime?rn(t.readTime):O.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=fn(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=fe(r)?{documents:yn(e,r)}:{query:mn(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=tn(e,t.resumeToken):t.snapshotVersion.compareTo(O.min())>0&&(n.readTime=en(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return g()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=fn(this.R),t.removeTarget=e,this.cr(t)},t}(lo),ho=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return Object(r.c)(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(y(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(y(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?rn(e.updateTime):rn(t);return n.isEqual(O.min())&&(n=rn(t)),new at(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=rn(e.commitTime);return this.listener.Tr(n,t)}return y(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=fn(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return vn(t.R,e)}))};this.cr(n)},t}(lo),po=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(r.c)(t,e),t.prototype.br=function(){if(this.Rr)throw new c(s.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===s.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new c(s.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===s.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new c(s.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),vo=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(d(t),this.Vr=!1):h("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),go=function(e,t,n,i,o){var a=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di((function(e){n.enqueueAndForget((function(){return Object(r.b)(a,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return Oo(this)?(h("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(n){switch(n.label){case 0:return(t=m(e)).Or.add(4),[4,mo(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,yo(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new vo(n,i)};function yo(e){return Object(r.b)(this,void 0,void 0,(function(){var t,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:if(!Oo(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function mo(e){return Object(r.b)(this,void 0,void 0,(function(){var t,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function bo(e,t){var n=m(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Io(n)?So(n):Vo(n).er()&&Eo(n,t))}function wo(e,t){var n=m(e),r=Vo(n);n.$r.delete(t),r.er()&&To(n,t),0===n.$r.size&&(r.er()?r.ir():Oo(n)&&n.Br.set("Unknown"))}function Eo(e,t){e.qr.U(t.targetId),Vo(e).mr(t)}function To(e,t){e.qr.U(t),Vo(e).yr(t)}function So(e){e.qr=new Qt({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Vo(e).start(),e.Br.Sr()}function Io(e){return Oo(e)&&!Vo(e).tr()&&e.$r.size>0}function Oo(e){return 0===m(e).Or.size}function _o(e){e.qr=void 0}function ko(e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){return e.$r.forEach((function(t,n){Eo(e,t)})),[2]}))}))}function Co(e,t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){return _o(e),Io(e)?(e.Br.Nr(t),So(e)):e.Br.set("Unknown"),[2]}))}))}function Ao(e,t,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,a;return Object(r.d)(this,(function(u){switch(u.label){case 0:if(e.Br.set("Online"),!(t instanceof Gt&&2===t.state&&t.cause))return[3,6];u.label=1;case 1:return u.trys.push([1,3,,5]),[4,function(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=t.cause,i=0,o=t.targetIds,r.label=1;case 1:return i<o.length?(a=o[i],e.$r.has(a)?[4,e.remoteSyncer.rejectListen(a,n)]:[3,3]):[3,5];case 2:r.sent(),e.$r.delete(a),e.qr.removeTarget(a),r.label=3;case 3:r.label=4;case 4:return i++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return u.sent(),[3,5];case 3:return i=u.sent(),h("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),[4,No(e,i)];case 4:return u.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Kt?e.qr.X(t):t instanceof Ht?e.qr.rt(t):e.qr.et(t),n.isEqual(O.min()))return[3,13];u.label=7;case 7:return u.trys.push([7,11,,13]),[4,Ti(e.localStore)];case 8:return o=u.sent(),n.compareTo(o)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(j.EMPTY_BYTE_STRING,n.snapshotVersion)),To(e,t);var r=new pr(n.target,t,1,n.sequenceNumber);Eo(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:u.sent(),u.label=10;case 10:return[3,13];case 11:return h("RemoteStore","Failed to raise snapshot:",a=u.sent()),[4,No(e,a)];case 12:return u.sent(),[3,13];case 13:return[2]}}))}))}function No(e,t,n){return Object(r.b)(this,void 0,void 0,(function(){var i=this;return Object(r.d)(this,(function(o){switch(o.label){case 0:if(!or(t))throw t;return e.Or.add(1),[4,mo(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return Ti(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return Object(r.b)(i,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return h("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,yo(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function xo(e,t){return t().catch((function(n){return No(e,n,t)}))}function Do(e){return Object(r.b)(this,void 0,void 0,(function(){var t,n,i,o,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:t=m(e),n=qo(t),i=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,r.label=1;case 1:if(!function(e){return Oo(e)&&e.Fr.length<10}(t))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,Oi(t.localStore,i)];case 3:return null===(o=r.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(i=o.batchId,function(e,t){e.Fr.push(t);var n=qo(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,o),[3,6]);case 4:return a=r.sent(),[4,No(t,a)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return Po(t)&&jo(t),[2]}}))}))}function Po(e){return Oo(e)&&!qo(e).tr()&&e.Fr.length>0}function jo(e){qo(e).start()}function Ro(e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){return qo(e).Ar(),[2]}))}))}function Lo(e){return Object(r.b)(this,void 0,void 0,(function(){var t,n,i,o;return Object(r.d)(this,(function(r){for(t=qo(e),n=0,i=e.Fr;n<i.length;n++)o=i[n],t.Er(o.mutations);return[2]}))}))}function Mo(e,t,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return i=e.Fr.shift(),o=dr.from(i,t,n),[4,xo(e,(function(){return e.remoteSyncer.applySuccessfulWrite(o)}))];case 1:return r.sent(),[4,Do(e)];case 2:return r.sent(),[2]}}))}))}function Fo(e,t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){switch(n.label){case 0:return t&&qo(e).pr?[4,function(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return Ot(i=t.code)&&i!==s.ABORTED?(n=e.Fr.shift(),qo(e).sr(),[4,xo(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return r.sent(),[4,Do(e)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Po(e)&&jo(e),[2]}}))}))}function Uo(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=m(e),t?(n.Or.delete(2),[4,yo(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,mo(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Vo(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=m(e);return r.br(),new fo(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:ko.bind(null,e),Ri:Co.bind(null,e),_r:Ao.bind(null,e)}),e.Mr.push((function(n){return Object(r.b)(t,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),Io(e)?So(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),_o(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function qo(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=m(e);return r.br(),new ho(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Ro.bind(null,e),Ri:Fo.bind(null,e),Ir:Lo.bind(null,e),Tr:Mo.bind(null,e)}),e.Mr.push((function(n){return Object(r.b)(t,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,Do(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.Fr.length>0&&(h("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr}var Bo=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Zn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new c(s.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function zo(e,t){if(d("AsyncQueue",t+": "+e),or(e))return new c(s.UNAVAILABLE,t+": "+e);throw e}var Ko=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||K.comparator(t.key,n.key)}:function(e,t){return K.comparator(e.key,t.key)},this.keyedMap=Rt(),this.sortedSet=new kt(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Ho=function(){function e(){this.Qr=new kt(K.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):g():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),Go=function(){function e(e,t,n,r,i,o,a,u){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Ko.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fe(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Wo=function(){this.Wr=void 0,this.listeners=[]},Qo=function(){this.queries=new ei((function(e){return Ue(e)}),Fe),this.onlineState="Unknown",this.Gr=new Set};function $o(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,a,u,s,c;return Object(r.d)(this,(function(r){switch(r.label){case 0:if(n=m(e),i=t.query,o=!1,(a=n.queries.get(i))||(o=!0,a=new Wo),!o)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),u=a,[4,n.onListen(i)];case 2:return u.Wr=r.sent(),[3,4];case 3:return s=r.sent(),c=zo(s,"Initialization of query '"+Ve(t.query)+"' failed"),[2,void t.onError(c)];case 4:return n.queries.set(i,a),a.listeners.push(t),t.zr(n.onlineState),a.Wr&&t.Hr(a.Wr)&&Zo(n),[2]}}))}))}function Xo(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,a,u;return Object(r.d)(this,(function(r){return n=m(e),i=t.query,o=!1,(a=n.queries.get(i))&&(u=a.listeners.indexOf(t))>=0&&(a.listeners.splice(u,1),o=0===a.listeners.length),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]}))}))}function Yo(e,t){for(var n=m(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],u=a.query,s=n.queries.get(u);if(s){for(var c=0,l=s.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);s.Wr=a}}r&&Zo(n)}function Jo(e,t,n){var r=m(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function Zo(e){e.Gr.forEach((function(e){e.next()}))}var ea=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new Go(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=Go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),ta=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),na=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return sn(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?pn(this.R,e.document,!1):ae.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return rn(e)},e}();!function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=ra(e)}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new na(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),u=0,s=o.metadata.queries;u<s.length;u++){var c=s[u],l=(t.get(c)||Ut()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,t,n,i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,Di(this.localStore,new na(this.R),this.documents,this.ro.id)];case 1:e=r.sent(),t=this.co(this.documents),n=0,i=this.queries,r.label=2;case 2:return n<i.length?(o=i[n],[4,Pi(this.localStore,o,t.get(o.name))]):[3,5];case 3:r.sent(),r.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new pi(Object.assign({},this.progress),e))]}}))}))}}();function ra(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var ia=function(e){this.key=e},oa=function(e){this.key=e},aa=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=Ut(),this.mutatedKeys=Ut(),this.lo=Be(e),this.fo=new Ko(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new Ho,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,u=!1,s=Ne(this.query)&&i.size===this.query.limit?i.last():null,c=xe(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=qe(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.yo(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.lo(f,s)>0||c&&n.lo(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(a=a.add(f),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),Ne(this.query)||xe(this.query))for(;a.size>this.query.limit;){var l=Ne(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:u,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return g()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],u=0===this.ho.size&&this.current?1:0,s=u!==this.ao;return this.ao=u,0!==o.length||s?{snapshot:new Go(this.query,e.fo,i,o,e.mutatedKeys,0===u,s,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Ho,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=Ut(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new oa(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new ia(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Ut();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return Go.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),ua=function(e,t,n){this.query=e,this.targetId=t,this.view=n},sa=function(e){this.key=e,this.bo=!1},ca=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new ei((function(e){return Ue(e)}),Fe),this.Vo=new Map,this.So=new Set,this.Do=new kt(K.comparator),this.Co=new Map,this.No=new Ri,this.xo={},this.ko=new Map,this.Fo=Br.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function la(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,a,u,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=Ua(e),(a=n.Po.get(t))?(i=a.targetId,n.sharedClientState.addLocalQueryTarget(i),o=a.view.Ro(),[3,4]):[3,1];case 1:return[4,_i(n.localStore,Le(t))];case 2:return u=r.sent(),s=n.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,[4,fa(n,t,i,"current"===s)];case 3:o=r.sent(),n.isPrimaryClient&&bo(n.remoteStore,u),r.label=4;case 4:return[2,o]}}))}))}function fa(e,t,n,i){return Object(r.b)(this,void 0,void 0,(function(){var o,a,u,s,c,l;return Object(r.d)(this,(function(f){switch(f.label){case 0:return e.Oo=function(t,n,i){return function(e,t,n,i){return Object(r.b)(this,void 0,void 0,(function(){var o,a,u;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(o=t.view._o(n)).Nn?[4,Ci(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,o)}))]:[3,2];case 1:o=r.sent(),r.label=2;case 2:return a=i&&i.targetChanges.get(t.targetId),u=t.view.applyChanges(o,e.isPrimaryClient,a),[2,(Ia(e,t.targetId,u.To),u.snapshot)]}}))}))}(e,t,n,i)},[4,Ci(e.localStore,t,!0)];case 1:return o=f.sent(),a=new aa(t,o.Bn),u=a._o(o.documents),s=zt.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==e.onlineState),c=a.applyChanges(u,e.isPrimaryClient,s),Ia(e,n,c.To),l=new ua(t,n,a),[2,(e.Po.set(t,l),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),c.snapshot)]}}))}))}function ha(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=m(e),i=n.Po.get(t),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter((function(e){return!Fe(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,ki(n.localStore,i.targetId,!1).then((function(){n.sharedClientState.clearQueryState(i.targetId),wo(n.remoteStore,i.targetId),Ta(n,i.targetId)})).catch(Wr)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return Ta(n,i.targetId),[4,ki(n.localStore,i.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))}function da(e,t,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,a,u;return Object(r.d)(this,(function(r){switch(r.label){case 0:i=Va(e),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(e,t){var n,r=m(e),i=I.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Ut());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],u=0,s=t;u<s.length;u++){var c=s[u],l=ht(c,n.get(c.key));null!=l&&a.push(new gt(c.key,l,oe(l.value.mapValue),ut.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,t)];case 2:return o=r.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new kt(E)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(i,o.batchId,n),[4,ka(i,o.changes)];case 3:return r.sent(),[4,Do(i.remoteStore)];case 4:return r.sent(),[3,6];case 5:return a=r.sent(),u=zo(a,"Failed to persist write"),n.reject(u),[3,6];case 6:return[2]}}))}))}function pa(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=m(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Si(n.localStore,t)];case 2:return i=r.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(y(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?y(r.bo):e.removedDocuments.size>0&&(y(r.bo),r.bo=!1))})),[4,ka(n,i,t)];case 3:return r.sent(),[3,6];case 4:return[4,Wr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function va(e,t,n){var r=m(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=m(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&Zo(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ga(e,t,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,a,u,s,c;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(i=m(e)).sharedClientState.updateQueryState(t,"rejected",n),o=i.Co.get(t),(a=o&&o.key)?(u=(u=new kt(K.comparator)).insert(a,ae.newNoDocument(a,O.min())),s=Ut().add(a),c=new Bt(O.min(),new Map,new Nt(E),u,s),[4,pa(i,c)]):[3,2];case 1:return r.sent(),i.Do=i.Do.remove(a),i.Co.delete(t),_a(i),[3,4];case 2:return[4,ki(i.localStore,t,!1).then((function(){return Ta(i,t,n)})).catch(Wr)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))}function ya(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=m(e),i=t.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Ei(n.localStore,t)];case 2:return o=r.sent(),Ea(n,i,null),wa(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,ka(n,o)];case 3:return r.sent(),[3,6];case 4:return[4,Wr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function ma(e,t,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:i=m(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(e,t){var n=m(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return y(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(i.localStore,t)];case 2:return o=r.sent(),Ea(i,t,n),wa(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),[4,ka(i,o)];case 3:return r.sent(),[3,6];case 4:return[4,Wr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function ba(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,a,u;return Object(r.d)(this,(function(r){switch(r.label){case 0:Oo((n=m(e)).remoteStore)||h("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(e){var t=m(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(i=r.sent())?[2,void t.resolve()]:((o=n.ko.get(i)||[]).push(t),n.ko.set(i,o),[3,4]);case 3:return a=r.sent(),u=zo(a,"Initialization of waitForPendingWrites() operation failed"),t.reject(u),[3,4];case 4:return[2]}}))}))}function wa(e,t){(e.ko.get(t)||[]).forEach((function(e){e.resolve()})),e.ko.delete(t)}function Ea(e,t,n){var r=m(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Ta(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||Sa(e,t)}))}function Sa(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(wo(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),_a(e))}function Ia(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof ia?(e.No.addReference(o.key,t),Oa(e,o)):o instanceof oa?(h("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||Sa(e,o.key)):g()}}function Oa(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(h("SyncEngine","New document in limbo: "+n),e.So.add(r),_a(e))}function _a(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new K(N.fromString(t)),r=e.Fo.next();e.Co.set(r,new sa(n)),e.Do=e.Do.insert(n,r),bo(e.remoteStore,new pr(Le(Ae(n.path)),r,2,u.o))}}function ka(e,t,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,a,u;return Object(r.d)(this,(function(s){switch(s.label){case 0:return i=m(e),o=[],a=[],u=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach((function(e,r){u.push(i.Oo(r,t,n).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(r.targetId,e.fromCache?"not-current":"current"),o.push(e);var t=gi.Pn(r.targetId,e);a.push(t)}})))})),[4,Promise.all(u)]);case 1:return s.sent(),i.vo._r(o),[4,function(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,a,u,s,c,l,f;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=m(e),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return er.forEach(t,(function(t){return er.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return er.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return r.sent(),[3,4];case 3:if(!or(i=r.sent()))throw i;return h("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(o=0,a=t;o<a.length;o++)u=a[o],s=u.targetId,u.fromCache||(c=n.kn.get(s),l=c.snapshotVersion,f=c.withLastLimboFreeSnapshotVersion(l),n.kn=n.kn.insert(s,f));return[2]}}))}))}(i.localStore,a)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function Ca(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(n=m(e)).currentUser.isEqual(t)?[3,3]:(h("SyncEngine","User change. New user:",t.toKey()),[4,wi(n.localStore,t)]);case 1:return i=r.sent(),n.currentUser=t,function(e,t){e.ko.forEach((function(e){e.forEach((function(e){e.reject(new c(s.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ko.clear()}(n),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),[4,ka(n,i.Ln)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}function Aa(e,t){var n=m(e),r=n.Co.get(t);if(r&&r.bo)return Ut().add(r.key);var i=Ut(),o=n.Vo.get(t);if(!o)return i;for(var a=0,u=o;a<u.length;a++){var s=u[a],c=n.Po.get(s);i=i.unionWith(c.view.wo)}return i}function Na(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,Ci((n=m(e)).localStore,t.query,!0)];case 1:return i=r.sent(),o=t.view.Ao(i),[2,(n.isPrimaryClient&&Ia(n,t.targetId,o.To),o)]}}))}))}function xa(e){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(n){return[2,Ni((t=m(e)).localStore).then((function(e){return ka(t,e)}))]}))}))}function Da(e,t,n,i){return Object(r.b)(this,void 0,void 0,(function(){var o,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,function(e,t){var n=m(e),r=m(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):er.resolve(null)}))}))}((o=m(e)).localStore,t)];case 1:return null===(a=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,Do(o.remoteStore)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Ea(o,t,i||null),wa(o,t),function(e,t){m(m(e)._n).Gt(t)}(o.localStore,t)):g(),r.label=4;case 4:return[4,ka(o,a)];case 5:return r.sent(),[3,7];case 6:h("SyncEngine","Cannot apply mutation batch with id: "+t),r.label=7;case 7:return[2]}}))}))}function Pa(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,a,u,s,c,l;return Object(r.d)(this,(function(r){switch(r.label){case 0:return Ua(n=m(e)),Va(n),!0!==t||!0===n.$o?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,ja(n,i.toArray())]);case 1:return o=r.sent(),n.$o=!0,[4,Uo(n.remoteStore,!0)];case 2:for(r.sent(),a=0,u=o;a<u.length;a++)s=u[a],bo(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(c=[],l=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Ta(n,t),ki(n.localStore,t,!0)})),wo(n.remoteStore,t)})),[4,l]);case 4:return r.sent(),[4,ja(n,c)];case 5:return r.sent(),function(e){var t=m(e);t.Co.forEach((function(e,n){wo(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new kt(K.comparator)}(n),n.$o=!1,[4,Uo(n.remoteStore,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))}function ja(e,t,n){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,a,u,s,c,l,f,h,d,p,v,g;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=m(e),i=[],o=[],a=0,u=t,r.label=1;case 1:return a<u.length?(s=u[a],c=void 0,(l=n.Vo.get(s))&&0!==l.length?[4,_i(n.localStore,Le(l[0]))]:[3,7]):[3,13];case 2:c=r.sent(),f=0,h=l,r.label=3;case 3:return f<h.length?(d=h[f],p=n.Po.get(d),[4,Na(n,p)]):[3,6];case 4:(v=r.sent()).snapshot&&o.push(v.snapshot),r.label=5;case 5:return f++,[3,3];case 6:return[3,11];case 7:return[4,Ai(n.localStore,s)];case 8:return g=r.sent(),[4,_i(n.localStore,g)];case 9:return c=r.sent(),[4,fa(n,Ra(g),s,!1)];case 10:r.sent(),r.label=11;case 11:i.push(c),r.label=12;case 12:return a++,[3,1];case 13:return[2,(n.vo._r(o),i)]}}))}))}function Ra(e){return Ce(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function La(e){var t=m(e);return m(m(t.localStore).persistence).fn()}function Ma(e,t,n,i){return Object(r.b)(this,void 0,void 0,(function(){var o,a,u;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(o=m(e)).$o?(h("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Ni(o.localStore)];case 3:return a=r.sent(),u=Bt.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,ka(o,a,u)];case 4:return r.sent(),[3,8];case 5:return[4,ki(o.localStore,t,!0)];case 6:return r.sent(),Ta(o,t,i),[3,8];case 7:g(),r.label=8;case 8:return[2]}}))}))}function Fa(e,t,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,a,u,s,c,l,f,d,p;return Object(r.d)(this,(function(v){switch(v.label){case 0:if(!(i=Ua(e)).$o)return[3,10];o=0,a=t,v.label=1;case 1:return o<a.length?(u=a[o],i.Vo.has(u)?(h("SyncEngine","Adding an already active target "+u),[3,5]):[4,Ai(i.localStore,u)]):[3,6];case 2:return s=v.sent(),[4,_i(i.localStore,s)];case 3:return c=v.sent(),[4,fa(i,Ra(s),c.targetId,!1)];case 4:v.sent(),bo(i.remoteStore,c),v.label=5;case 5:return o++,[3,1];case 6:l=function(e){return Object(r.d)(this,(function(t){switch(t.label){case 0:return i.Vo.has(e)?[4,ki(i.localStore,e,!1).then((function(){wo(i.remoteStore,e),Ta(i,e)})).catch(Wr)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},f=0,d=n,v.label=7;case 7:return f<d.length?(p=d[f],[5,l(p)]):[3,10];case 8:v.sent(),v.label=9;case 9:return f++,[3,7];case 10:return[2]}}))}))}function Ua(e){var t=m(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=pa.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Aa.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ga.bind(null,t),t.vo._r=Yo.bind(null,t.eventManager),t.vo.Mo=Jo.bind(null,t.eventManager),t}function Va(e){var t=m(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ya.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ma.bind(null,t),t}var qa=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return this.R=so(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return bi(this.persistence,new yi,e.initialUser,this.R)},e.prototype.qo=function(e){return new qi(zi.bs,this.R)},e.prototype.Bo=function(e){return new eo},e.prototype.terminate=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),Ba=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(r.c)(t,e),t.prototype.initialize=function(t){return Object(r.b)(this,void 0,void 0,(function(){var n=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,xi(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,t)];case 3:return r.sent(),[4,Va(this.Qo.syncEngine)];case 4:return r.sent(),[4,Do(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},t.prototype.Ko=function(e){return bi(this.persistence,new yi,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Xr(t,e.asyncQueue)},t.prototype.qo=function(e){var t=di(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?jr.withCacheSize(this.cacheSizeBytes):jr.DEFAULT;return new li(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,ao(),uo(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new eo},t}(qa),za=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(r.c)(t,e),t.prototype.initialize=function(t){return Object(r.b)(this,void 0,void 0,(function(){var n,i=this;return Object(r.d)(this,(function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return o.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Zi?(this.sharedClientState.syncEngine={ui:Da.bind(null,n),ai:Ma.bind(null,n),hi:Fa.bind(null,n),fn:La.bind(null,n),ci:xa.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He((function(e){return Object(r.b)(i,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return[4,Pa(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return o.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=ao();if(!Zi.yt(t))throw new c(s.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=di(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Zi(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(Ba),Ka=function(){function e(){}return e.prototype.initialize=function(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return va(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ca.bind(null,this.syncEngine),[4,Uo(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new Qo},e.prototype.createDatastore=function(e){var t,n=so(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new oo(t));return function(e,t,n){return new po(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return va(a.syncEngine,e,0)},o=no.yt()?new no:new to,new go(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var u=new ca(e,t,n,r,i,o);return a&&(u.$o=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(n){switch(n.label){case 0:return t=m(e),h("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,mo(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();var Ha=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),Ga=(function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new Zn,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,t,n,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,this.Jo()];case 1:return null===(e=r.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return i=r.sent(),[2,new ta(JSON.parse(i),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,t;return Object(r.d)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,t;return Object(r.d)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return Object(r.b)(this,void 0,void 0,(function(){var t,n=this;return Object(r.d)(this,(function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new c(s.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,a,u,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=m(e),i=fn(n.R)+"/documents",o={documents:t.map((function(e){return un(n.R,e)}))},[4,n.$i("BatchGetDocuments",i,o)];case 1:return a=r.sent(),u=new Map,a.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){y(!!t.found),t.found.name,t.found.updateTime;var n=sn(e,t.found.name),r=rn(t.found.updateTime),i=new ie({mapValue:{fields:t.found.fields}});return ae.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){y(!!t.missing),y(!!t.readTime);var n=sn(e,t.missing),r=rn(t.readTime);return ae.newNoDocument(n,r)}(e,t):g()}(n.R,e);u.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=u.get(e.toString());y(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=i.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Tt(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,t=this;return Object(r.d)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=K.fromPath(n);t.mutations.push(new St(r,t.precondition(r)))})),[4,function(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=m(e),i=fn(n.R)+"/documents",o={writes:t.map((function(e){return vn(n.R,e)}))},[4,n.Ni("Commit",i,o)];case 1:return r.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw g();t=O.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new c(s.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?ut.updateTime(t):ut.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(O.min()))throw new c(s.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ut.updateTime(t)}return ut.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),Wa=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new co(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return Object(r.b)(e,void 0,void 0,(function(){var e,t,n=this;return Object(r.d)(this,(function(r){return e=new Ga(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!q(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Ot(t)}return!1},e}(),Qa=function(){function e(e,t,n){var i=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Ki.UNAUTHENTICATED,this.clientId=w.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return Object(r.b)(i,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return h("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new c(s.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Zn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Object(r.b)(e,void 0,void 0,(function(){var e,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=zo(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function $a(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o=this;return Object(r.d)(this,(function(a){switch(a.label){case 0:return e.asyncQueue.verifyOperationInProgress(),h("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=a.sent(),[4,t.initialize(n)];case 2:return a.sent(),i=n.initialUser,e.setCredentialChangeListener((function(e){return Object(r.b)(o,void 0,void 0,(function(){return Object(r.d)(this,(function(n){switch(n.label){case 0:return i.isEqual(e)?[3,2]:[4,wi(t.localStore,e)];case 1:n.sent(),i=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function Xa(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,i;return Object(r.d)(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Ya(e)];case 1:return n=o.sent(),h("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return i=o.sent(),[4,t.initialize(n,i)];case 3:return o.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(n=m(e)).asyncQueue.verifyOperationInProgress(),h("RemoteStore","RemoteStore received new credentials"),i=Oo(n),n.Or.add(3),[4,mo(n)];case 1:return r.sent(),i&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return r.sent(),n.Or.delete(3),[4,yo(n)];case 3:return r.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function Ya(e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(h("FirestoreClient","Using default OfflineComponentProvider"),[4,$a(e,new qa)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function Ja(e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(h("FirestoreClient","Using default OnlineComponentProvider"),[4,Xa(e,new Ka)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function Za(e){return Ya(e).then((function(e){return e.persistence}))}function eu(e){return Ya(e).then((function(e){return e.localStore}))}function tu(e){return Ja(e).then((function(e){return e.remoteStore}))}function nu(e){return Ja(e).then((function(e){return e.syncEngine}))}function ru(e){return Object(r.b)(this,void 0,void 0,(function(){var t,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,Ja(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=la.bind(null,t.syncEngine),n.onUnlisten=ha.bind(null,t.syncEngine),n)]}}))}))}function iu(e,t,n){var i=this;void 0===n&&(n={});var o=new Zn;return e.asyncQueue.enqueueAndForget((function(){return Object(r.b)(i,void 0,void 0,(function(){var i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return i=function(e,t,n,r,i){var o=new Ha({next:function(o){t.enqueueAndForget((function(){return Xo(e,a)}));var u=o.docs.has(n);!u&&o.fromCache?i.reject(new c(s.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&o.fromCache&&r&&"server"===r.source?i.reject(new c(s.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new ea(Ae(n.path),o,{includeMetadataChanges:!0,so:!0});return $o(e,a)},[4,ru(e)];case 1:return[2,i.apply(void 0,[r.sent(),e.asyncQueue,t,n,o])]}}))}))})),o.promise}function ou(e,t,n){var i=this;void 0===n&&(n={});var o=new Zn;return e.asyncQueue.enqueueAndForget((function(){return Object(r.b)(i,void 0,void 0,(function(){var i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return i=function(e,t,n,r,i){var o=new Ha({next:function(n){t.enqueueAndForget((function(){return Xo(e,a)})),n.fromCache&&"server"===r.source?i.reject(new c(s.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new ea(n,o,{includeMetadataChanges:!0,so:!0});return $o(e,a)},[4,ru(e)];case 1:return[2,i.apply(void 0,[r.sent(),e.asyncQueue,t,n,o])]}}))}))})),o.promise}var au=function(e,t,n,r,i,o,a,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u},uu=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),su=new Map,cu=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},lu=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(Ki.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),fu=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),hu=function(){function e(e){var t=this;this.currentUser=Ki.UNAUTHENTICATED,this.oc=new Zn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){h("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(h("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(h("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(y("string"==typeof n.accessToken),new cu(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return Object(r.b)(n,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return y(null===e||"string"==typeof e),new Ki(e)},e}(),du=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=Ki.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),pu=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new du(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(Ki.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function vu(e,t,n){if(!n)throw new c(s.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function gu(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new c(s.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function yu(e,t,n,r){if(!0===t&&!0===r)throw new c(s.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function mu(e){if(!K.isDocumentKey(e))throw new c(s.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function bu(e){if(K.isDocumentKey(e))throw new c(s.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function wu(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":g()}function Eu(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new c(s.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=wu(e);throw new c(s.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Tu(e,t){if(t<=0)throw new c(s.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var Su=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new c(s.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new c(s.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,yu("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),Iu=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Su({}),this._settingsFrozen=!1,e instanceof uu?(this._databaseId=e,this._credentials=new lu):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new c(s.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(e.options.projectId)}(e),this._credentials=new hu(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new c(s.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new c(s.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Su(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new lu;switch(e.type){case"gapi":var t=e.client;return y(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new pu(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new c(s.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=su.get(this))&&(h("ComponentProvider","Removing Datastore"),su.delete(this),e.terminate()),Promise.resolve();var e},e}(),Ou=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new ku(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),_u=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),ku=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Ae(r))||this)._path=r,i.type="collection",i}return Object(r.c)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Ou(this.firestore,null,new K(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(_u);function Cu(e,t){for(var n,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];if(e=Object(i.h)(e),vu("collection","path",t),e instanceof Iu)return bu(n=N.fromString.apply(N,Object(r.f)([t],o))),new ku(e,null,n);if(!(e instanceof Ou||e instanceof ku))throw new c(s.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return bu(n=N.fromString.apply(N,Object(r.f)([e.path],o)).child(N.fromString(t))),new ku(e.firestore,null,n)}function Au(e,t){for(var n,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];if(e=Object(i.h)(e),1===arguments.length&&(t=w.u()),vu("doc","path",t),e instanceof Iu)return mu(n=N.fromString.apply(N,Object(r.f)([t],o))),new Ou(e,null,new K(n));if(!(e instanceof Ou||e instanceof ku))throw new c(s.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return mu(n=e._path.child(N.fromString.apply(N,Object(r.f)([t],o)))),new Ou(e.firestore,e instanceof ku?e.converter:null,new K(n))}function Nu(e,t){return e=Object(i.h)(e),t=Object(i.h)(t),(e instanceof Ou||e instanceof ku)&&(t instanceof Ou||t instanceof ku)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function xu(e,t){return e=Object(i.h)(e),t=Object(i.h)(t),e instanceof _u&&t instanceof _u&&e.firestore===t.firestore&&Fe(e._query,t._query)&&e.converter===t.converter}var Du=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new co(this,"async_queue_retry"),this.Ic=function(){var t=uo();t&&h("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=uo();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=uo();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new Zn;return this.Rc((function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.bc()}))},e.prototype.bc=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,t=this;return Object(r.d)(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!or(e=n.sent()))throw e;return h("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.bc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Rc=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,d("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=Bo.createAndSchedule(this,e,t,n,(function(e){return r.vc(e)}));return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&g()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()}))},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function Pu(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Zn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var ju=-1,Ru=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new Du,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return Object(r.c)(t,e),t.prototype._terminate=function(){return this._firestoreClient||Mu(this),this._firestoreClient.terminate()},t}(Iu);function Lu(e){return e._firestoreClient||Mu(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Mu(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new au(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Qa(e._credentials,e._queue,r)}function Fu(e,t,n){var i=this,o=new Zn;return e.asyncQueue.enqueue((function(){return Object(r.b)(i,void 0,void 0,(function(){var i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,$a(e,n)];case 1:return r.sent(),[4,Xa(e,t)];case 2:return r.sent(),o.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===s.FAILED_PRECONDITION||e.code===s.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(i=r.sent()))throw i;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),o.reject(i),[3,4];case 4:return[2]}}))}))})).then((function(){return o.promise}))}function Uu(e){if(e._initialized||e._terminated)throw new c(s.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Vu=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new c(s.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new D(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),qu=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(j.fromBase64String(t))}catch(t){throw new c(s.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(j.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),Bu=function(e){this._methodName=e},zu=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new c(s.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new c(s.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return E(this._lat,e._lat)||E(this._long,e._long)},e}(),Ku=/^__.*__$/,Hu=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new gt(e,this.data,this.fieldMask,t,this.fieldTransforms):new vt(e,this.data,t,this.fieldTransforms)},e}(),Gu=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new gt(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function Wu(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw g()}}var Qu=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return ps(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(Wu(this.Nc)&&Ku.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),$u=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||so(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new Qu({Nc:e,methodName:t,qc:n,path:D.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Xu(e){var t=e._freezeSettings(),n=so(e._databaseId);return new $u(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Yu(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);ls("Data must be an object, but it was:",a,r);var u,l,f=ss(r,a);if(o.merge)u=new P(a.fieldMask),l=a.fieldTransforms;else if(o.mergeFields){for(var h=[],d=0,p=o.mergeFields;d<p.length;d++){var v=fs(t,p[d],n);if(!a.contains(v))throw new c(s.INVALID_ARGUMENT,"Field '"+v+"' is specified in your field mask but missing from your input data.");vs(h,v)||h.push(v)}u=new P(h),l=a.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,l=a.fieldTransforms;return new Hu(new ie(f),u,l)}var Ju=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(Bu);function Zu(e,t,n){return new Qu({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var es=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype._toFieldTransform=function(e){return new ot(e.path,new Ye)},t.prototype.isEqual=function(e){return e instanceof t},t}(Bu),ts=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Object(r.c)(t,e),t.prototype._toFieldTransform=function(e){var t=Zu(this,e,!0),n=this.Kc.map((function(e){return us(e,t)})),r=new Je(n);return new ot(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Bu),ns=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Object(r.c)(t,e),t.prototype._toFieldTransform=function(e){var t=Zu(this,e,!0),n=this.Kc.map((function(e){return us(e,t)})),r=new et(n);return new ot(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Bu),rs=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return Object(r.c)(t,e),t.prototype._toFieldTransform=function(e){var t=new nt(e.R,Ge(e.R,this.Qc));return new ot(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(Bu);function is(e,t,n,r){var o=e.Uc(1,t,n);ls("Data must be an object, but it was:",o,r);var a=[],u=ie.empty();k(r,(function(e,r){var s=ds(t,e,n);r=Object(i.h)(r);var c=o.Oc(s);if(r instanceof Ju)a.push(s);else{var l=us(r,c);null!=l&&(a.push(s),u.set(s,l))}}));var s=new P(a);return new Gu(u,s,o.fieldTransforms)}function os(e,t,n,r,o,a){var u=e.Uc(1,t,n),l=[fs(t,r,n)],f=[o];if(a.length%2!=0)throw new c(s.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<a.length;h+=2)l.push(fs(t,a[h])),f.push(a[h+1]);for(var d=[],p=ie.empty(),v=l.length-1;v>=0;--v)if(!vs(d,l[v])){var g=l[v],y=f[v];y=Object(i.h)(y);var m=u.Oc(g);if(y instanceof Ju)d.push(g);else{var b=us(y,m);null!=b&&(d.push(g),p.set(g,b))}}var w=new P(d);return new Gu(p,w,u.fieldTransforms)}function as(e,t,n,r){return void 0===r&&(r=!1),us(n,e.Uc(r?4:3,t))}function us(e,t){if(cs(e=Object(i.h)(e)))return ls("Unsupported field value:",t,e),ss(e,t);if(e instanceof Bu)return function(e,t){if(!Wu(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=us(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Object(i.h)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ge(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=I.fromDate(e);return{timestampValue:en(t.R,n)}}if(e instanceof I)return n=new I(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:en(t.R,n)};if(e instanceof zu)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof qu)return{bytesValue:tn(t.R,e._byteString)};if(e instanceof Ou){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:on(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+wu(e))}(e,t)}function ss(e,t){var n={};return C(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):k(e,(function(e,r){var i=us(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function cs(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof I||e instanceof zu||e instanceof qu||e instanceof Ou||e instanceof Bu)}function ls(e,t,n){if(!cs(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=wu(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function fs(e,t,n){if((t=Object(i.h)(t))instanceof Vu)return t._internalPath;if("string"==typeof t)return ds(e,t);throw ps("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var hs=new RegExp("[~\\*/\\[\\]]");function ds(e,t,n){if(t.search(hs)>=0)throw ps("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(Vu.bind.apply(Vu,Object(r.f)([void 0],t.split(".")))))._internalPath}catch(i){throw ps("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function ps(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,u="Function "+t+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var l="";return(o||a)&&(l+=" (found",o&&(l+=" in field "+r),a&&(l+=" in document "+i),l+=")"),new c(s.INVALID_ARGUMENT,(u+=". ")+e+l)}function vs(e,t){return e.some((function(e){return e.isEqual(t)}))}var gs=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ou(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new ys(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(ms("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),ys=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(gs);function ms(e,t){return"string"==typeof t?ds(e,t):t instanceof Vu?t._internalPath:t._delegate._internalPath}var bs=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),ws=function(e){function t(t,n,r,i,o,a){var u=this;return(u=e.call(this,t,n,r,i,a)||this)._firestore=t,u._firestoreImpl=t,u.metadata=o,u}return Object(r.c)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new Es(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(ms("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(gs),Es=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(ws),Ts=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new bs(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Es(n._firestore,n._userDataWriter,r.key,r,new bs(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new c(s.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Es(e._firestore,e._userDataWriter,t.doc.key,t.doc,new bs(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Es(e._firestore,e._userDataWriter,t.doc.key,t.doc,new bs(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Ss(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function Ss(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return g()}}function Is(e,t){return e instanceof ws&&t instanceof ws?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ts&&t instanceof Ts&&e._firestore===t._firestore&&xu(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Os(e){if(xe(e)&&0===e.explicitOrderBy.length)throw new c(s.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var _s=function(){};function ks(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var Cs=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return Object(r.c)(t,e),t.prototype._apply=function(e){var t=Xu(e.firestore),n=function(e,t,n,r,i,o,a){var u;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new c(s.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Rs(a,o);for(var l=[],f=0,h=a;f<h.length;f++){var d=h[f];l.push(js(r,e,d))}u={arrayValue:{values:l}}}else u=js(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Rs(a,o),u=as(n,"where",a,"in"===o||"not-in"===o);var p=he.create(i,o,u);return function(e,t){if(t.g()){var n=Pe(e);if(null!==n&&!n.isEqual(t.field))throw new c(s.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=De(e);null!==r&&Ls(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new c(s.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new c(s.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,p),p}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new _u(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new ke(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(_s),As=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return Object(r.c)(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new c(s.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new c(s.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Se(t,n);return function(e,t){if(null===De(e)){var n=Pe(e);null!==n&&Ls(e,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new _u(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ke(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(_s),Ns=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return Object(r.c)(t,e),t.prototype._apply=function(e){return new _u(e.firestore,e.converter,Me(e._query,this.Hc,this.Jc))},t}(_s),xs=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return Object(r.c)(t,e),t.prototype._apply=function(e){var t=Ps(e,this.type,this.Yc,this.Xc);return new _u(e.firestore,e.converter,function(e,t){return new ke(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(_s),Ds=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return Object(r.c)(t,e),t.prototype._apply=function(e){var t=Ps(e,this.type,this.Yc,this.Xc);return new _u(e.firestore,e.converter,function(e,t){return new ke(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(_s);function Ps(e,t,n,r){if(n[0]=Object(i.h)(n[0]),n[0]instanceof gs)return function(e,t,n,r,i){if(!r)throw new c(s.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,u=Re(e);a<u.length;a++){var l=u[a];if(l.field.isKeyField())o.push(Y(t,r.key));else{var f=r.data.field(l.field);if(U(f))throw new c(s.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+l.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===f){var h=l.field.canonicalString();throw new c(s.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+h+"' (used as the orderBy) does not exist.")}o.push(f)}}return new Ee(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var o=Xu(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new c(s.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],l=0;l<i.length;l++){var f=i[l];if(a[l].field.isKeyField()){if("string"!=typeof f)throw new c(s.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof f);if(!je(e)&&-1!==f.indexOf("/"))throw new c(s.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+f+"' contains a slash.");var h=e.path.child(N.fromString(f));if(!K.isDocumentKey(h))throw new c(s.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");var d=new K(h);u.push(Y(t,d))}else{var p=as(n,r,f);u.push(p)}}return new Ee(u,o)}(e._query,e.firestore._databaseId,o,t,n,r)}function js(e,t,n){if("string"==typeof(n=Object(i.h)(n))){if(""===n)throw new c(s.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!je(t)&&-1!==n.indexOf("/"))throw new c(s.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(N.fromString(n));if(!K.isDocumentKey(r))throw new c(s.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Y(e,new K(r))}if(n instanceof Ou)return Y(e,n._key);throw new c(s.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+wu(n)+".")}function Rs(e,t){if(!Array.isArray(e)||0===e.length)throw new c(s.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new c(s.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Ls(e,t,n){if(!n.isEqual(t))throw new c(s.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Ms=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),H(e)){case 0:return null;case 1:return e.booleanValue;case 2:return M(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(F(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw g()}},e.prototype.convertObject=function(e,t){var n=this,r={};return k(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new zu(M(e.latitude),M(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=function e(t){var n=t.mapValue.fields.__previous_value__;return U(n)?e(n):n}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(V(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=L(e);return new I(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=N.fromString(e);y(An(n));var r=new uu(n.get(1),n.get(3)),i=new K(n.popFirst(5));return r.isEqual(t)||d("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function Fs(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Us=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Object(r.c)(t,e),t.prototype.convertBytes=function(e){return new qu(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ou(this.firestore,null,t)},t}(Ms),Vs=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Xu(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=qs(e,this._firestore),i=Fs(r.converter,t,n),o=Yu(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,ut.none())),this},e.prototype.update=function(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];this._verifyNotCommitted();var a,u=qs(e,this._firestore);return a="string"==typeof(t=Object(i.h)(t))||t instanceof Vu?os(this._dataReader,"WriteBatch.update",u._key,t,n,r):is(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(a.toMutation(u._key,ut.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=qs(e,this._firestore);return this._mutations=this._mutations.concat(new Tt(t._key,ut.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new c(s.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function qs(e,t){if((e=Object(i.h)(e)).firestore!==t)throw new c(s.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Bs=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Object(r.c)(t,e),t.prototype.convertBytes=function(e){return new qu(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ou(this.firestore,null,t)},t}(Ms);function zs(e,t,n){e=Eu(e,Ou);var r=Eu(e.firestore,Ru),i=Fs(e.converter,t,n);return Gs(r,[Yu(Xu(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ut.none())])}function Ks(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];e=Eu(e,Ou);var a=Eu(e.firestore,Ru),u=Xu(a);return Gs(a,[("string"==typeof(t=Object(i.h)(t))||t instanceof Vu?os(u,"updateDoc",e._key,t,n,r):is(u,"updateDoc",e._key,t)).toMutation(e._key,ut.exists(!0))])}function Hs(e){for(var t,n,o,a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];e=Object(i.h)(e);var s={includeMetadataChanges:!1},c=0;"object"!=typeof a[c]||Pu(a[c])||(s=a[c],c++);var l,f,h,d={includeMetadataChanges:s.includeMetadataChanges};if(Pu(a[c])){var p=a[c];a[c]=null===(t=p.next)||void 0===t?void 0:t.bind(p),a[c+1]=null===(n=p.error)||void 0===n?void 0:n.bind(p),a[c+2]=null===(o=p.complete)||void 0===o?void 0:o.bind(p)}if(e instanceof Ou)f=Eu(e.firestore,Ru),h=Ae(e._key.path),l={next:function(t){a[c]&&a[c](Ws(f,e,t))},error:a[c+1],complete:a[c+2]};else{var v=Eu(e,_u);f=Eu(v.firestore,Ru),h=v._query;var g=new Bs(f);l={next:function(e){a[c]&&a[c](new Ts(f,g,v,e))},error:a[c+1],complete:a[c+2]},Os(e._query)}return function(e,t,n,i){var o=this,a=new Ha(i),u=new ea(t,a,n);return e.asyncQueue.enqueueAndForget((function(){return Object(r.b)(o,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(n){switch(n.label){case 0:return t=$o,[4,ru(e)];case 1:return[2,t.apply(void 0,[n.sent(),u])]}}))}))})),function(){a.Wo(),e.asyncQueue.enqueueAndForget((function(){return Object(r.b)(o,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(n){switch(n.label){case 0:return t=Xo,[4,ru(e)];case 1:return[2,t.apply(void 0,[n.sent(),u])]}}))}))}))}}(Lu(f),h,d,l)}function Gs(e,t){return function(e,t){var n=this,i=new Zn;return e.asyncQueue.enqueueAndForget((function(){return Object(r.b)(n,void 0,void 0,(function(){var n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=da,[4,nu(e)];case 1:return[2,n.apply(void 0,[r.sent(),t,i])]}}))}))})),i.promise}(Lu(e),t)}function Ws(e,t,n){var r=n.docs.get(t._key),i=new Bs(e);return new ws(e,i,t._key,r,new bs(n.hasPendingWrites,n.fromCache),t.converter)}var Qs=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return Object(r.c)(t,e),t.prototype.get=function(t){var n=this,r=qs(t,this._firestore),i=new Bs(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new ws(n._firestore,i,r._key,e._document,new bs(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=Xu(e)}return e.prototype.get=function(e){var t=this,n=qs(e,this._firestore),r=new Us(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return g();var i=e[0];if(i.isFoundDocument())return new gs(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new gs(t._firestore,r,n._key,null,n.converter);throw g()}))},e.prototype.set=function(e,t,n){var r=qs(e,this._firestore),i=Fs(r.converter,t,n),o=Yu(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var a,u=qs(e,this._firestore);return a="string"==typeof(t=Object(i.h)(t))||t instanceof Vu?os(this._dataReader,"Transaction.update",u._key,t,n,r):is(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,a),this},e.prototype.delete=function(e){var t=qs(e,this._firestore);return this._transaction.delete(t._key),this},e}());function $s(){if("undefined"==typeof Uint8Array)throw new c(s.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Xs(){if("undefined"==typeof atob)throw new c(s.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ys=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return Xs(),new e(qu.fromBase64String(t))},e.fromUint8Array=function(t){return $s(),new e(qu.fromUint8Array(t))},e.prototype.toBase64=function(){return Xs(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return $s(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),Js=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){Uu(e=Eu(e,Ru));var n=Lu(e),r=e._freezeSettings(),i=new Ka;return Fu(n,i,new Ba(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){Uu(e=Eu(e,Ru));var t=Lu(e),n=e._freezeSettings(),r=new Ka;return Fu(t,r,new za(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new c(s.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Zn;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return Object(r.b)(t,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(e){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(n){switch(n.label){case 0:return nr.yt()?(t=e+"main",[4,nr.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(di(e._databaseId,e._persistenceKey))];case 1:return i.sent(),n.resolve(),[3,3];case 2:return t=i.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),Zs=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof uu||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||p("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){var o;void 0===r&&(r={});var a=(e=Eu(e,Iu))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&p("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:t+":"+n,ssl:!1})),r.mockUserToken){var u,l;if("string"==typeof r.mockUserToken)u=r.mockUserToken,l=Ki.MOCK_USER;else{u=Object(i.d)(r.mockUserToken,null===(o=e._app)||void 0===o?void 0:o.options.projectId);var f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new c(s.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ki(f)}e._credentials=new fu(new cu(u,l))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Object(r.b)(t,void 0,void 0,(function(){var t,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,Za(e)];case 1:return t=r.sent(),[4,tu(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=m(e);return t.Or.delete(0),yo(t)}(n))]}}))}))}))}(Lu(Eu(this._delegate,Ru)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Object(r.b)(t,void 0,void 0,(function(){var t,n;return Object(r.d)(this,(function(i){switch(i.label){case 0:return[4,Za(e)];case 1:return t=i.sent(),[4,tu(e)];case 2:return n=i.sent(),[2,(t.setNetworkEnabled(!1),function(e){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(n){switch(n.label){case 0:return(t=m(e)).Or.add(0),[4,mo(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Lu(Eu(this._delegate,Ru)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&yu("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new Zn;return e.asyncQueue.enqueueAndForget((function(){return Object(r.b)(t,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(r){switch(r.label){case 0:return t=ba,[4,nu(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Lu(Eu(this._delegate,Ru)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,i=new Ha(t);return e.asyncQueue.enqueueAndForget((function(){return Object(r.b)(n,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(n){switch(n.label){case 0:return t=function(e,t){m(e).Gr.add(t),t.next()},[4,ru(e)];case 1:return[2,t.apply(void 0,[n.sent(),i])]}}))}))})),function(){i.Wo(),e.asyncQueue.enqueueAndForget((function(){return Object(r.b)(n,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(n){switch(n.label){case 0:return t=function(e,t){m(e).Gr.delete(t)},[4,ru(e)];case 1:return[2,t.apply(void 0,[n.sent(),i])]}}))}))}))}}(Lu(e=Eu(e,Ru)),Pu(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new c(s.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new pc(this,Cu(this._delegate,e))}catch(e){throw ac(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new oc(this,Au(this._delegate,e))}catch(e){throw ac(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new fc(this,function(e,t){if(e=Eu(e,Iu),vu("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new c(s.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new _u(e,null,function(e){return new ke(N.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw ac(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,i=new Zn;return e.asyncQueue.enqueueAndForget((function(){return Object(r.b)(n,void 0,void 0,(function(){var n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,function(e){return Ja(e).then((function(e){return e.datastore}))}(e)];case 1:return n=r.sent(),new Wa(e.asyncQueue,n,t,i).run(),[2]}}))}))})),i.promise}(Lu(e),(function(n){return t(new Qs(e,n))}))}(this._delegate,(function(n){return e(new nc(t,n))}))},e.prototype.batch=function(){var e=this;return Lu(this._delegate),new rc(new Vs(this._delegate,(function(t){return Gs(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new c(s.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new c(s.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),ec=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Object(r.c)(t,e),t.prototype.convertBytes=function(e){return new Ys(new qu(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return oc.eu(t,this.firestore,null)},t}(Ms);function tc(e){var t;t=e,l.setLogLevel(t)}var nc=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ec(e)}return e.prototype.get=function(e){var t=this,n=vc(e);return this._delegate.get(n).then((function(e){return new cc(t._firestore,new ws(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=vc(e);return n?(gu("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var u=vc(e);return 2===arguments.length?this._delegate.update(u,t):(i=this._delegate).update.apply(i,Object(r.f)([u,t,n],o)),this},e.prototype.delete=function(e){var t=vc(e);return this._delegate.delete(t),this},e}(),rc=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=vc(e);return n?(gu("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var u=vc(e);return 2===arguments.length?this._delegate.update(u,t):(i=this._delegate).update.apply(i,Object(r.f)([u,t,n],o)),this},e.prototype.delete=function(e){var t=vc(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),ic=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new Es(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new lc(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new ec(t),n),i.set(n,o)),o},e}();ic.su=new WeakMap;var oc=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ec(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new c(s.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Ou(n._delegate,r,new K(t)))},e.eu=function(t,n,r){return new e(n,new Ou(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new pc(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new pc(this.firestore,Cu(this._delegate,e))}catch(e){throw ac(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=Object(i.h)(e))instanceof Ou&&Nu(this._delegate,e)},e.prototype.set=function(e,t){t=gu("DocumentReference.set",t);try{return t?zs(this._delegate,e,t):zs(this._delegate,e)}catch(e){throw ac(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];try{return 1===arguments.length?Ks(this._delegate,e):Ks.apply(void 0,Object(r.f)([this._delegate,e,t],n))}catch(e){throw ac(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Gs(Eu((e=this._delegate).firestore,Ru),[new Tt(e._key,ut.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=uc(t),i=sc(t,(function(t){return new cc(e.firestore,new ws(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Hs(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Eu(e,Ou);var t=Eu(e.firestore,Ru),n=Lu(t),i=new Bs(t);return function(e,t){var n=this,i=new Zn;return e.asyncQueue.enqueueAndForget((function(){return Object(r.b)(n,void 0,void 0,(function(){var n;return Object(r.d)(this,(function(o){switch(o.label){case 0:return n=function(e,t,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e,t){var n=m(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(o=r.sent()).isFoundDocument()?n.resolve(o):o.isNoDocument()?n.resolve(null):n.reject(new c(s.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=r.sent(),o=zo(i,"Failed to get document '"+t+" from cache"),n.reject(o),[3,3];case 3:return[2]}}))}))},[4,eu(e)];case 1:return[2,n.apply(void 0,[o.sent(),t,i])]}}))}))})),i.promise}(n,e._key).then((function(n){return new ws(t,i,e._key,n,new bs(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Eu(e,Ou);var t=Eu(e.firestore,Ru);return iu(Lu(t),e._key,{source:"server"}).then((function(n){return Ws(t,e,n)}))}(this._delegate):function(e){e=Eu(e,Ou);var t=Eu(e.firestore,Ru);return iu(Lu(t),e._key).then((function(n){return Ws(t,e,n)}))}(this._delegate)).then((function(e){return new cc(t.firestore,new ws(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(ic.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function ac(e,t,n){return e.message=e.message.replace(t,n),e}function uc(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!Pu(r))return r}return{}}function sc(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Pu(e[0])?e[0]:Pu(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var cc=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new oc(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Is(this._delegate,e._delegate)},e}(),lc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(cc),fc=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ec(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,ks(this._delegate,function(e,t,n){var r=t,i=ms("where",e);return new Cs(i,r,n)}(t,n,r)))}catch(t){throw ac(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,ks(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=ms("orderBy",e);return new As(r,n)}(t,n)))}catch(t){throw ac(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,ks(this._delegate,function(e){return Tu("limit",e),new Ns("limit",e,"F")}(t)))}catch(t){throw ac(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,ks(this._delegate,function(e){return Tu("limitToLast",e),new Ns("limitToLast",e,"L")}(t)))}catch(t){throw ac(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ks(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new xs("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw ac(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ks(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new xs("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw ac(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ks(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Ds("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw ac(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ks(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Ds("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw ac(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return xu(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Eu(e,_u);var t=Eu(e.firestore,Ru),n=Lu(t),i=new Bs(t);return function(e,t){var n=this,i=new Zn;return e.asyncQueue.enqueueAndForget((function(){return Object(r.b)(n,void 0,void 0,(function(){var n;return Object(r.d)(this,(function(o){switch(o.label){case 0:return n=function(e,t,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,a,u,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Ci(e,t,!0)];case 1:return s=r.sent(),i=new aa(t,s.Bn),o=i._o(s.documents),a=i.applyChanges(o,!1),n.resolve(a.snapshot),[3,3];case 2:return u=r.sent(),s=zo(u,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,eu(e)];case 1:return[2,n.apply(void 0,[o.sent(),t,i])]}}))}))})),i.promise}(n,e._query).then((function(n){return new Ts(t,i,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Eu(e,_u);var t=Eu(e.firestore,Ru),n=Lu(t),r=new Bs(t);return ou(n,e._query,{source:"server"}).then((function(n){return new Ts(t,r,e,n)}))}(this._delegate):function(e){e=Eu(e,_u);var t=Eu(e.firestore,Ru),n=Lu(t),r=new Bs(t);return Os(e._query),ou(n,e._query).then((function(n){return new Ts(t,r,e,n)}))}(this._delegate)).then((function(e){return new dc(t.firestore,new Ts(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=uc(t),i=sc(t,(function(t){return new dc(e.firestore,new Ts(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Hs(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(ic.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),hc=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new lc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),dc=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new fc(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new lc(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new hc(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new lc(n._firestore,r))}))},e.prototype.isEqual=function(e){return Is(this._delegate,e._delegate)},e}(),pc=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return Object(r.c)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new oc(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new oc(this.firestore,void 0===e?Au(this._delegate):Au(this._delegate,e))}catch(e){throw ac(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Eu(e.firestore,Ru),r=Au(e),i=Fs(e.converter,t);return Gs(n,[Yu(Xu(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ut.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new oc(t.firestore,e)}))},t.prototype.isEqual=function(e){return Nu(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(ic.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(fc);function vc(e){return Eu(e,Ou)}var gc=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(Vu.bind.apply(Vu,Object(r.f)([void 0],e)))}return e.documentId=function(){return new e(D.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=Object(i.h)(e))instanceof Vu&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),yc=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new es("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Ju("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new ts("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new ns("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new rs("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}()}).call(this,n(74))},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return cr})),n.d(t,"b",(function(){return fr})),n.d(t,"c",(function(){return lr})),n.d(t,"d",(function(){return dr})),n.d(t,"e",(function(){return hr})),n.d(t,"f",(function(){return pr})),n.d(t,"g",(function(){return vr})),n.d(t,"h",(function(){return ur})),n.d(t,"i",(function(){return sr}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var o,a="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},u=u||{},s=a||self;function c(){}function l(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function f(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var h="closure_uid_"+(1e9*Math.random()>>>0),d=0;function p(e,t,n){return e.call.apply(e.bind,arguments)}function v(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function g(e,t,n){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p:v).apply(null,arguments)}function y(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function m(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function b(){this.s=this.s,this.o=this.o}var w={};b.prototype.s=!1,b.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,h)&&e[h]||(e[h]=++d)}(this);delete w[e]}},b.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var E=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},T=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function S(e){return Array.prototype.concat.apply([],arguments)}function I(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function O(e){return/^[\s\xa0]*$/.test(e)}var _,k=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function C(e,t){return-1!=e.indexOf(t)}function A(e,t){return e<t?-1:e>t?1:0}e:{var N=s.navigator;if(N){var x=N.userAgent;if(x){_=x;break e}}_=""}function D(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function P(e){var t={};for(var n in e)t[n]=e[n];return t}var j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<j.length;o++)n=j[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function L(e){return L[" "](e),e}L[" "]=c;var M,F=C(_,"Opera"),U=C(_,"Trident")||C(_,"MSIE"),V=C(_,"Edge"),q=V||U,B=C(_,"Gecko")&&!(C(_.toLowerCase(),"webkit")&&!C(_,"Edge"))&&!(C(_,"Trident")||C(_,"MSIE"))&&!C(_,"Edge"),z=C(_.toLowerCase(),"webkit")&&!C(_,"Edge");function K(){var e=s.document;return e?e.documentMode:void 0}e:{var H="",G=function(){var e=_;return B?/rv:([^\);]+)(\)|;)/.exec(e):V?/Edge\/([\d\.]+)/.exec(e):U?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):z?/WebKit\/(\S+)/.exec(e):F?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(G&&(H=G?G[1]:""),U){var W=K();if(null!=W&&W>parseFloat(H)){M=String(W);break e}}M=H}var Q,$={};function X(){return function(e){var t=$;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=k(String(M)).split("."),n=k("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=A(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||A(0==o[2].length,0==a[2].length)||A(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}if(s.document&&U){var Y=K();Q=Y||(parseInt(M,10)||void 0)}else Q=void 0;var J=Q,Z=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{s.addEventListener("test",c,t),s.removeEventListener("test",c,t)}catch(n){}return e}();function ee(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function te(e,t){if(ee.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(B){e:{try{L(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ne[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&te.Z.h.call(this)}}ee.prototype.h=function(){this.defaultPrevented=!0},m(te,ee);var ne={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),ie=0;function oe(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++ie,this.ca=this.fa=!1}function ae(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function ue(e){this.src=e,this.g={},this.h=0}function se(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=E(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ae(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ce(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}ue.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=ce(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new oe(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var le="closure_lm_"+(1e6*Math.random()|0),fe={};function he(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);return null}return r=be(r),t&&t[re]?t.O(n,r,f(i)?!!i.capture:!!i,o):de(t,n,r,!0,i,o)}(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)he(e,t[o],n,r,i);return null}return n=be(n),e&&e[re]?e.N(t,n,f(r)?!!r.capture:!!r,i):de(e,t,n,!1,r,i)}function de(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=f(i)?!!i.capture:!!i,u=ye(e);if(u||(e[le]=u=new ue(e)),(n=u.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=ge;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Z||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ve(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function pe(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[re])se(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ve(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ye(t))?(se(n,e),0==n.h&&(n.src=null,t[le]=null)):ae(e)}}}function ve(e){return e in fe?fe[e]:fe[e]="on"+e}function ge(e,t){if(e.ca)e=!0;else{t=new te(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&pe(e),e=n.call(r,t)}return e}function ye(e){return(e=e[le])instanceof ue?e:null}var me="__closure_events_fn_"+(1e9*Math.random()>>>0);function be(e){return"function"===typeof e?e:(e[me]||(e[me]=function(t){return e.handleEvent(t)}),e[me])}function we(){b.call(this),this.i=new ue(this),this.P=this,this.I=null}function Ee(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ee(t,e);else if(t instanceof ee)t.target=t.target||e;else{var i=t;R(t=new ee(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Te(a,r,!0,t)&&i}if(i=Te(a=t.g=e,r,!0,t)&&i,i=Te(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Te(a=t.g=n[o],r,!1,t)&&i}function Te(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var u=a.listener,s=a.ia||a.src;a.fa&&se(e.i,a),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}m(we,b),we.prototype[re]=!0,we.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);else i=f(i)?!!i.capture:!!i,r=be(r),t&&t[re]?(t=t.i,(n=String(n).toString())in t.g&&(-1<(r=ce(a=t.g[n],r,i,o))&&(ae(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.g[n],t.h--)))):t&&(t=ye(t))&&(n=t.g[n.toString()],t=-1,n&&(t=ce(n,r,i,o)),(r=-1<t?n[t]:null)&&pe(r))}(this,e,t,n,r)},we.prototype.M=function(){if(we.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ae(n[r]);delete t.g[e],t.h--}}this.I=null},we.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},we.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Se=s.JSON.stringify;function Ie(){var e=De,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Oe,_e=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=ke.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),ke=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new Ce}),(function(e){return e.reset()})),Ce=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Ae(e){s.setTimeout((function(){throw e}),0)}function Ne(e,t){Oe||function(){var e=s.Promise.resolve(void 0);Oe=function(){e.then(Pe)}}(),xe||(Oe(),xe=!0),De.add(e,t)}var xe=!1,De=new _e;function Pe(){for(var e;e=Ie();){try{e.h.call(e.g)}catch(n){Ae(n)}var t=ke;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}xe=!1}function je(e,t){we.call(this),this.h=e||1,this.g=t||s,this.j=g(this.kb,this),this.l=Date.now()}function Re(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Le(e,t,n){if("function"===typeof e)n&&(e=g(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=g(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function Me(e){e.g=Le((function(){e.g=null,e.i&&(e.i=!1,Me(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}m(je,we),(o=je.prototype).da=!1,o.S=null,o.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ee(this,"tick"),this.da&&(Re(this),this.start()))}},o.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},o.M=function(){je.Z.M.call(this),Re(this),delete this.g};var Fe=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:Me(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(b);function Ue(e){b.call(this),this.h=e,this.g={}}m(Ue,b);var Ve=[];function qe(e,t,n,r){Array.isArray(n)||(n&&(Ve[0]=n.toString()),n=Ve);for(var i=0;i<n.length;i++){var o=he(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Be(e){D(e.g,(function(e,t){this.g.hasOwnProperty(t)&&pe(e)}),e),e.g={}}function ze(){this.g=!0}function Ke(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Se(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Ue.prototype.M=function(){Ue.Z.M.call(this),Be(this)},Ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ze.prototype.Aa=function(){this.g=!1},ze.prototype.info=function(){};var He={},Ge=null;function We(){return Ge=Ge||new we}function Qe(e){ee.call(this,He.Ma,e)}function $e(e){var t=We();Ee(t,new Qe(t,e))}function Xe(e,t){ee.call(this,He.STAT_EVENT,e),this.stat=t}function Ye(e){var t=We();Ee(t,new Xe(t,e))}function Je(e,t){ee.call(this,He.Na,e),this.size=t}function Ze(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout((function(){e()}),t)}He.Ma="serverreachability",m(Qe,ee),He.STAT_EVENT="statevent",m(Xe,ee),He.Na="timingevent",m(Je,ee);var et={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},tt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function nt(){}function rt(e){return e.h||(e.h=e.i())}function it(){}nt.prototype.h=null;var ot,at={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ut(){ee.call(this,"d")}function st(){ee.call(this,"c")}function ct(){}function lt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ue(this),this.P=ht,e=q?125:void 0,this.W=new je(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ft}function ft(){this.i=null,this.g="",this.h=!1}m(ut,ee),m(st,ee),m(ct,nt),ct.prototype.g=function(){return new XMLHttpRequest},ct.prototype.i=function(){return{}},ot=new ct;var ht=45e3,dt={},pt={};function vt(e,t,n){e.K=1,e.v=Ft(Dt(t)),e.s=n,e.U=!0,gt(e,null)}function gt(e,t){e.F=Date.now(),wt(e),e.A=Dt(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Yt(n.h,"t",r),e.C=0,n=e.l.H,e.h=new ft,e.g=er(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Fe(g(e.Ia,e,e.g),e.O)),qe(e.V,e.g,"readystatechange",e.gb),t=e.H?P(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),$e(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",u=o.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function yt(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function mt(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=bt(e,n))==pt){4==t&&(e.o=4,Ye(14),i=!1),Ke(e.j,e.m,null,"[Incomplete Response]");break}if(r==dt){e.o=4,Ye(15),Ke(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ke(e.j,e.m,r,null),Ot(e,r)}yt(e)&&r!=pt&&r!=dt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ye(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Gn(t),t.L=!0,Ye(11))):(Ke(e.j,e.m,n,"[Invalid Chunked Response]"),It(e),St(e))}function bt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?pt:(n=Number(t.substring(n,r)),isNaN(n)?dt:(r+=1)+n>t.length?pt:(t=t.substr(r,n),e.C=r+n,t))}function wt(e){e.Y=Date.now()+e.P,Et(e,e.P)}function Et(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ze(g(e.eb,e),t)}function Tt(e){e.B&&(s.clearTimeout(e.B),e.B=null)}function St(e){0==e.l.G||e.I||$n(e.l,e)}function It(e){Tt(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Re(e.W),Be(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ot(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||an(n.i,e)))if(n.I=e.N,!e.J&&an(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Qn(n),Mn(n)}Hn(n),Ye(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Ze(g(n.ab,n),6e3));if(1>=on(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else Yn(n,11)}else if((e.J||n.g==e)&&Qn(n),!O(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var u=o[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=o[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(C(l,"spdy")||C(l,"quic")||C(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(un(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Mt(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Zn(r,r.H?r.la:null,r.W),d.J){sn(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Tt(p),wt(p)),r.g=d}else Kn(r);0<n.l.length&&Vn(n)}else"stop"!=o[0]&&"close"!=o[0]||Yn(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Yn(n,7):Ln(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}$e(4)}catch(o){}}function _t(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(l(e)||"string"===typeof e)T(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(l(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(l(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function kt(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof kt)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ct(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];At(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)At(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function At(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(o=lt.prototype).setTimeout=function(e){this.P=e},o.gb=function(e){e=e.target;var t=this.L;t&&3==xn(e)?t.l():this.Ia(e)},o.Ia=function(e){try{if(e==this.g)e:{var t=xn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||q||this.g&&(this.h.h||this.g.ga()||Dn(this.g)))){this.I||4!=t||7==n||$e(8==n||0>=r?3:2),Tt(this);var i=this.g.ba();this.N=i;t:if(yt(this)){var o=Dn(this.g);e="";var a=o.length,u=4==xn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){It(this),St(this);var c="";break t}this.h.i=new s.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:u&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var l,f=this.g;if((l=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(l)){var h=l;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,Ye(12),It(this),St(this);break e}Ke(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ot(this,i)}this.U?(mt(this,t,c),q&&this.i&&3==t&&(qe(this.V,this.W,"tick",this.fb),this.W.start())):(Ke(this.j,this.m,c,null),Ot(this,c)),4==t&&It(this),this.i&&!this.I&&(4==t?$n(this.l,this):(this.i=!1,wt(this)))}else 400==i&&0<c.indexOf("Unknown SID")?(this.o=3,Ye(12)):(this.o=0,Ye(13)),It(this),St(this)}}}catch(t){}},o.fb=function(){if(this.g){var e=xn(this.g),t=this.g.ga();this.C<t.length&&(Tt(this),mt(this,e,t),this.i&&4!=e&&wt(this))}},o.cancel=function(){this.I=!0,It(this)},o.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&($e(3),Ye(17)),It(this),this.o=2,St(this)):Et(this,this.Y-e)},(o=kt.prototype).R=function(){Ct(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},o.T=function(){return Ct(this),this.g.concat()},o.get=function(e,t){return At(this.h,e)?this.h[e]:t},o.set=function(e,t){At(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},o.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Nt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xt(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof xt){this.g=void 0!==t?t:e.g,Pt(this,e.j),this.s=e.s,jt(this,e.i),Rt(this,e.m),this.l=e.l,t=e.h;var n=new Wt;n.i=t.i,t.g&&(n.g=new kt(t.g),n.h=t.h),Lt(this,n),this.o=e.o}else e&&(n=String(e).match(Nt))?(this.g=!!t,Pt(this,n[1]||"",!0),this.s=Ut(n[2]||""),jt(this,n[3]||"",!0),Rt(this,n[4]),this.l=Ut(n[5]||"",!0),Lt(this,n[6]||"",!0),this.o=Ut(n[7]||"")):(this.g=!!t,this.h=new Wt(null,this.g))}function Dt(e){return new xt(e)}function Pt(e,t,n){e.j=n?Ut(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function jt(e,t,n){e.i=n?Ut(t,!0):t}function Rt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Lt(e,t,n){t instanceof Wt?(e.h=t,function(e,t){t&&!e.j&&(Qt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&($t(this,t),Yt(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Vt(t,Ht)),e.h=new Wt(t,e.g))}function Mt(e,t,n){e.h.set(t,n)}function Ft(e){return Mt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ut(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Vt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,qt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function qt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}xt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Vt(t,Bt,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Vt(t,Bt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Vt(n,"/"==n.charAt(0)?Kt:zt,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Vt(n,Gt)),e.join("")};var Bt=/[#\/\?@]/g,zt=/[#\?:]/g,Kt=/[#\?]/g,Ht=/[#\?@]/g,Gt=/#/g;function Wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Qt(e){e.g||(e.g=new kt,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function $t(e,t){Qt(e),t=Jt(e,t),At(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,At((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Ct(e)))}function Xt(e,t){return Qt(e),t=Jt(e,t),At(e.g.h,t)}function Yt(e,t,n){$t(e,t),0<n.length&&(e.i=null,e.g.set(Jt(e,t),I(n)),e.h+=n.length)}function Jt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(o=Wt.prototype).add=function(e,t){Qt(this),this.i=null,e=Jt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},o.forEach=function(e,t){Qt(this),this.g.forEach((function(n,r){T(n,(function(n){e.call(t,n,r,this)}),this)}),this)},o.T=function(){Qt(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},o.R=function(e){Qt(this);var t=[];if("string"===typeof e)Xt(this,e)&&(t=S(t,this.g.get(Jt(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=S(t,e[n])}return t},o.set=function(e,t){return Qt(this),this.i=null,Xt(this,e=Jt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},o.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},o.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var Zt=function(e,t){this.h=e,this.g=t};function en(e){this.l=e||nn,s.PerformanceNavigationTiming?e=0<(e=s.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.g&&s.g.Ea&&s.g.Ea()&&s.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var tn,nn=10;function rn(e){return!!e.h||!!e.g&&e.g.size>=e.j}function on(e){return e.h?1:e.g?e.g.size:0}function an(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function un(e,t){e.g?e.g.add(t):e.h=t}function sn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function cn(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var o=i(e.g.values()),a=o.next();!a.done;a=o.next()){var u=a.value;r=r.concat(u.D)}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return I(e.i)}function ln(){}function fn(){this.g=new ln}function hn(e,t,n){var r=n||"";try{_t(e,(function(e,n){var i=e;f(e)&&(i=Se(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function dn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function pn(e){this.l=e.$b||null,this.j=e.ib||!1}function vn(e,t){we.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=gn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}en.prototype.cancel=function(){var e,t;if(this.i=cn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=i(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},ln.prototype.stringify=function(e){return s.JSON.stringify(e,void 0)},ln.prototype.parse=function(e){return s.JSON.parse(e,void 0)},m(pn,nt),pn.prototype.g=function(){return new vn(this.l,this.j)},pn.prototype.i=(tn={},function(){return tn}),m(vn,we);var gn=0;function yn(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function mn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,bn(e)}function bn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(o=vn.prototype).open=function(e,t){if(this.readyState!=gn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,bn(this)},o.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||s).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},o.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,mn(this)),this.readyState=gn},o.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,bn(this)),this.g&&(this.readyState=3,bn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yn(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},o.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?mn(this):bn(this),3==this.readyState&&yn(this)}},o.Ua=function(e){this.g&&(this.response=this.responseText=e,mn(this))},o.Ta=function(e){this.g&&(this.response=e,mn(this))},o.ha=function(){this.g&&mn(this)},o.setRequestHeader=function(e,t){this.v.append(e,t)},o.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},o.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(vn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var wn=s.JSON.parse;function En(e){we.call(this),this.headers=new kt,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Tn,this.K=this.L=!1}m(En,we);var Tn="",Sn=/^https?$/i,In=["POST","PUT"];function On(e){return"content-type"==e.toLowerCase()}function _n(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,kn(e),An(e)}function kn(e){e.D||(e.D=!0,Ee(e,"complete"),Ee(e,"error"))}function Cn(e){if(e.h&&"undefined"!=typeof u&&(!e.C[1]||4!=xn(e)||2!=e.ba()))if(e.v&&4==xn(e))Le(e.Fa,0,e);else if(Ee(e,"readystatechange"),4==xn(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(Nt)[1]||null;if(!o&&s.self&&s.self.location){var a=s.self.location.protocol;o=a.substr(0,a.length-1)}i=!Sn.test(o?o.toLowerCase():"")}t=i}if(t)Ee(e,"complete"),Ee(e,"success");else{e.m=6;try{var c=2<xn(e)?e.g.statusText:""}catch(l){c=""}e.j=c+" ["+e.ba()+"]",kn(e)}}finally{An(e)}}}function An(e,t){if(e.g){Nn(e);var n=e.g,r=e.C[0]?c:null;e.g=null,e.C=null,t||Ee(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Nn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(s.clearTimeout(e.A),e.A=null)}function xn(e){return e.g?e.g.readyState:0}function Dn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Tn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Pn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return D(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Mt(e,t,n))}function jn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Rn(e){this.za=0,this.l=[],this.h=new ze,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=jn("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=jn("baseRetryDelayMs",5e3,e),this.$a=jn("retryDelaySeedMs",1e4,e),this.Ya=jn("forwardChannelMaxRetries",2,e),this.ra=jn("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new en(e&&e.concurrentRequestLimit),this.Ca=new fn,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Ln(e){if(Fn(e),3==e.G){var t=e.V++,n=Dt(e.F);Mt(n,"SID",e.J),Mt(n,"RID",t),Mt(n,"TYPE","terminate"),Bn(e,n),(t=new lt(e,e.h,t,void 0)).K=2,t.v=Ft(Dt(n)),n=!1,s.navigator&&s.navigator.sendBeacon&&(n=s.navigator.sendBeacon(t.v.toString(),"")),!n&&s.Image&&((new Image).src=t.v,n=!0),n||(t.g=er(t.l,null),t.g.ea(t.v)),t.F=Date.now(),wt(t)}Jn(e)}function Mn(e){e.g&&(Gn(e),e.g.cancel(),e.g=null)}function Fn(e){Mn(e),e.u&&(s.clearTimeout(e.u),e.u=null),Qn(e),e.i.cancel(),e.m&&("number"===typeof e.m&&s.clearTimeout(e.m),e.m=null)}function Un(e,t){e.l.push(new Zt(e.Za++,t)),3==e.G&&Vn(e)}function Vn(e){rn(e.i)||e.m||(e.m=!0,Ne(e.Ha,e),e.C=0)}function qn(e,t){var n;n=t?t.m:e.V++;var r=Dt(e.F);Mt(r,"SID",e.J),Mt(r,"RID",n),Mt(r,"AID",e.U),Bn(e,r),e.o&&e.s&&Pn(r,e.o,e.s),n=new lt(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=zn(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),un(e.i,n),vt(n,r,t)}function Bn(e,t){e.j&&_t({},(function(e,n){Mt(t,n,e)}))}function zn(e,t,n){n=Math.min(e.l.length,n);var r=e.j?g(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=o))o=Math.max(0,i[s].h-100),u=!1;else try{hn(l,a,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Kn(e){e.g||e.u||(e.Y=1,Ne(e.Ga,e),e.A=0)}function Hn(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Ze(g(e.Ga,e),Xn(e,e.A)),e.A++,!0)}function Gn(e){null!=e.B&&(s.clearTimeout(e.B),e.B=null)}function Wn(e){e.g=new lt(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Dt(e.oa);Mt(t,"RID","rpc"),Mt(t,"SID",e.J),Mt(t,"CI",e.N?"0":"1"),Mt(t,"AID",e.U),Bn(e,t),Mt(t,"TYPE","xmlhttp"),e.o&&e.s&&Pn(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Ft(Dt(t)),n.s=null,n.U=!0,gt(n,e)}function Qn(e){null!=e.v&&(s.clearTimeout(e.v),e.v=null)}function $n(e,t){var n=null;if(e.g==t){Qn(e),Gn(e),e.g=null;var r=2}else{if(!an(e.i,t))return;n=t.D,sn(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ee(r=We(),new Je(r,n,t,i)),Vn(e)}else Kn(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(on(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Ze(g(e.Ha,e,t),Xn(e,e.C)),e.C++,!0))}(e,t)||2==r&&Hn(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Yn(e,5);break;case 4:Yn(e,10);break;case 3:Yn(e,6);break;default:Yn(e,2)}}function Xn(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Yn(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=g(e.jb,e);n||(n=new xt("//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||Pt(n,"https"),Ft(n)),function(e,t){var n=new ze;if(s.Image){var r=new Image;r.onload=y(dn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=y(dn,n,r,"TestLoadImage: error",!1,t),r.onabort=y(dn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=y(dn,n,r,"TestLoadImage: timeout",!1,t),s.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ye(2);e.G=0,e.j&&e.j.va(t),Jn(e),Fn(e)}function Jn(e){e.G=0,e.I=-1,e.j&&(0==cn(e.i).length&&0==e.l.length||(e.i.i.length=0,I(e.l),e.l.length=0),e.j.ua())}function Zn(e,t,n){var r=function(e){return e instanceof xt?Dt(e):new xt(e,void 0)}(n);if(""!=r.i)t&&jt(r,t+"."+r.i),Rt(r,r.m);else{var i=s.location;r=function(e,t,n,r){var i=new xt(null,void 0);return e&&Pt(i,e),t&&jt(i,t),n&&Rt(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&D(e.aa,(function(e,t){Mt(r,t,e)})),t=e.D,n=e.sa,t&&n&&Mt(r,t,n),Mt(r,"VER",e.ma),Bn(e,r),r}function er(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new En(new pn({ib:!0})):new En(e.qa)).L=e.H,t}function tr(){}function nr(){if(U&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function rr(e,t){we.call(this),this.g=new Rn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!O(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!O(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ar(this)}function ir(e){ut.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function or(){st.call(this),this.status=1}function ar(e){this.g=e}(o=En.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ot.g(),this.C=this.u?rt(this.u):rt(ot),this.g.onreadystatechange=g(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void _n(this,o)}e=n||"";var i=new kt(this.headers);r&&_t(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=On,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=s.FormData&&e instanceof s.FormData,!(0<=E(In,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Nn(this),0<this.B&&((this.K=function(e){return U&&X()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=g(this.pa,this)):this.A=Le(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){_n(this,o)}},o.pa=function(){"undefined"!=typeof u&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ee(this,"timeout"),this.abort(8))},o.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ee(this,"complete"),Ee(this,"abort"),An(this))},o.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),An(this,!0)),En.Z.M.call(this)},o.Fa=function(){this.s||(this.F||this.v||this.l?Cn(this):this.cb())},o.cb=function(){Cn(this)},o.ba=function(){try{return 2<xn(this)?this.g.status:-1}catch(tn){return-1}},o.ga=function(){try{return this.g?this.g.responseText:""}catch(tn){return""}},o.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),wn(t)}},o.Da=function(){return this.m},o.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(o=Rn.prototype).ma=8,o.G=1,o.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},o.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new lt(this,this.h,e,void 0),n=this.s;if(this.P&&(n?R(n=P(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=zn(this,t,r),Mt(i=Dt(this.F),"RID",e),Mt(i,"CVER",22),this.D&&Mt(i,"X-HTTP-Session-Id",this.D),Bn(this,i),this.o&&n&&Pn(i,this.o,n),un(this.i,t),this.Ra&&Mt(i,"TYPE","init"),this.ja?(Mt(i,"$req",r),Mt(i,"SID","null"),t.$=!0,vt(t,i,null)):vt(t,i,r),this.G=2}}else 3==this.G&&(e?qn(this,e):0==this.l.length||rn(this.i)||qn(this))},o.Ga=function(){if(this.u=null,Wn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Ze(g(this.bb,this),e)}},o.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ye(10),Mn(this),Wn(this))},o.ab=function(){null!=this.v&&(this.v=null,Mn(this),Hn(this),Ye(19))},o.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Ye(2)):(this.h.info("Failed to ping google.com"),Ye(1))},(o=tr.prototype).xa=function(){},o.wa=function(){},o.va=function(){},o.ua=function(){},o.Oa=function(){},nr.prototype.g=function(e,t){return new rr(e,t)},m(rr,we),rr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Ne(g(e.hb,e,t))),Ye(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Zn(e,null,e.W),Vn(e)},rr.prototype.close=function(){Ln(this.g)},rr.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Un(this.g,t)}else this.v?((t={}).__data__=Se(e),Un(this.g,t)):Un(this.g,e)},rr.prototype.M=function(){this.g.j=null,delete this.j,Ln(this.g),delete this.g,rr.Z.M.call(this)},m(ir,ut),m(or,st),m(ar,tr),ar.prototype.xa=function(){Ee(this.g,"a")},ar.prototype.wa=function(e){Ee(this.g,new ir(e))},ar.prototype.va=function(e){Ee(this.g,new or(e))},ar.prototype.ua=function(){Ee(this.g,"b")},nr.prototype.createWebChannel=nr.prototype.g,rr.prototype.send=rr.prototype.u,rr.prototype.open=rr.prototype.m,rr.prototype.close=rr.prototype.close,et.NO_ERROR=0,et.TIMEOUT=8,et.HTTP_ERROR=6,tt.COMPLETE="complete",it.EventType=at,at.OPEN="a",at.CLOSE="b",at.ERROR="c",at.MESSAGE="d",we.prototype.listen=we.prototype.N,En.prototype.listenOnce=En.prototype.O,En.prototype.getLastError=En.prototype.La,En.prototype.getLastErrorCode=En.prototype.Da,En.prototype.getStatus=En.prototype.ba,En.prototype.getResponseJson=En.prototype.Qa,En.prototype.getResponseText=En.prototype.ga,En.prototype.send=En.prototype.ea;var ur=function(){return new nr},sr=function(){return We()},cr=et,lr=tt,fr=He,hr={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},dr=pn,pr=it,vr=En}).call(this,n(26))},function(e,t,n){"use strict";function r(e){return"function"===typeof e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return _})),n.d(t,"d",(function(){return C})),n.d(t,"c",(function(){return v})),n.d(t,"f",(function(){return g})),n.d(t,"e",(function(){return p}));var r=n(9);function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],u=e&&i(e),s=t&&i(t),c=u||s;if(e&&i(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,h=a.length;h>=0;h--){var d=a[h];"."===d?o(a,h):".."===d?(o(a,h),f++):f&&(o(a,h),f--)}if(!c)for(;f--;f)a.unshift("..");!c||""===a[0]||a[0]&&i(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function u(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var s=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=u(t),i=u(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},c=n(15);function l(e){return"/"===e.charAt(0)?e:"/"+e}function f(e){return"/"===e.charAt(0)?e.substr(1):e}function h(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function d(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function v(e,t,n,i){var o;"string"===typeof e?(o=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(o=Object(r.a)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(u){throw u instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):u}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function g(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&s(e.state,t.state)}function y(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var m=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}function w(){try{return window.history.state||{}}catch(e){return{}}}function E(e){void 0===e&&(e={}),m||Object(c.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,u=void 0!==a&&a,s=o.getUserConfirmation,f=void 0===s?b:s,g=o.keyLength,E=void 0===g?6:g,T=e.basename?d(l(e.basename)):"";function S(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return T&&(o=h(o,T)),v(o,r,n)}function I(){return Math.random().toString(36).substr(2,E)}var O=y();function _(e){Object(r.a)(F,e),F.length=t.length,O.notifyListeners(F.location,F.action)}function k(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||N(S(e.state))}function C(){N(S(w()))}var A=!1;function N(e){if(A)A=!1,_();else{O.confirmTransitionTo(e,"POP",f,(function(t){t?_({action:"POP",location:e}):function(e){var t=F.location,n=D.indexOf(t.key);-1===n&&(n=0);var r=D.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(A=!0,j(i))}(e)}))}}var x=S(w()),D=[x.key];function P(e){return T+p(e)}function j(e){t.go(e)}var R=0;function L(e){1===(R+=e)&&1===e?(window.addEventListener("popstate",k),i&&window.addEventListener("hashchange",C)):0===R&&(window.removeEventListener("popstate",k),i&&window.removeEventListener("hashchange",C))}var M=!1;var F={length:t.length,action:"POP",location:x,createHref:P,push:function(e,r){var i=v(e,r,I(),F.location);O.confirmTransitionTo(i,"PUSH",f,(function(e){if(e){var r=P(i),o=i.key,a=i.state;if(n)if(t.pushState({key:o,state:a},null,r),u)window.location.href=r;else{var s=D.indexOf(F.location.key),c=D.slice(0,s+1);c.push(i.key),D=c,_({action:"PUSH",location:i})}else window.location.href=r}}))},replace:function(e,r){var i=v(e,r,I(),F.location);O.confirmTransitionTo(i,"REPLACE",f,(function(e){if(e){var r=P(i),o=i.key,a=i.state;if(n)if(t.replaceState({key:o,state:a},null,r),u)window.location.replace(r);else{var s=D.indexOf(F.location.key);-1!==s&&(D[s]=i.key),_({action:"REPLACE",location:i})}else window.location.replace(r)}}))},go:j,goBack:function(){j(-1)},goForward:function(){j(1)},block:function(e){void 0===e&&(e=!1);var t=O.setPrompt(e);return M||(L(1),M=!0),function(){return M&&(M=!1,L(-1)),t()}},listen:function(e){var t=O.appendListener(e);return L(1),function(){L(-1),t()}}};return F}var T={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+f(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:f,decodePath:l},slash:{encodePath:l,decodePath:l}};function S(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function I(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function O(e){window.location.replace(S(window.location.href)+"#"+e)}function _(e){void 0===e&&(e={}),m||Object(c.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,o=void 0===i?b:i,a=n.hashType,u=void 0===a?"slash":a,s=e.basename?d(l(e.basename)):"",f=T[u],g=f.encodePath,w=f.decodePath;function E(){var e=w(I());return s&&(e=h(e,s)),v(e)}var _=y();function k(e){Object(r.a)(U,e),U.length=t.length,_.notifyListeners(U.location,U.action)}var C=!1,A=null;function N(){var e,t,n=I(),r=g(n);if(n!==r)O(r);else{var i=E(),a=U.location;if(!C&&(t=i,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(A===p(i))return;A=null,function(e){if(C)C=!1,k();else{_.confirmTransitionTo(e,"POP",o,(function(t){t?k({action:"POP",location:e}):function(e){var t=U.location,n=j.lastIndexOf(p(t));-1===n&&(n=0);var r=j.lastIndexOf(p(e));-1===r&&(r=0);var i=n-r;i&&(C=!0,R(i))}(e)}))}}(i)}}var x=I(),D=g(x);x!==D&&O(D);var P=E(),j=[p(P)];function R(e){t.go(e)}var L=0;function M(e){1===(L+=e)&&1===e?window.addEventListener("hashchange",N):0===L&&window.removeEventListener("hashchange",N)}var F=!1;var U={length:t.length,action:"POP",location:P,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=S(window.location.href)),n+"#"+g(s+p(e))},push:function(e,t){var n=v(e,void 0,void 0,U.location);_.confirmTransitionTo(n,"PUSH",o,(function(e){if(e){var t=p(n),r=g(s+t);if(I()!==r){A=t,function(e){window.location.hash=e}(r);var i=j.lastIndexOf(p(U.location)),o=j.slice(0,i+1);o.push(t),j=o,k({action:"PUSH",location:n})}else k()}}))},replace:function(e,t){var n=v(e,void 0,void 0,U.location);_.confirmTransitionTo(n,"REPLACE",o,(function(e){if(e){var t=p(n),r=g(s+t);I()!==r&&(A=t,O(r));var i=j.indexOf(p(U.location));-1!==i&&(j[i]=t),k({action:"REPLACE",location:n})}}))},go:R,goBack:function(){R(-1)},goForward:function(){R(1)},block:function(e){void 0===e&&(e=!1);var t=_.setPrompt(e);return F||(M(1),F=!0),function(){return F&&(F=!1,M(-1)),t()}},listen:function(e){var t=_.appendListener(e);return M(1),function(){M(-1),t()}}};return U}function k(e,t,n){return Math.min(Math.max(e,t),n)}function C(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,a=t.initialIndex,u=void 0===a?0:a,s=t.keyLength,c=void 0===s?6:s,l=y();function f(e){Object(r.a)(w,e),w.length=w.entries.length,l.notifyListeners(w.location,w.action)}function h(){return Math.random().toString(36).substr(2,c)}var d=k(u,0,o.length-1),g=o.map((function(e){return v(e,void 0,"string"===typeof e?h():e.key||h())})),m=p;function b(e){var t=k(w.index+e,0,w.entries.length-1),r=w.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var w={length:g.length,action:"POP",location:g[d],index:d,entries:g,createHref:m,push:function(e,t){var r=v(e,t,h(),w.location);l.confirmTransitionTo(r,"PUSH",n,(function(e){if(e){var t=w.index+1,n=w.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),f({action:"PUSH",location:r,index:t,entries:n})}}))},replace:function(e,t){var r=v(e,t,h(),w.location);l.confirmTransitionTo(r,"REPLACE",n,(function(e){e&&(w.entries[w.index]=r,f({action:"REPLACE",location:r}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=w.index+e;return t>=0&&t<w.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return w}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect},function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,u=o.length;a<u;a++,i++)r[i]=o[a];return r}var i;n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return d}));var o,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var u={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},s=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},f=function(){function e(e){this.name=e,this._logLevel=s,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?u[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function h(e){a.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=u[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var u=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:u,args:i,type:t.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r="Invariant failed";function i(e,t){if(!e)throw new Error(r)}},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function u(e){r(a,i,o,u,s,"next",e)}function s(e){r(a,i,o,u,s,"throw",e)}u(void 0)}))}}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l}));var r=n(0),i=n(11),o=n(37),a=Object(o.a)((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}})),u=n(31),s=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,o,u;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var c=Object(r.g)(s),l=c.next();!l.done;l=c.next()){l.value.remove(this)}}catch(y){e={error:y}}finally{try{l&&!l.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}else s.remove(this);var h=this.initialTeardown;if(Object(i.a)(h))try{h()}catch(m){u=m instanceof a?m.errors:[m]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var p=Object(r.g)(d),v=p.next();!v.done;v=p.next()){var g=v.value;try{f(g)}catch(b){u=null!==u&&void 0!==u?u:[],b instanceof a?u=Object(r.f)(Object(r.f)([],Object(r.e)(u)),Object(r.e)(b.errors)):u.push(b)}}}catch(w){n={error:w}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(n)throw n.error}}}if(u)throw new a(u)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)f(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Object(u.a)(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&Object(u.a)(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),c=s.EMPTY;function l(e){return e instanceof s||e&&"closed"in e&&Object(i.a)(e.remove)&&Object(i.a)(e.add)&&Object(i.a)(e.unsubscribe)}function f(e){Object(i.a)(e)?e():e.unsubscribe()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(11);function i(e){return function(t){if(function(e){return Object(r.a)(null===e||void 0===e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(n){this.error(n)}}));throw new TypeError("Unable to lift unknown Observable type")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);function i(e,t,n,r,i){return new o(e,t,n,r,i)}var o=function(e){function t(t,n,r,i,o,a){var u=e.call(this,t)||this;return u.onFinalize=o,u.shouldUnsubscribe=a,u._next=n?function(e){try{n(e)}catch(r){t.error(r)}}:e.prototype._next,u._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,u._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,u}return Object(r.c)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(n(28).b)},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n(18),i=null;function o(e){if(r.a.useDeprecatedSynchronousErrorHandling){var t=!i;if(t&&(i={errorThrown:!1,error:null}),e(),t){var n=i,o=n.errorThrown,a=n.error;if(i=null,o)throw a}}else e()}function a(e){r.a.useDeprecatedSynchronousErrorHandling&&i&&(i.errorThrown=!0,i.error=e)}},function(e,t,n){"use strict";function r(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<o.length;s++){var c=o[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u}));var r=n(0),i=n(4),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),a=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.a;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(f){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[0],s=a[1],c=this.normalizeInstanceIdentifier(u);try{var l=this.getOrInitializeService({instanceIdentifier:c});s.resolve(l)}catch(f){}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),Object(r.e)(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e="[DEFAULT]"),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e="[DEFAULT]"),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,o=void 0===i?{}:i,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var s=Object(r.g)(this.instancesDeferred.entries()),c=s.next();!c.done;c=s.next()){var l=Object(r.e)(c.value,2),f=l[0],h=l[1];a===this.normalizeInstanceIdentifier(f)&&h.resolve(u)}}catch(d){t={error:d}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return u},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,o=this.onInitCallbacks.get(t);if(o)try{for(var a=Object(r.g)(o),u=a.next();!u.done;u=a.next()){var s=u.value;try{s(e,t)}catch(c){}}}catch(l){n={error:l}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,"[DEFAULT]"===t?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e="[DEFAULT]"),this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new a(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),i=n(2),o=n(33);function a(){var e=Object(r.useContext)(o.a).dragDropManager;return Object(i.a)(null!=e,"Expected drag drop context"),e}},function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return g}));var r=n(0),i=n(11),o=n(19),a=n(18),u={setTimeout:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=u.delegate;return(null===o||void 0===o?void 0:o.setTimeout)?o.setTimeout.apply(o,Object(r.f)([e,t],Object(r.e)(n))):setTimeout.apply(void 0,Object(r.f)([e,t],Object(r.e)(n)))})),clearTimeout:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=u.delegate;return((null===t||void 0===t?void 0:t.clearTimeout)||clearTimeout)(e)})),delegate:void 0};function s(){}var c=l("C",void 0,void 0);function l(e,t,n){return{kind:e,value:t,error:n}}var f=n(22),h=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,Object(o.c)(t)&&t.add(n)):n.destination=b,n}return Object(r.c)(t,e),t.create=function(e,t,n){return new g(e,t,n)},t.prototype.next=function(e){this.isStopped?m(function(e){return l("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?m(l("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?m(c,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(o.b),d=Function.prototype.bind;function p(e,t){return d.call(e,t)}var v=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(n){y(n)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(n){y(n)}else y(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){y(t)}},e}(),g=function(e){function t(t,n,r){var o,u,s=e.call(this)||this;Object(i.a)(t)||!t?o={next:null!==t&&void 0!==t?t:void 0,error:null!==n&&void 0!==n?n:void 0,complete:null!==r&&void 0!==r?r:void 0}:s&&a.a.useDeprecatedNextContext?((u=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},o={next:t.next&&p(t.next,u),error:t.error&&p(t.error,u),complete:t.complete&&p(t.complete,u)}):o=t;return s.destination=new v(o),s}return Object(r.c)(t,e),t}(h);function y(e){var t;a.a.useDeprecatedSynchronousErrorHandling?Object(f.a)(e):(t=e,u.setTimeout((function(){var e=a.a.onUnhandledError;if(!e)throw t;e(t)})))}function m(e,t){var n=a.a.onStoppedNotification;n&&u.setTimeout((function(){return n(e,t)}))}var b={closed:!0,next:s,error:function(e){throw e},complete:s}},function(e,t,n){e.exports=n(77)()},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return null!==e&&"object"===r(e)&&Object.prototype.hasOwnProperty.call(e,"current")}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return Me})),n.d(t,"b",(function(){return Fe}));var r=n(1);function i(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var o="function"===typeof Symbol&&Symbol.observable||"@@observable",a=function(){return Math.random().toString(36).substring(7).split("").join(".")},u={INIT:"@@redux/INIT"+a(),REPLACE:"@@redux/REPLACE"+a(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+a()}};function s(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function c(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(i(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(i(1));return n(c)(e,t)}if("function"!==typeof e)throw new Error(i(2));var a=e,l=t,f=[],h=f,d=!1;function p(){h===f&&(h=f.slice())}function v(){if(d)throw new Error(i(3));return l}function g(e){if("function"!==typeof e)throw new Error(i(4));if(d)throw new Error(i(5));var t=!0;return p(),h.push(e),function(){if(t){if(d)throw new Error(i(6));t=!1,p();var n=h.indexOf(e);h.splice(n,1),f=null}}}function y(e){if(!s(e))throw new Error(i(7));if("undefined"===typeof e.type)throw new Error(i(8));if(d)throw new Error(i(9));try{d=!0,l=a(l,e)}finally{d=!1}for(var t=f=h,n=0;n<t.length;n++){(0,t[n])()}return e}function m(e){if("function"!==typeof e)throw new Error(i(10));a=e,y({type:u.REPLACE})}function b(){var e,t=g;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(i(11));function n(){e.next&&e.next(v())}return n(),{unsubscribe:t(n)}}})[o]=function(){return this},e}return y({type:u.INIT}),(r={dispatch:y,subscribe:g,getState:v,replaceReducer:m})[o]=b,r}var l="dnd-core/INIT_COORDS",f="dnd-core/BEGIN_DRAG",h="dnd-core/PUBLISH_DRAG_SOURCE",d="dnd-core/HOVER",p="dnd-core/DROP",v="dnd-core/END_DRAG",g=function(e,t){return e===t};function y(e,t){return!e&&!t||!(!e||!t)&&(e.x===t.x&&e.y===t.y)}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case l:case f:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case d:return y(e.clientOffset,n.clientOffset)?e:w(w({},e),{},{clientOffset:n.clientOffset});case v:case p:return T;default:return e}}var I="dnd-core/ADD_SOURCE",O="dnd-core/ADD_TARGET",_="dnd-core/REMOVE_SOURCE",k="dnd-core/REMOVE_TARGET";function C(e){return(C="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t,n){return t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:n||null}),e)}function N(e,t){return e.filter((function(e){return e!==t}))}function x(e){return"object"===C(e)}function D(e,t){var n=new Map,r=function(e){n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(r),t.forEach(r);var i=[];return n.forEach((function(e,t){1===e&&i.push(t)})),i}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case f:return j(j({},e),{},{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case h:return j(j({},e),{},{isSourcePublic:!0});case d:return j(j({},e),{},{targetIds:n.targetIds});case k:return-1===e.targetIds.indexOf(n.targetId)?e:j(j({},e),{},{targetIds:N(e.targetIds,n.targetId)});case p:return j(j({},e),{},{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case v:return j(j({},e),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:case O:return e+1;case _:case k:return e-1;default:return e}}var U=[],V=[];function q(e,t){return e!==U&&(e===V||"undefined"===typeof t||(n=e,t.filter((function(e){return n.indexOf(e)>-1}))).length>0);var n}function B(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case d:break;case I:case O:case k:case _:return U;case f:case h:case v:case p:default:return V}var t=e.payload,n=t.targetIds,r=void 0===n?[]:n,i=t.prevTargetIds,o=void 0===i?[]:i,a=D(r,o),u=a.length>0||!m(r,o);if(!u)return U;var s=o[o.length-1],c=r[r.length-1];return s!==c&&(s&&a.push(s),c&&a.push(c)),a}function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+1}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:B(e.dirtyHandlerIds,{type:t.type,payload:H(H({},t.payload),{},{prevTargetIds:A(e,"dragOperation.targetIds",[])})}),dragOffset:S(e.dragOffset,t),refCount:F(e.refCount,t),dragOperation:M(e.dragOperation,t),stateId:z(e.stateId)}}U.__IS_NONE__=!0,V.__IS_ALL__=!0;var Q=n(2);function $(e,t){return{type:l,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}var X={type:l,payload:{clientOffset:null,sourceClientOffset:null}};function Y(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0},r=n.publishSource,i=void 0===r||r,o=n.clientOffset,a=n.getSourceClientOffset,u=e.getMonitor(),s=e.getRegistry();e.dispatch($(o)),J(t,u,s);var c=te(t,u);if(null!==c){var l=null;if(o){if(!a)throw new Error("getSourceClientOffset must be defined");Z(a),l=a(c)}e.dispatch($(o,l));var h=s.getSource(c),d=h.beginDrag(u,c);ee(d),s.pinSource(c);var p=s.getSourceType(c);return{type:f,payload:{itemType:p,item:d,sourceId:c,clientOffset:o||null,sourceClientOffset:l||null,isSourcePublic:!!i}}}e.dispatch(X)}}function J(e,t,n){Object(Q.a)(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){Object(Q.a)(n.getSource(e),"Expected sourceIds to be registered.")}))}function Z(e){Object(Q.a)("function"===typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}function ee(e){Object(Q.a)(x(e),"Item must be an object.")}function te(e,t){for(var n=null,r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}function ne(e){return function(){if(e.getMonitor().isDragging())return{type:h}}}function re(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}function ie(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.clientOffset;oe(t);var i=t.slice(0),o=e.getMonitor(),a=e.getRegistry();ae(i,o,a);var u=o.getItemType();return ue(i,a,u),se(i,o,a),{type:d,payload:{targetIds:i,clientOffset:r||null}}}}function oe(e){Object(Q.a)(Array.isArray(e),"Expected targetIds to be an array.")}function ae(e,t,n){Object(Q.a)(t.isDragging(),"Cannot call hover while not dragging."),Object(Q.a)(!t.didDrop(),"Cannot call hover after drop.");for(var r=0;r<e.length;r++){var i=e[r];Object(Q.a)(e.lastIndexOf(i)===r,"Expected targetIds to be unique in the passed array.");var o=n.getTarget(i);Object(Q.a)(o,"Expected targetIds to be registered.")}}function ue(e,t,n){for(var r=e.length-1;r>=0;r--){var i=e[r];re(t.getTargetType(i),n)||e.splice(r,1)}}function se(e,t,n){e.forEach((function(e){n.getTarget(e).hover(t,e)}))}function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function he(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.getMonitor(),r=e.getRegistry();de(n);var i=ve(n);i.forEach((function(i,o){var a=pe(i,o,r,n),u={type:p,payload:{dropResult:le(le({},t),a)}};e.dispatch(u)}))}}function de(e){Object(Q.a)(e.isDragging(),"Cannot call drop while not dragging."),Object(Q.a)(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function pe(e,t,n,r){var i=n.getTarget(e),o=i?i.drop(r,e):void 0;return function(e){Object(Q.a)("undefined"===typeof e||x(e),"Drop result must either be an object or undefined.")}(o),"undefined"===typeof o&&(o=0===t?{}:r.getDropResult()),o}function ve(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function ge(e){return function(){var t=e.getMonitor(),n=e.getRegistry();!function(e){Object(Q.a)(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);var r=t.getSourceId();null!=r&&(n.getSource(r,!0).endDrag(t,r),n.unpinSource());return{type:v}}}function ye(e,t){return{x:e.x-t.x,y:e.y-t.y}}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var be,we=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.registry=n}var t,n,r;return t=e,(n=[{key:"subscribeToStateChange",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handlerIds:void 0},r=n.handlerIds;Object(Q.a)("function"===typeof e,"listener must be a function."),Object(Q.a)("undefined"===typeof r||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");var i=this.store.getState().stateId,o=function(){var n=t.store.getState(),o=n.stateId;try{o===i||o===i+1&&!q(n.dirtyHandlerIds,r)||e()}finally{i=o}};return this.store.subscribe(o)}},{key:"subscribeToOffsetChange",value:function(e){var t=this;Object(Q.a)("function"===typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe((function(){var r=t.store.getState().dragOffset;r!==n&&(n=r,e())}))}},{key:"canDragSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e);return Object(Q.a)(t,"Expected to find a valid source."),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){if(!e)return!1;var t=this.registry.getTarget(e);return Object(Q.a)(t,"Expected to find a valid target."),!(!this.isDragging()||this.didDrop())&&re(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return Object(Q.a)(t,"Expected to find a valid source."),!(!this.isDragging()||!this.isSourcePublic())&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}},{key:"isOverTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;var n=t.shallow;if(!this.isDragging())return!1;var r=this.registry.getTargetType(e),i=this.getItemType();if(i&&!re(r,i))return!1;var o=this.getTargetIds();if(!o.length)return!1;var a=o.indexOf(e);return n?a===o.length-1:a>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return function(e){var t,n,r=e.clientOffset,i=e.initialClientOffset,o=e.initialSourceClientOffset;return r&&i&&o?ye((n=o,{x:(t=r).x+n.x,y:t.y+n.y}),i):null}(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return function(e){var t=e.clientOffset,n=e.initialClientOffset;return t&&n?ye(t,n):null}(this.store.getState().dragOffset)}}])&&me(t.prototype,n),r&&me(t,r),e}(),Ee=0;function Te(e){return(Te="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t){t&&Array.isArray(e)?e.forEach((function(e){return Se(e,!1)})):Object(Q.a)("string"===typeof e||"symbol"===Te(e),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(be||(be={}));var Ie=n(58);function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ke(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ce(e){var t=(Ee++).toString();switch(e){case be.SOURCE:return"S".concat(t);case be.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e))}}function Ae(e){switch(e[0]){case"S":return be.SOURCE;case"T":return be.TARGET;default:Object(Q.a)(!1,"Cannot parse handler ID: ".concat(e))}}function Ne(e,t){var n=e.entries(),r=!1;do{var i=n.next(),o=i.done;if(_e(i.value,2)[1]===t)return!0;r=!!o}while(!r);return!1}var xe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}var t,n,r;return t=e,(n=[{key:"addSource",value:function(e,t){Se(e),function(e){Object(Q.a)("function"===typeof e.canDrag,"Expected canDrag to be a function."),Object(Q.a)("function"===typeof e.beginDrag,"Expected beginDrag to be a function."),Object(Q.a)("function"===typeof e.endDrag,"Expected endDrag to be a function.")}(t);var n=this.addHandler(be.SOURCE,e,t);return this.store.dispatch(function(e){return{type:I,payload:{sourceId:e}}}(n)),n}},{key:"addTarget",value:function(e,t){Se(e,!0),function(e){Object(Q.a)("function"===typeof e.canDrop,"Expected canDrop to be a function."),Object(Q.a)("function"===typeof e.hover,"Expected hover to be a function."),Object(Q.a)("function"===typeof e.drop,"Expected beginDrag to be a function.")}(t);var n=this.addHandler(be.TARGET,e,t);return this.store.dispatch(function(e){return{type:O,payload:{targetId:e}}}(n)),n}},{key:"containsHandler",value:function(e){return Ne(this.dragSources,e)||Ne(this.dropTargets,e)}},{key:"getSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(Q.a)(this.isSourceId(e),"Expected a valid source ID.");var n=t&&e===this.pinnedSourceId,r=n?this.pinnedSource:this.dragSources.get(e);return r}},{key:"getTarget",value:function(e){return Object(Q.a)(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}},{key:"getSourceType",value:function(e){return Object(Q.a)(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}},{key:"getTargetType",value:function(e){return Object(Q.a)(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}},{key:"isSourceId",value:function(e){return Ae(e)===be.SOURCE}},{key:"isTargetId",value:function(e){return Ae(e)===be.TARGET}},{key:"removeSource",value:function(e){var t=this;Object(Q.a)(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:_,payload:{sourceId:e}}}(e)),Object(Ie.asap)((function(){t.dragSources.delete(e),t.types.delete(e)}))}},{key:"removeTarget",value:function(e){Object(Q.a)(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:k,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}},{key:"pinSource",value:function(e){var t=this.getSource(e);Object(Q.a)(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){Object(Q.a)(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(e,t,n){var r=Ce(e);return this.types.set(r,t),e===be.SOURCE?this.dragSources.set(r,n):e===be.TARGET&&this.dropTargets.set(r,n),r}}])&&Oe(t.prototype,n),r&&Oe(t,r),e}();function De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e){var t="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return c(W,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}var Re=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];De(this,e),this.isSetUp=!1,this.handleRefCountChange=function(){var e=t.store.getState().refCount>0;t.backend&&(e&&!t.isSetUp?(t.backend.setup(),t.isSetUp=!0):!e&&t.isSetUp&&(t.backend.teardown(),t.isSetUp=!1))};var r=je(n);this.store=r,this.monitor=new we(r,new xe(r)),r.subscribe(this.handleRefCountChange)}var t,n,r;return t=e,(n=[{key:"receiveBackend",value:function(e){this.backend=e}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var e=this,t=this.store.dispatch,n=function(e){return{beginDrag:Y(e),publishDragSource:ne(e),hover:ie(e),drop:he(e),endDrag:ge(e)}}(this);return Object.keys(n).reduce((function(r,i){var o,a=n[i];return r[i]=(o=a,function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=o.apply(e,r);"undefined"!==typeof a&&t(a)}),r}),{})}},{key:"dispatch",value:function(e){this.store.dispatch(e)}}])&&Pe(t.prototype,n),r&&Pe(t,r),e}();function Le(e,t,n,r){var i=new Re(r),o=e(i,t,n);return i.receiveBackend(o),i}var Me=r.createContext({dragDropManager:void 0});function Fe(e,t,n,r){return{dragDropManager:Le(e,t,n,r)}}},function(e,t,n){"use strict";var r=n(3);n.d(t,"a",(function(){return r.a}));r.a.registerVersion("firebase","8.10.1","app"),r.a.SDK_VERSION="8.10.1"},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(6),i=n(16),o=n(1),a=n.n(o),u=n(12),s=n(9),c=n(25),l=n(15),f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(u.a)(t.props),t}return Object(i.a)(t,e),t.prototype.render=function(){return a.a.createElement(r.b,{history:this.history,children:this.props.children})},t}(a.a.Component);a.a.Component;var h=function(e,t){return"function"===typeof e?e(t):e},d=function(e,t){return"string"===typeof e?Object(u.c)(e,null,null,t):e},p=function(e){return e},v=a.a.forwardRef;"undefined"===typeof v&&(v=p);var g=v((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=Object(c.a)(e,["innerRef","navigate","onClick"]),u=o.target,l=Object(s.a)({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=p!==v&&t||n,a.a.createElement("a",l)}));var y=v((function(e,t){var n=e.component,i=void 0===n?g:n,o=e.replace,f=e.to,y=e.innerRef,m=Object(c.a)(e,["component","replace","to","innerRef"]);return a.a.createElement(r.d.Consumer,null,(function(e){e||Object(l.a)(!1);var n=e.history,r=d(h(f,e.location),e.location),c=r?n.createHref(r):"",g=Object(s.a)({},m,{href:c,navigate:function(){var t=h(f,e.location),r=Object(u.e)(e.location)===Object(u.e)(d(t));(o||r?n.replace:n.push)(t)}});return p!==v?g.ref=t||y:g.innerRef=y,a.a.createElement(i,g)}))})),m=function(e){return e},b=a.a.forwardRef;"undefined"===typeof b&&(b=m);b((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,o=e.activeClassName,u=void 0===o?"active":o,f=e.activeStyle,p=e.className,v=e.exact,g=e.isActive,w=e.location,E=e.sensitive,T=e.strict,S=e.style,I=e.to,O=e.innerRef,_=Object(c.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.a.createElement(r.d.Consumer,null,(function(e){e||Object(l.a)(!1);var n=w||e.location,o=d(h(I,n),n),c=o.pathname,k=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),C=k?Object(r.e)(n.pathname,{path:k,exact:v,sensitive:E,strict:T}):null,A=!!(g?g(C,n):C),N="function"===typeof p?p(A):p,x="function"===typeof S?S(A):S;A&&(N=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(N,u),x=Object(s.a)({},x,f));var D=Object(s.a)({"aria-current":A&&i||null,className:N,style:x,to:o},_);return m!==b?D.ref=t||O:D.innerRef=O,a.a.createElement(y,D)}))}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(30);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";function r(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t,n){var r=n.getRegistry(),i=r.addTarget(e,t);return[i,function(){return r.removeTarget(i)}]}function i(e,t,n){var r=n.getRegistry(),i=r.addSource(e,t);return[i,function(){return r.removeSource(i)}]}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(13),i=n(23),o=n(1);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t,n){var u=s(function(e,t,n){var u=a(Object(o.useState)((function(){return t(e)})),2),s=u[0],c=u[1],l=Object(o.useCallback)((function(){var r=t(e);Object(i.a)(s,r)||(c(r),n&&n())}),[s,e,n]);return Object(r.a)(l,[]),[s,l]}(e,t,n),2),c=u[0],l=u[1];return Object(r.a)((function(){var t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(l,{handlerIds:[t]})}),[e,l]),c}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1),i=n(2);function o(e,t){"function"===typeof e?e(t):e.current=t}function a(e,t){var n=e.ref;return Object(i.a)("string"!==typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),n?Object(r.cloneElement)(e,{ref:function(e){o(n,e),o(t,e)}}):Object(r.cloneElement)(e,{ref:t})}function u(e){if("string"!==typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(t," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function s(e){var t={};return Object.keys(e).forEach((function(n){var i=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{var o=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Object(r.isValidElement)(t)){var i=t;return e(i,n),i}var o=t;u(o);var s=n?function(t){return e(t,n)}:e;return a(o,s)}}(i);t[n]=function(){return o}}})),t}},,function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(79);e.exports=d,e.exports.parse=o,e.exports.compile=function(e,t){return u(o(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(a,d),a=d+f.length,h)u+=h[1];else{var p=e[a],v=n[2],g=n[3],y=n[4],m=n[5],b=n[6],w=n[7];u&&(r.push(u),u="");var E=null!=v&&null!=p&&p!==v,T="+"===b||"*"===b,S="?"===b||"*"===b,I=n[2]||l,O=y||m;r.push({name:g||o++,prefix:v||"",delimiter:I,optional:S,repeat:T,partial:E,asterisk:!!w,pattern:O?c(O):w?".*":"[^"+s(I)+"]+?"})}}return a<e.length&&(u+=e.substr(a)),u&&r.push(u),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var o="",u=t||{},s=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');o+=l.prefix+f}}else o+=l}return o}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)a+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),a+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),v=a.slice(-p.length)===p;return i||(a=(v?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+a,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(o(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(28),i=n(19),o="function"===typeof Symbol&&Symbol.observable||"@@observable",a=n(38);function u(e){return 0===e.length?a.a:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var s=n(18),c=n(11),l=n(22),f=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var o,a=this,u=(o=e)&&o instanceof r.b||function(e){return e&&Object(c.a)(e.next)&&Object(c.a)(e.error)&&Object(c.a)(e.complete)}(o)&&Object(i.c)(o)?e:new r.a(e,t,n);return Object(l.b)((function(){var e=a,t=e.operator,n=e.source;u.add(t?t.call(u,n):n?a._subscribe(u):a._trySubscribe(u))})),u},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=h(t))((function(t,i){var o=new r.a({next:function(t){try{e(t)}catch(n){i(n),o.unsubscribe()}},error:i,complete:t});n.subscribe(o)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[o]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return u(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=h(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function h(e){var t;return null!==(t=null!==e&&void 0!==e?e:s.a.Promise)&&void 0!==t?t:Promise}},,function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,u,s=a(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(s[l]=n[l]);if(r){u=r(n);for(var f=0;f<u.length;f++)o.call(n,u[f])&&(s[u[f]]=n[u[f]])}}return s}},,function(e,t,n){"use strict";e.exports=n(80)},function(e,t,n){"use strict";var r=n(43),i=n(44);Object.defineProperty(t,"__esModule",{value:!0});var o=n(85),a=function(){function e(){var t=this;r(this,e),this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=function(){for(var e=t.queue;t.index<e.length;){var n=t.index;if(t.index++,e[n].call(),t.index>t.capacity){for(var r=0,i=e.length-t.index;r<i;r++)e[r]=e[r+t.index];e.length-=t.index,t.index=0}}e.length=0,t.index=0,t.flushing=!1},this.registerPendingError=function(e){t.pendingErrors.push(e),t.requestErrorThrow()},this.requestFlush=o.makeRequestCall(this.flush),this.requestErrorThrow=o.makeRequestCallFromTimer((function(){if(t.pendingErrors.length)throw t.pendingErrors.shift()}))}return i(e,[{key:"enqueueTask",value:function(e){var t=this.queue,n=this.requestFlush;t.length||(n(),this.flushing=!0),t[t.length]=e}}]),e}();t.AsapQueue=a},function(e,t,n){"use strict";var r=n(43),i=n(44);Object.defineProperty(t,"__esModule",{value:!0});var o=n(86),a=function(){function e(t){r(this,e),this.onError=t,this.freeTasks=[]}return i(e,[{key:"create",value:function(e){var t=this.freeTasks,n=t.length?t.pop():new o.RawTask(this.onError,(function(e){return t[t.length]=e}));return n.task=e,n}}]),e}();t.TaskFactory=a},,function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}}(),e.exports=n(70)},function(e,t,n){"use strict";(function(e){var r=n(1),i=n.n(r),o=n(16),a=n(29),u=n.n(a),s="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};function c(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var l=i.a.createContext||function(e,t){var n,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return s[e]=(s[e]||0)+1}()+"__",l=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=c(t.props.value),t}Object(o.a)(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof t?t(r,i):1073741823,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},r.render=function(){return this.props.children},n}(r.Component);l.childContextTypes=((n={})[a]=u.a.object.isRequired,n);var f=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(o.a)(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?1073741823:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?1073741823:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return f.contextTypes=((i={})[a]=u.a.object,i),{Provider:l,Consumer:f}};t.a=l}).call(this,n(26))},function(e,t,n){"use strict";var r=n(50),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?a:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var u=s(t),v=s(n),g=0;g<a.length;++g){var y=a[g];if(!o[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var m=h(n,y);try{c(t,y,m)}catch(b){}}}}return t}},function(e,t,n){var r,i=n(81),o=function(e){var t="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",n=["1-0","0-1","1/2-1/2","*"],r={b:[16,32,17,15],w:[-16,-32,-17,-15]},o={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},a=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],u=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],s={p:0,n:1,b:2,r:3,q:4,k:5},c={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},l={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},f={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},h={w:[{square:f.a1,flag:l.QSIDE_CASTLE},{square:f.h1,flag:l.KSIDE_CASTLE}],b:[{square:f.a8,flag:l.QSIDE_CASTLE},{square:f.h8,flag:l.KSIDE_CASTLE}]},d=new Array(128),p={w:-1,b:-1},v="w",g={w:0,b:0},y=-1,m=0,b=1,w=[],E={},T={};function S(e){"undefined"===typeof e&&(e=!1),d=new Array(128),p={w:-1,b:-1},v="w",g={w:0,b:0},y=-1,m=0,b=1,w=[],e||(E={}),T={},N(C())}function I(){for(var e=[],t={},n=function(e){e in T&&(t[e]=T[e])};w.length>0;)e.push(H());for(n(C());e.length>0;)K(e.pop()),n(C());T=t}function O(){_(t)}function _(e,t){"undefined"===typeof t&&(t=!1);var n=e.split(/\s+/),r=n[0],i=0;if(!k(e).valid)return!1;S(t);for(var o=0;o<r.length;o++){var a=r.charAt(o);if("/"===a)i+=8;else if(-1!=="0123456789".indexOf(a))i+=parseInt(a,10);else{var u=a<"a"?"w":"b";D({type:a.toLowerCase(),color:u},$(i)),i++}}return v=n[1],n[2].indexOf("K")>-1&&(g.w|=l.KSIDE_CASTLE),n[2].indexOf("Q")>-1&&(g.w|=l.QSIDE_CASTLE),n[2].indexOf("k")>-1&&(g.b|=l.KSIDE_CASTLE),n[2].indexOf("q")>-1&&(g.b|=l.QSIDE_CASTLE),y="-"===n[3]?-1:f[n[3]],m=parseInt(n[4],10),b=parseInt(n[5],10),N(C()),!0}function k(e){var t="No errors.",n="FEN string must contain six space-delimited fields.",r="6th field (move number) must be a positive integer.",i="5th field (half move counter) must be a non-negative integer.",o="4th field (en-passant square) is invalid.",a="3rd field (castling availability) is invalid.",u="2nd field (side to move) is invalid.",s="1st field (piece positions) does not contain 8 '/'-delimited rows.",c="1st field (piece positions) is invalid [consecutive numbers].",l="1st field (piece positions) is invalid [invalid piece].",f="1st field (piece positions) is invalid [row too large].",h="Illegal en-passant square",d=e.split(/\s+/);if(6!==d.length)return{valid:!1,error_number:1,error:n};if(isNaN(d[5])||parseInt(d[5],10)<=0)return{valid:!1,error_number:2,error:r};if(isNaN(d[4])||parseInt(d[4],10)<0)return{valid:!1,error_number:3,error:i};if(!/^(-|[abcdefgh][36])$/.test(d[3]))return{valid:!1,error_number:4,error:o};if(!/^(KQ?k?q?|Qk?q?|kq?|q|-)$/.test(d[2]))return{valid:!1,error_number:5,error:a};if(!/^(w|b)$/.test(d[1]))return{valid:!1,error_number:6,error:u};var p=d[0].split("/");if(8!==p.length)return{valid:!1,error_number:7,error:s};for(var v=0;v<p.length;v++){for(var g=0,y=!1,m=0;m<p[v].length;m++)if(isNaN(p[v][m])){if(!/^[prnbqkPRNBQK]$/.test(p[v][m]))return{valid:!1,error_number:9,error:l};g+=1,y=!1}else{if(y)return{valid:!1,error_number:8,error:c};g+=parseInt(p[v][m],10),y=!0}if(8!==g)return{valid:!1,error_number:10,error:f}}return"3"==d[3][1]&&"w"==d[1]||"6"==d[3][1]&&"b"==d[1]?{valid:!1,error_number:11,error:h}:{valid:!0,error_number:0,error:t}}function C(){for(var e=0,t="",n=f.a8;n<=f.h1;n++){if(null==d[n])e++;else{e>0&&(t+=e,e=0);var r=d[n].color,i=d[n].type;t+="w"===r?i.toUpperCase():i.toLowerCase()}n+1&136&&(e>0&&(t+=e),n!==f.h1&&(t+="/"),e=0,n+=8)}var o="";g.w&l.KSIDE_CASTLE&&(o+="K"),g.w&l.QSIDE_CASTLE&&(o+="Q"),g.b&l.KSIDE_CASTLE&&(o+="k"),g.b&l.QSIDE_CASTLE&&(o+="q"),o=o||"-";var a=-1===y?"-":$(y);return[t,v,o,a,m,b].join(" ")}function A(e){for(var t=0;t<e.length;t+=2)"string"===typeof e[t]&&"string"===typeof e[t+1]&&(E[e[t]]=e[t+1]);return E}function N(e){w.length>0||(e!==t?(E.SetUp="1",E.FEN=e):(delete E.SetUp,delete E.FEN))}function x(e){var t=d[f[e]];return t?{type:t.type,color:t.color}:null}function D(e,t){if(!("type"in e)||!("color"in e))return!1;if(-1==="pnbrqkPNBRQK".indexOf(e.type.toLowerCase()))return!1;if(!(t in f))return!1;var n=f[t];return("k"!=e.type||-1==p[e.color]||p[e.color]==n)&&(d[n]={type:e.type,color:e.color},"k"===e.type&&(p[e.color]=n),N(C()),!0)}function P(e,t,n,r,i){var o={color:v,from:t,to:n,flags:r,piece:e[t].type};return i&&(o.flags|=l.PROMOTION,o.promotion=i),e[n]?o.captured=e[n].type:r&l.EP_CAPTURE&&(o.captured="p"),o}function j(e){function t(e,t,n,r,i){if("p"!==e[n].type||0!==W(r)&&7!==W(r))t.push(P(e,n,r,i));else for(var o=["q","r","b","n"],a=0,u=o.length;a<u;a++)t.push(P(e,n,r,i,o[a]))}var n=[],i=v,a=X(i),u={b:1,w:6},s=f.a8,c=f.h1,h=!1,m="undefined"===typeof e||!("legal"in e)||e.legal;if("undefined"!==typeof e&&"square"in e){if(!(e.square in f))return[];s=c=f[e.square],h=!0}for(var b=s;b<=c;b++)if(136&b)b+=7;else{var w=d[b];if(null!=w&&w.color===i)if("p"===w.type){var E=b+r[i][0];if(null==d[E]){t(d,n,b,E,l.NORMAL);E=b+r[i][1];u[i]===W(b)&&null==d[E]&&t(d,n,b,E,l.BIG_PAWN)}for(T=2;T<4;T++){136&(E=b+r[i][T])||(null!=d[E]&&d[E].color===a?t(d,n,b,E,l.CAPTURE):E===y&&t(d,n,b,y,l.EP_CAPTURE))}}else for(var T=0,S=o[w.type].length;T<S;T++){var I=o[w.type][T];for(E=b;!(136&(E+=I));){if(null!=d[E]){if(d[E].color===i)break;t(d,n,b,E,l.CAPTURE);break}if(t(d,n,b,E,l.NORMAL),"n"===w.type||"k"===w.type)break}}}if(!h||c===p[i]){if(g[i]&l.KSIDE_CASTLE){var O=(_=p[i])+2;null!=d[_+1]||null!=d[O]||M(a,p[i])||M(a,_+1)||M(a,O)||t(d,n,p[i],O,l.KSIDE_CASTLE)}if(g[i]&l.QSIDE_CASTLE){var _;O=(_=p[i])-2;null!=d[_-1]||null!=d[_-2]||null!=d[_-3]||M(a,p[i])||M(a,_-1)||M(a,O)||t(d,n,p[i],O,l.QSIDE_CASTLE)}}if(!m)return n;var k=[];for(b=0,S=n.length;b<S;b++)K(n[b]),F(i)||k.push(n[b]),H();return k}function R(e,t){var n="";if(e.flags&l.KSIDE_CASTLE)n="O-O";else if(e.flags&l.QSIDE_CASTLE)n="O-O-O";else{var r=function(e,t){for(var n=j({legal:!t}),r=e.from,i=e.to,o=e.piece,a=0,u=0,s=0,c=0,l=n.length;c<l;c++){var f=n[c].from,h=n[c].to,d=n[c].piece;o===d&&r!==f&&i===h&&(a++,W(r)===W(f)&&u++,Q(r)===Q(f)&&s++)}if(a>0)return u>0&&s>0?$(r):s>0?$(r).charAt(1):$(r).charAt(0);return""}(e,t);"p"!==e.piece&&(n+=e.piece.toUpperCase()+r),e.flags&(l.CAPTURE|l.EP_CAPTURE)&&("p"===e.piece&&(n+=$(e.from)[0]),n+="x"),n+=$(e.to),e.flags&l.PROMOTION&&(n+="="+e.promotion.toUpperCase())}return K(e),U()&&(V()?n+="#":n+="+"),H(),n}function L(e){return e.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}function M(e,t){for(var n=f.a8;n<=f.h1;n++)if(136&n)n+=7;else if(null!=d[n]&&d[n].color===e){var r=d[n],i=n-t,o=i+119;if(a[o]&1<<s[r.type]){if("p"===r.type){if(i>0){if("w"===r.color)return!0}else if("b"===r.color)return!0;continue}if("n"===r.type||"k"===r.type)return!0;for(var c=u[o],l=n+c,h=!1;l!==t;){if(null!=d[l]){h=!0;break}l+=c}if(!h)return!0}}return!1}function F(e){return M(X(e),p[e])}function U(){return F(v)}function V(){return U()&&0===j().length}function q(){return!U()&&0===j().length}function B(){for(var e={},t=[],n=0,r=0,i=f.a8;i<=f.h1;i++)if(r=(r+1)%2,136&i)i+=7;else{var o=d[i];o&&(e[o.type]=o.type in e?e[o.type]+1:1,"b"===o.type&&t.push(r),n++)}if(2===n)return!0;if(3===n&&(1===e.b||1===e.n))return!0;if(n===e.b+2){var a=0,u=t.length;for(i=0;i<u;i++)a+=t[i];if(0===a||a===u)return!0}return!1}function z(){for(var e=[],t={},n=!1;;){var r=H();if(!r)break;e.push(r)}for(;;){var i=C().split(" ").slice(0,4).join(" ");if(t[i]=i in t?t[i]+1:1,t[i]>=3&&(n=!0),!e.length)break;K(e.pop())}return n}function K(e){var t=v,n=X(t);if(function(e){w.push({move:e,kings:{b:p.b,w:p.w},turn:v,castling:{b:g.b,w:g.w},ep_square:y,half_moves:m,move_number:b})}(e),d[e.to]=d[e.from],d[e.from]=null,e.flags&l.EP_CAPTURE&&("b"===v?d[e.to-16]=null:d[e.to+16]=null),e.flags&l.PROMOTION&&(d[e.to]={type:e.promotion,color:t}),"k"===d[e.to].type){if(p[d[e.to].color]=e.to,e.flags&l.KSIDE_CASTLE){var r=e.to-1,i=e.to+1;d[r]=d[i],d[i]=null}else if(e.flags&l.QSIDE_CASTLE){r=e.to+1,i=e.to-2;d[r]=d[i],d[i]=null}g[t]=""}if(g[t])for(var o=0,a=h[t].length;o<a;o++)if(e.from===h[t][o].square&&g[t]&h[t][o].flag){g[t]^=h[t][o].flag;break}if(g[n])for(o=0,a=h[n].length;o<a;o++)if(e.to===h[n][o].square&&g[n]&h[n][o].flag){g[n]^=h[n][o].flag;break}y=e.flags&l.BIG_PAWN?"b"===v?e.to-16:e.to+16:-1,"p"===e.piece||e.flags&(l.CAPTURE|l.EP_CAPTURE)?m=0:m++,"b"===v&&b++,v=X(v)}function H(){var e=w.pop();if(null==e)return null;var t=e.move;p=e.kings,v=e.turn,g=e.castling,y=e.ep_square,m=e.half_moves,b=e.move_number;var n,r,i=v,o=X(v);if(d[t.from]=d[t.to],d[t.from].type=t.piece,d[t.to]=null,t.flags&l.CAPTURE)d[t.to]={type:t.captured,color:o};else if(t.flags&l.EP_CAPTURE){var a;a="b"===i?t.to-16:t.to+16,d[a]={type:"p",color:o}}t.flags&(l.KSIDE_CASTLE|l.QSIDE_CASTLE)&&(t.flags&l.KSIDE_CASTLE?(n=t.to+1,r=t.to-1):t.flags&l.QSIDE_CASTLE&&(n=t.to-2,r=t.to+1),d[n]=d[r],d[r]=null);return t}function G(e,t){var n=L(e);if(t){var r=n.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/);if(r)var i=r[1],o=r[2],a=r[3],u=r[4]}for(var s=j(),c=0,l=s.length;c<l;c++){if(n===L(R(s[c]))||t&&n===L(R(s[c],!0)))return s[c];if(r&&(!i||i.toLowerCase()==s[c].piece)&&f[o]==s[c].from&&f[a]==s[c].to&&(!u||u.toLowerCase()==s[c].promotion))return s[c]}return null}function W(e){return e>>4}function Q(e){return 15&e}function $(e){var t=Q(e),n=W(e);return"abcdefgh".substring(t,t+1)+"87654321".substring(n,n+1)}function X(e){return"w"===e?"b":"w"}function Y(e){var t=function e(t){var n=t instanceof Array?[]:{};for(var r in t)n[r]="object"===typeof r?e(t[r]):t[r];return n}(e);t.san=R(t,!1),t.to=$(t.to),t.from=$(t.from);var n="";for(var r in l)l[r]&t.flags&&(n+=c[r]);return t.flags=n,t}function J(e){return e.replace(/^\s+|\s+$/g,"")}return _("undefined"===typeof e?t:e),{WHITE:"w",BLACK:"b",PAWN:"p",KNIGHT:"n",BISHOP:"b",ROOK:"r",QUEEN:"q",KING:"k",SQUARES:function(){for(var e=[],t=f.a8;t<=f.h1;t++)136&t?t+=7:e.push($(t));return e}(),FLAGS:c,load:function(e){return _(e)},reset:function(){return O()},moves:function(e){for(var t=j(e),n=[],r=0,i=t.length;r<i;r++)"undefined"!==typeof e&&"verbose"in e&&e.verbose?n.push(Y(t[r])):n.push(R(t[r],!1));return n},in_check:function(){return U()},in_checkmate:function(){return V()},in_stalemate:function(){return q()},in_draw:function(){return m>=100||q()||B()||z()},insufficient_material:function(){return B()},in_threefold_repetition:function(){return z()},game_over:function(){return m>=100||V()||q()||B()||z()},validate_fen:function(e){return k(e)},fen:function(){return C()},board:function(){for(var e=[],t=[],n=f.a8;n<=f.h1;n++)null==d[n]?t.push(null):t.push({type:d[n].type,color:d[n].color}),n+1&136&&(e.push(t),t=[],n+=8);return e},pgn:function(e){var t="object"===typeof e&&"string"===typeof e.newline_char?e.newline_char:"\n",n="object"===typeof e&&"number"===typeof e.max_width?e.max_width:0,r=[],o=!1;for(var a in E)r.push("["+a+' "'+E[a]+'"]'+t),o=!0;o&&w.length&&r.push(t);for(var u=function(e){var t=T[C()];if("undefined"!==typeof t){var n=e.length>0?" ":"";e="".concat(e).concat(n,"{").concat(t,"}")}return e},s=[];w.length>0;)s.push(H());var c=[],l="";for(0===s.length&&c.push(u(""));s.length>0;){l=u(l);var f=s.pop();w.length||"b"!==f.color?"w"===f.color&&(l.length&&c.push(l),l=b+"."):l=b+". ...",l=l+" "+R(f,!1),K(f)}if(l.length&&c.push(u(l)),"undefined"!==typeof E.Result&&c.push(E.Result),0===n)return r.join("")+c.join(" ");var h=function(){return r.length>0&&" "===r[r.length-1]&&(r.pop(),!0)},d=function(e,o){var a,u=i(o.split(" "));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s){if(e+s.length>n){for(;h();)e--;r.push(t),e=0}r.push(s),e+=s.length,r.push(" "),e++}}}catch(c){u.e(c)}finally{u.f()}return h()&&e--,e},p=0;for(a=0;a<c.length;a++)p+c[a].length>n&&c[a].includes("{")?p=d(p,c[a]):(p+c[a].length>n&&0!==a?(" "===r[r.length-1]&&r.pop(),r.push(t),p=0):0!==a&&(r.push(" "),p++),r.push(c[a]),p+=c[a].length);return r.join("")},load_pgn:function(e,t){var r="undefined"!==typeof t&&"sloppy"in t&&t.sloppy;function i(e){return e.replace(/\\/g,"\\")}var o="object"===typeof t&&"string"===typeof t.newline_char?t.newline_char:"\r?\n",a=new RegExp("^(\\[((?:"+i(o)+")|.)*\\])(?:"+i(o)+"){2}"),u=a.test(e)?a.exec(e)[1]:"";O();var s=function(e,t){for(var n="object"===typeof t&&"string"===typeof t.newline_char?t.newline_char:"\r?\n",r={},o=e.split(new RegExp(i(n))),a="",u="",s=0;s<o.length;s++)a=o[s].replace(/^\[([A-Z][A-Za-z]*)\s.*\]$/,"$1"),u=o[s].replace(/^\[[A-Za-z]+\s"(.*)"\ *\]$/,"$1"),J(a).length>0&&(r[a]=u);return r}(u,t);for(var c in s)A([c,s[c]]);if("1"===s.SetUp&&(!("FEN"in s)||!_(s.FEN,!0)))return!1;for(var l=function(e){return e=e.replace(new RegExp(i(o),"g")," "),"{".concat(function(e){return Array.from(e).map((function(e){return e.charCodeAt(0)<128?e.charCodeAt(0).toString(16):encodeURIComponent(e).replace(/\%/g,"").toLowerCase()})).join("")}(e.slice(1,e.length-1)),"}")},f=function(e){if(e.startsWith("{")&&e.endsWith("}"))return function(e){return 0==e.length?"":decodeURIComponent("%"+e.match(/.{1,2}/g).join("%"))}(e.slice(1,e.length-1))},h=e.replace(u,"").replace(new RegExp("({[^}]*})+?|;([^".concat(i(o),"]*)"),"g"),(function(e,t,n){return void 0!==t?l(t):" "+l("{".concat(n.slice(1),"}"))})).replace(new RegExp(i(o),"g")," "),d=/(\([^\(\)]+\))+?/g;d.test(h);)h=h.replace(d,"");var p=J(h=(h=(h=h.replace(/\d+\.(\.\.)?/g,"")).replace(/\.\.\./g,"")).replace(/\$\d+/g,"")).split(new RegExp(/\s+/));p=p.join(",").replace(/,,+/g,",").split(",");for(var v="",g=0;g<p.length-1;g++){var y=f(p[g]);if(void 0===y){if(null==(v=G(p[g],r)))return!1;K(v)}else T[C()]=y}if(void 0!==(y=f(p[p.length-1]))&&(T[C()]=y,p.pop()),v=p[p.length-1],n.indexOf(v)>-1)(function(e){for(var t in e)return!0;return!1})(E)&&"undefined"===typeof E.Result&&A(["Result",v]);else{if(null==(v=G(v,r)))return!1;K(v)}return!0},header:function(){return A(arguments)},ascii:function(){return function(){for(var e="   +------------------------+\n",t=f.a8;t<=f.h1;t++){if(0===Q(t)&&(e+=" "+"87654321"[W(t)]+" |"),null==d[t])e+=" . ";else{var n=d[t].type;e+=" "+("w"===d[t].color?n.toUpperCase():n.toLowerCase())+" "}t+1&136&&(e+="|\n",t+=8)}return e+="   +------------------------+\n",e+="     a  b  c  d  e  f  g  h\n"}()},turn:function(){return v},move:function(e,t){var n="undefined"!==typeof t&&"sloppy"in t&&t.sloppy,r=null;if("string"===typeof e)r=G(e,n);else if("object"===typeof e)for(var i=j(),o=0,a=i.length;o<a;o++)if(e.from===$(i[o].from)&&e.to===$(i[o].to)&&(!("promotion"in i[o])||e.promotion===i[o].promotion)){r=i[o];break}if(!r)return null;var u=Y(r);return K(r),u},undo:function(){var e=H();return e?Y(e):null},clear:function(){return S()},put:function(e,t){return D(e,t)},get:function(e){return x(e)},remove:function(e){return function(e){var t=x(e);return d[f[e]]=null,t&&"k"===t.type&&(p[t.color]=-1),N(C()),t}(e)},perft:function(e){return function e(t){for(var n=j({legal:!1}),r=0,i=v,o=0,a=n.length;o<a;o++){if(K(n[o]),!F(i))if(t-1>0)r+=e(t-1);else r++;H()}return r}(e)},square_color:function(e){if(e in f){var t=f[e];return(W(t)+Q(t))%2===0?"light":"dark"}return null},history:function(e){for(var t=[],n=[],r=("undefined"!==typeof e&&"verbose"in e&&e.verbose);w.length>0;)t.push(H());for(;t.length>0;){var i=t.pop();r?n.push(Y(i)):n.push(R(i)),K(i)}return n},get_comment:function(){return T[C()]},set_comment:function(e){T[C()]=e.replace("{","[").replace("}","]")},delete_comment:function(){var e=T[C()];return delete T[C()],e},get_comments:function(){return I(),Object.keys(T).map((function(e){return{fen:e,comment:T[e]}}))},delete_comments:function(){return I(),Object.keys(T).map((function(e){var t=T[e];return delete T[e],{fen:e,comment:t}}))}}};t.Chess=o,void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={},i=s(n(84));Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var o=s(n(87));Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var a=s(n(51));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var u=s(n(52));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(1),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};var o=function(e){return{loading:void 0===e||null===e,value:e}},a=function(e){var t=e?e():void 0,n=Object(r.useReducer)((function(e,t){switch(t.type){case"error":return i({},e,{error:t.error,loading:!1,value:void 0});case"reset":return o(t.defaultValue);case"value":return i({},e,{error:void 0,loading:!1,value:t.value});default:return e}}),o(t)),a=n[0],u=n[1],s=function(){var t=e?e():void 0;u({type:"reset",defaultValue:t})},c=function(e){u({type:"error",error:e})},l=function(e){u({type:"value",value:e})};return Object(r.useMemo)((function(){return{error:a.error,loading:a.loading,reset:s,setError:c,setValue:l,value:a.value}}),[a.error,a.loading,s,c,l,a.value])},u=function(e){var t=a((function(){return e.currentUser})),n=t.error,i=t.loading,o=t.setError,u=t.setValue,s=t.value;Object(r.useEffect)((function(){var t=e.onAuthStateChanged(u,o);return function(){t()}}),[e]);var c=[s,i,n];return Object(r.useMemo)((function(){return c}),c)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r={};function i(e){var t=null;return function(){return null==t&&(t=e()),t}}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(r),n.d(r,"FILE",(function(){return v})),n.d(r,"URL",(function(){return g})),n.d(r,"TEXT",(function(){return y}));var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.entered=[],this.isNodeInDocument=t}var t,n,r;return t=e,(n=[{key:"enter",value:function(e){var t=this,n=this.entered.length;return this.entered=function(e,t){var n=new Set,r=function(e){return n.add(e)};e.forEach(r),t.forEach(r);var i=[];return n.forEach((function(e){return i.push(e)})),i}(this.entered.filter((function(n){return t.isNodeInDocument(n)&&(!n.contains||n.contains(e))})),[e]),0===n&&this.entered.length>0}},{key:"leave",value:function(e){var t,n,r=this.entered.length;return this.entered=(t=this.entered.filter(this.isNodeInDocument),n=e,t.filter((function(e){return e!==n}))),r>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}])&&o(t.prototype,n),r&&o(t,r),e}(),u=i((function(){return/firefox/i.test(navigator.userAgent)})),s=i((function(){return Boolean(window.safari)}));function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=t.length,i=[],o=0;o<r;o++)i.push(o);i.sort((function(e,n){return t[e]<t[n]?-1:1}));for(var a,u,s=[],c=[],l=[],f=0;f<r-1;f++)a=t[f+1]-t[f],u=n[f+1]-n[f],c.push(a),s.push(u),l.push(u/a);for(var h=[l[0]],d=0;d<c.length-1;d++){var p=l[d],v=l[d+1];if(p*v<=0)h.push(0);else{a=c[d];var g=c[d+1],y=a+g;h.push(3*y/((y+g)/p+(y+a)/v))}}h.push(l[l.length-1]);for(var m,b=[],w=[],E=0;E<h.length-1;E++){m=l[E];var T=h[E],S=1/c[E],I=T+h[E+1]-m-m;b.push((m-T-I)*S),w.push(I*S*S)}this.xs=t,this.ys=n,this.c1s=h,this.c2s=b,this.c3s=w}var t,n,r;return t=e,(n=[{key:"interpolate",value:function(e){var t=this.xs,n=this.ys,r=this.c1s,i=this.c2s,o=this.c3s,a=t.length-1;if(e===t[a])return n[a];for(var u,s=0,c=o.length-1;s<=c;){var l=t[u=Math.floor(.5*(s+c))];if(l<e)s=u+1;else{if(!(l>e))return n[u];c=u-1}}var f=e-t[a=Math.max(0,c)],h=f*f;return n[a]+r[a]*f+i[a]*h+o[a]*f*h}}])&&c(t.prototype,n),r&&c(t,r),e}();function f(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}function h(e){return{x:e.clientX,y:e.clientY}}function d(e,t,n,r,i){var o=function(e){var t;return"IMG"===e.nodeName&&(u()||!(null===(t=document.documentElement)||void 0===t?void 0:t.contains(e)))}(t),a=f(o?e:t),c={x:n.x-a.x,y:n.y-a.y},h=e.offsetWidth,d=e.offsetHeight,p=r.anchorX,v=r.anchorY,g=function(e,t,n,r){var i=e?t.width:n,o=e?t.height:r;return s()&&e&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:o}}(o,t,h,d),y=g.dragPreviewWidth,m=g.dragPreviewHeight,b=i.offsetX,w=i.offsetY,E=0===w||w;return{x:0===b||b?b:new l([0,.5,1],[c.x,c.x/h*y,c.x+y-h]).interpolate(p),y:E?w:function(){var e=new l([0,.5,1],[c.y,c.y/d*m,c.y+m-d]).interpolate(v);return s()&&o&&(e+=(window.devicePixelRatio-1)*m),e}()}}var p,v="__NATIVE_FILE__",g="__NATIVE_URL__",y="__NATIVE_TEXT__";function m(e,t,n){var r=t.reduce((function(t,n){return t||e.getData(n)}),"");return null!=r?r:n}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=(b(p={},v,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items}},matchesTypes:["Files"]}),b(p,g,{exposeProperties:{urls:function(e,t){return m(e,t,"").split("\n")}},matchesTypes:["Url","text/uri-list"]}),b(p,y,{exposeProperties:{text:function(e,t){return m(e,t,"")}},matchesTypes:["Text","text/plain"]}),p);function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var T=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.item={},this.initializeExposedProperties()}var t,n,r;return t=e,(n=[{key:"initializeExposedProperties",value:function(){var e=this;Object.keys(this.config.exposeProperties).forEach((function(t){Object.defineProperty(e.item,t,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \"".concat(t,'" until the drop event.')),null}})}))}},{key:"loadDataTransfer",value:function(e){var t=this;if(e){var n={};Object.keys(this.config.exposeProperties).forEach((function(r){n[r]={value:t.config.exposeProperties[r](e,t.config.matchesTypes),configurable:!0,enumerable:!0}})),Object.defineProperties(this.item,n)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}])&&E(t.prototype,n),r&&E(t,r),e}();function S(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(w).filter((function(e){return w[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.globalContext=t}var t,n,r;return t=e,(n=[{key:"window",get:function(){return this.globalContext?this.globalContext:"undefined"!==typeof window?window:void 0}},{key:"document",get:function(){if(this.window)return this.window.document}}])&&I(t.prototype,n),r&&I(t,r),e}();function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var N=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.getSourceClientOffset=function(e){var t=r.sourceNodes.get(e);return t&&f(t)||null},this.endDragNativeItem=function(){r.isDraggingNativeItem()&&(r.actions.endDrag(),r.currentNativeHandle&&r.registry.removeSource(r.currentNativeHandle),r.currentNativeHandle=null,r.currentNativeSource=null)},this.isNodeInDocument=function(e){return Boolean(e&&r.document&&r.document.body&&document.body.contains(e))},this.endDragIfSourceWasRemovedFromDOM=function(){var e=r.currentDragSourceNode;r.isNodeInDocument(e)||r.clearCurrentDragSourceNode()&&r.actions.endDrag()},this.handleTopDragStartCapture=function(){r.clearCurrentDragSourceNode(),r.dragStartSourceIds=[]},this.handleTopDragStart=function(e){if(!e.defaultPrevented){var t=r.dragStartSourceIds;r.dragStartSourceIds=null;var n=h(e);r.monitor.isDragging()&&r.actions.endDrag(),r.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:r.getSourceClientOffset,clientOffset:n});var i=e.dataTransfer,o=S(i);if(r.monitor.isDragging()){if(i&&"function"===typeof i.setDragImage){var a=r.monitor.getSourceId(),u=r.sourceNodes.get(a),s=r.sourcePreviewNodes.get(a)||u;if(s){var c=r.getCurrentSourcePreviewNodeOptions(),l=d(u,s,n,{anchorX:c.anchorX,anchorY:c.anchorY},{offsetX:c.offsetX,offsetY:c.offsetY});i.setDragImage(s,l.x,l.y)}}try{null===i||void 0===i||i.setData("application/json",{})}catch(f){}r.setCurrentDragSourceNode(e.target),r.getCurrentSourcePreviewNodeOptions().captureDraggingState?r.actions.publishDragSource():setTimeout((function(){return r.actions.publishDragSource()}),0)}else if(o)r.beginDragNativeItem(o);else{if(i&&!i.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}}},this.handleTopDragEndCapture=function(){r.clearCurrentDragSourceNode()&&r.actions.endDrag()},this.handleTopDragEnterCapture=function(e){if(r.dragEnterTargetIds=[],r.enterLeaveCounter.enter(e.target)&&!r.monitor.isDragging()){var t=e.dataTransfer,n=S(t);n&&r.beginDragNativeItem(n,t)}},this.handleTopDragEnter=function(e){var t=r.dragEnterTargetIds;(r.dragEnterTargetIds=[],r.monitor.isDragging())&&(r.altKeyPressed=e.altKey,u()||r.actions.hover(t,{clientOffset:h(e)}),t.some((function(e){return r.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=r.getCurrentDropEffect())))},this.handleTopDragOverCapture=function(){r.dragOverTargetIds=[]},this.handleTopDragOver=function(e){var t=r.dragOverTargetIds;if(r.dragOverTargetIds=[],!r.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));r.altKeyPressed=e.altKey,r.actions.hover(t||[],{clientOffset:h(e)}),(t||[]).some((function(e){return r.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=r.getCurrentDropEffect())):r.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(e){r.isDraggingNativeItem()&&e.preventDefault(),r.enterLeaveCounter.leave(e.target)&&r.isDraggingNativeItem()&&r.endDragNativeItem()},this.handleTopDropCapture=function(e){var t;(r.dropTargetIds=[],e.preventDefault(),r.isDraggingNativeItem())&&(null===(t=r.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer));r.enterLeaveCounter.reset()},this.handleTopDrop=function(e){var t=r.dropTargetIds;r.dropTargetIds=[],r.actions.hover(t,{clientOffset:h(e)}),r.actions.drop({dropEffect:r.getCurrentDropEffect()}),r.isDraggingNativeItem()?r.endDragNativeItem():r.endDragIfSourceWasRemovedFromDOM()},this.handleSelectStart=function(e){var t=e.target;"function"===typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new O(n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new a(this.isNodeInDocument)}var t,n,i;return t=e,(n=[{key:"profile",value:function(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}},{key:"setup",value:function(){if(void 0!==this.window){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}}},{key:"teardown",value:function(){void 0!==this.window&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))}},{key:"connectDragPreview",value:function(e,t,n){var r=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){r.sourcePreviewNodes.delete(e),r.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDragSource",value:function(e,t,n){var r=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);var i=function(t){return r.handleDragStart(t,e)},o=function(e){return r.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",i),t.addEventListener("selectstart",o),function(){r.sourceNodes.delete(e),r.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",i),t.removeEventListener("selectstart",o),t.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(e,t){var n=this,r=function(t){return n.handleDragEnter(t,e)},i=function(t){return n.handleDragOver(t,e)},o=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",r),t.addEventListener("dragover",i),t.addEventListener("drop",o),function(){t.removeEventListener("dragenter",r),t.removeEventListener("dragover",i),t.removeEventListener("drop",o)}}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return k({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId();return k({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(r).some((function(t){return r[t]===e}))}},{key:"beginDragNativeItem",value:function(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){var n=new T(w[e]);return n.loadDataTransfer(t),n}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout((function(){return t.window&&t.window.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}},{key:"clearCurrentDragSourceNode",value:function(){return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.window&&(this.window.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)}},{key:"handleDragStart",value:function(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleDragOver",value:function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}}])&&A(t.prototype,n),i&&A(t,i),e}(),x=function(e,t){return new N(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(46),i=(n(103),n(20)),o=n(21);function a(e,t){return Object(i.a)((function(n,r){var i=0;n.subscribe(Object(o.a)(r,(function(n){return e.call(t,n,i++)&&r.next(n)})))}))}n(38);function u(e,t){return function(e,t){return new r.a((function(n){return{unsubscribe:e.onSnapshot(t||{},n)}}))}(e,t)}function s(e,t){return u(e,t)}a((function(e){return e.length>0}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(30);var i=n(36);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,"a",(function(){return r}))},,,,,function(e,t,n){"use strict";var r=n(48),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,u=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,g="function"===typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||m}function E(){}function T(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||m}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},E.prototype=w.prototype;var S=T.prototype=new E;S.constructor=T,r(S,w.prototype),S.isPureReactComponent=!0;var I={current:null},O=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,i={},a=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(a=""+t.key),t)O.call(t,r)&&!_.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:o,type:e,key:a,ref:u,props:i,_owner:I.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var A=/\/+/g,N=[];function x(e,t,n,r){if(N.length){var i=N.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function D(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>N.length&&N.push(e)}function P(e,t,n){return null==e?0:function e(t,n,r,i){var u=typeof t;"undefined"!==u&&"boolean"!==u||(t=null);var s=!1;if(null===t)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case o:case a:s=!0}}if(s)return r(i,t,""===n?"."+j(t,0):n),1;if(s=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var l=n+j(u=t[c],c);s+=e(u,l,r,i)}else if(null===t||"object"!==typeof t?l=null:l="function"===typeof(l=g&&t[g]||t["@@iterator"])?l:null,"function"===typeof l)for(t=l.call(t),c=0;!(u=t.next()).done;)s+=e(u=u.value,l=n+j(u,c++),r,i);else if("object"===u)throw r=""+t,Error(y(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return s}(e,"",t,n)}function j(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function R(e,t){e.func.call(e.context,t,e.count++)}function L(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?M(e,r,n,(function(e){return e})):null!=e&&(C(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+n)),r.push(e))}function M(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(A,"$&/")+"/"),P(e,L,t=x(t,o,r,i)),D(t)}var F={current:null};function U(){var e=F.current;if(null===e)throw Error(y(321));return e}var V={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:I,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return M(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;P(e,R,t=x(null,null,t,n)),D(t)},count:function(e){return P(e,(function(){return null}),null)},toArray:function(e){var t=[];return M(e,t,null,(function(e){return e})),t},only:function(e){if(!C(e))throw Error(y(143));return e}},t.Component=w,t.Fragment=u,t.Profiler=c,t.PureComponent=T,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(y(267,e));var i=r({},e.props),a=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=I.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)O.call(t,l)&&!_.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:o,type:e.type,key:a,ref:u,props:i,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return U().useCallback(e,t)},t.useContext=function(e,t){return U().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return U().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return U().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return U().useLayoutEffect(e,t)},t.useMemo=function(e,t){return U().useMemo(e,t)},t.useReducer=function(e,t,n){return U().useReducer(e,t,n)},t.useRef=function(e){return U().useRef(e)},t.useState=function(e){return U().useState(e)},t.version="16.14.0"},function(e,t,n){"use strict";var r=n(1),i=n(48),o=n(71);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function u(e,t,n,r,i,o,a,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var s=!1,c=null,l=!1,f=null,h={onError:function(e){s=!0,c=e}};function d(e,t,n,r,i,o,a,l,f){s=!1,c=null,u.apply(h,arguments)}var p=null,v=null,g=null;function y(e,t,n){var r=e.type||"unknown-event";e.currentTarget=g(n),function(e,t,n,r,i,o,u,h,p){if(d.apply(this,arguments),s){if(!s)throw Error(a(198));var v=c;s=!1,c=null,l||(l=!0,f=v)}}(r,t,void 0,e),e.currentTarget=null}var m=null,b={};function w(){if(m)for(var e in b){var t=b[e],n=m.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!T[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in T[n]=t,n=t.eventTypes){var i=void 0,o=n[r],u=t,s=r;if(S.hasOwnProperty(s))throw Error(a(99,s));S[s]=o;var c=o.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&E(c[i],u,s);i=!0}else o.registrationName?(E(o.registrationName,u,s),i=!0):i=!1;if(!i)throw Error(a(98,r,e))}}}}function E(e,t,n){if(I[e])throw Error(a(100,e));I[e]=t,O[e]=t.eventTypes[n].dependencies}var T=[],S={},I={},O={};function _(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(a(102,t));b[t]=r,n=!0}}n&&w()}var k=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),C=null,A=null,N=null;function x(e){if(e=v(e)){if("function"!==typeof C)throw Error(a(280));var t=e.stateNode;t&&(t=p(t),C(e.stateNode,e.type,t))}}function D(e){A?N?N.push(e):N=[e]:A=e}function P(){if(A){var e=A,t=N;if(N=A=null,x(e),t)for(e=0;e<t.length;e++)x(t[e])}}function j(e,t){return e(t)}function R(e,t,n,r,i){return e(t,n,r,i)}function L(){}var M=j,F=!1,U=!1;function V(){null===A&&null===N||(L(),P())}function q(e,t,n){if(U)return e(t,n);U=!0;try{return M(e,t,n)}finally{U=!1,V()}}var B=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,z=Object.prototype.hasOwnProperty,K={},H={};function G(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var W={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){W[e]=new G(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];W[t]=new G(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){W[e]=new G(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){W[e]=new G(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){W[e]=new G(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){W[e]=new G(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){W[e]=new G(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){W[e]=new G(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){W[e]=new G(e,5,!1,e.toLowerCase(),null,!1)}));var Q=/[\-:]([a-z])/g;function $(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Q,$);W[t]=new G(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Q,$);W[t]=new G(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Q,$);W[t]=new G(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){W[e]=new G(e,1,!1,e.toLowerCase(),null,!1)})),W.xlinkHref=new G("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){W[e]=new G(e,1,!1,e.toLowerCase(),null,!0)}));var X=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Y(e,t,n,r){var i=W.hasOwnProperty(t)?W[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!z.call(H,e)||!z.call(K,e)&&(B.test(e)?H[e]=!0:(K[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}X.hasOwnProperty("ReactCurrentDispatcher")||(X.ReactCurrentDispatcher={current:null}),X.hasOwnProperty("ReactCurrentBatchConfig")||(X.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Z="function"===typeof Symbol&&Symbol.for,ee=Z?Symbol.for("react.element"):60103,te=Z?Symbol.for("react.portal"):60106,ne=Z?Symbol.for("react.fragment"):60107,re=Z?Symbol.for("react.strict_mode"):60108,ie=Z?Symbol.for("react.profiler"):60114,oe=Z?Symbol.for("react.provider"):60109,ae=Z?Symbol.for("react.context"):60110,ue=Z?Symbol.for("react.concurrent_mode"):60111,se=Z?Symbol.for("react.forward_ref"):60112,ce=Z?Symbol.for("react.suspense"):60113,le=Z?Symbol.for("react.suspense_list"):60120,fe=Z?Symbol.for("react.memo"):60115,he=Z?Symbol.for("react.lazy"):60116,de=Z?Symbol.for("react.block"):60121,pe="function"===typeof Symbol&&Symbol.iterator;function ve(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function ge(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case ce:return"Suspense";case le:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case oe:return"Context.Provider";case se:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case fe:return ge(e.type);case de:return ge(e.render);case he:if(e=1===e._status?e._result:null)return ge(e)}return null}function ye(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=ge(e.type);n=null,r&&(n=ge(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(J,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function me(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function we(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ee(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Te(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Se(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=me(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ie(e,t){null!=(t=t.checked)&&Y(e,"checked",t,!1)}function Oe(e,t){Ie(e,t);var n=me(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ke(e,t.type,n):t.hasOwnProperty("defaultValue")&&ke(e,t.type,me(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function _e(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ke(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ce(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+me(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:me(n)}}function De(e,t){var n=me(t.value),r=me(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Pe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var je="http://www.w3.org/1999/xhtml",Re="http://www.w3.org/2000/svg";function Le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Me(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Fe,Ue=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Re||"innerHTML"in e)e.innerHTML=t;else{for((Fe=Fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function qe(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Be={animationend:qe("Animation","AnimationEnd"),animationiteration:qe("Animation","AnimationIteration"),animationstart:qe("Animation","AnimationStart"),transitionend:qe("Transition","TransitionEnd")},ze={},Ke={};function He(e){if(ze[e])return ze[e];if(!Be[e])return e;var t,n=Be[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ke)return ze[e]=n[t];return e}k&&(Ke=document.createElement("div").style,"AnimationEvent"in window||(delete Be.animationend.animation,delete Be.animationiteration.animation,delete Be.animationstart.animation),"TransitionEvent"in window||delete Be.transitionend.transition);var Ge=He("animationend"),We=He("animationiteration"),Qe=He("animationstart"),$e=He("transitionend"),Xe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ye=new("function"===typeof WeakMap?WeakMap:Map);function Je(e){var t=Ye.get(e);return void 0===t&&(t=new Map,Ye.set(e,t)),t}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Ze(e)!==e)throw Error(a(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return tt(i),e;if(o===r)return tt(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function rt(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function it(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)y(e,t[r],n[r]);else t&&y(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function ut(e){if(null!==e&&(ot=rt(ot,e)),e=ot,ot=null,e){if(it(e,at),ot)throw Error(a(95));if(l)throw e=f,l=!1,f=null,e}}function st(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ct(e){if(!k)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var lt=[];function ft(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>lt.length&&lt.push(e)}function ht(e,t,n,r){if(lt.length){var i=lt.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function dt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=kn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=st(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var u=null,s=0;s<T.length;s++){var c=T[s];c&&(c=c.extractEvents(r,t,o,i,a))&&(u=rt(u,c))}ut(u)}}function pt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Qt(t,"scroll",!0);break;case"focus":case"blur":Qt(t,"focus",!0),Qt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ct(e)&&Qt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Xe.indexOf(e)&&Wt(e,t)}n.set(e,null)}}var vt,gt,yt,mt=!1,bt=[],wt=null,Et=null,Tt=null,St=new Map,It=new Map,Ot=[],_t="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),kt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ct(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function At(e,t){switch(e){case"focus":case"blur":wt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":St.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Nt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=Ct(t,n,r,i,o),null!==t&&(null!==(t=Cn(t))&&gt(t)),e):(e.eventSystemFlags|=r,e)}function xt(e){var t=kn(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){yt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Cn(t);return null!==n&&gt(n),e.blockedOn=t,!1}return!0}function Pt(e,t,n){Dt(e)&&n.delete(t)}function jt(){for(mt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=Cn(e.blockedOn))&&vt(e);break}var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:bt.shift()}null!==wt&&Dt(wt)&&(wt=null),null!==Et&&Dt(Et)&&(Et=null),null!==Tt&&Dt(Tt)&&(Tt=null),St.forEach(Pt),It.forEach(Pt)}function Rt(e,t){e.blockedOn===t&&(e.blockedOn=null,mt||(mt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,jt)))}function Lt(e){function t(t){return Rt(t,e)}if(0<bt.length){Rt(bt[0],e);for(var n=1;n<bt.length;n++){var r=bt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==wt&&Rt(wt,e),null!==Et&&Rt(Et,e),null!==Tt&&Rt(Tt,e),St.forEach(t),It.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)xt(n),null===n.blockedOn&&Ot.shift()}var Mt={},Ft=new Map,Ut=new Map,Vt=["abort","abort",Ge,"animationEnd",We,"animationIteration",Qe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",$e,"transitionEnd","waiting","waiting"];function qt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},Ut.set(r,t),Ft.set(r,o),Mt[i]=o}}qt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),qt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),qt(Vt,2);for(var Bt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),zt=0;zt<Bt.length;zt++)Ut.set(Bt[zt],0);var Kt=o.unstable_UserBlockingPriority,Ht=o.unstable_runWithPriority,Gt=!0;function Wt(e,t){Qt(t,e,!1)}function Qt(e,t,n){var r=Ut.get(t);switch(void 0===r?2:r){case 0:r=$t.bind(null,t,1,e);break;case 1:r=Xt.bind(null,t,1,e);break;default:r=Yt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function $t(e,t,n,r){F||L();var i=Yt,o=F;F=!0;try{R(i,e,t,n,r)}finally{(F=o)||V()}}function Xt(e,t,n,r){Ht(Kt,Yt.bind(null,e,t,n,r))}function Yt(e,t,n,r){if(Gt)if(0<bt.length&&-1<_t.indexOf(e))e=Ct(null,e,t,n,r),bt.push(e);else{var i=Jt(e,t,n,r);if(null===i)At(e,r);else if(-1<_t.indexOf(e))e=Ct(i,e,t,n,r),bt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return wt=Nt(wt,e,t,n,r,i),!0;case"dragenter":return Et=Nt(Et,e,t,n,r,i),!0;case"mouseover":return Tt=Nt(Tt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return St.set(o,Nt(St.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,It.set(o,Nt(It.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){At(e,r),e=ht(e,r,null,t);try{q(dt,e)}finally{ft(e)}}}}function Jt(e,t,n,r){if(null!==(n=kn(n=st(r)))){var i=Ze(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=et(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=ht(e,r,n,t);try{q(dt,e)}finally{ft(e)}return null}var Zt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Zt.hasOwnProperty(e)&&Zt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=tn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Zt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zt[t]=Zt[e]}))}));var rn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62,""))}}function an(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var un=je;function sn(e,t){var n=Je(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=O[t];for(var r=0;r<t.length;r++)pt(t[r],e,n)}function cn(){}function ln(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function fn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hn(e,t){var n,r=fn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fn(r)}}function dn(){for(var e=window,t=ln();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ln((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vn=null,gn=null;function yn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function mn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bn="function"===typeof setTimeout?setTimeout:void 0,wn="function"===typeof clearTimeout?clearTimeout:void 0;function En(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Tn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Sn=Math.random().toString(36).slice(2),In="__reactInternalInstance$"+Sn,On="__reactEventHandlers$"+Sn,_n="__reactContainere$"+Sn;function kn(e){var t=e[In];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_n]||n[In]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Tn(e);null!==e;){if(n=e[In])return n;e=Tn(e)}return t}n=(e=n).parentNode}return null}function Cn(e){return!(e=e[In]||e[_n])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function An(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Nn(e){return e[On]||null}function xn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Dn(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}function Pn(e,t,n){(t=Dn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function jn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=xn(t);for(t=n.length;0<t--;)Pn(n[t],"captured",e);for(t=0;t<n.length;t++)Pn(n[t],"bubbled",e)}}function Rn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Dn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Ln(e){e&&e.dispatchConfig.registrationName&&Rn(e._targetInst,null,e)}function Mn(e){it(e,jn)}var Fn=null,Un=null,Vn=null;function qn(){if(Vn)return Vn;var e,t,n=Un,r=n.length,i="value"in Fn?Fn.value:Fn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Vn=i.slice(e,1<t?1-t:void 0)}function Bn(){return!0}function zn(){return!1}function Kn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Bn:zn,this.isPropagationStopped=zn,this}function Hn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Gn(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Wn(e){e.eventPool=[],e.getPooled=Hn,e.release=Gn}i(Kn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Bn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Bn)},persist:function(){this.isPersistent=Bn},isPersistent:zn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=zn,this._dispatchInstances=this._dispatchListeners=null}}),Kn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Kn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Wn(n),n},Wn(Kn);var Qn=Kn.extend({data:null}),$n=Kn.extend({data:null}),Xn=[9,13,27,32],Yn=k&&"CompositionEvent"in window,Jn=null;k&&"documentMode"in document&&(Jn=document.documentMode);var Zn=k&&"TextEvent"in window&&!Jn,er=k&&(!Yn||Jn&&8<Jn&&11>=Jn),tr=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function ir(e,t){switch(e){case"keyup":return-1!==Xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function or(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var ar=!1;var ur={eventTypes:nr,extractEvents:function(e,t,n,r){var i;if(Yn)e:{switch(e){case"compositionstart":var o=nr.compositionStart;break e;case"compositionend":o=nr.compositionEnd;break e;case"compositionupdate":o=nr.compositionUpdate;break e}o=void 0}else ar?ir(e,n)&&(o=nr.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=nr.compositionStart);return o?(er&&"ko"!==n.locale&&(ar||o!==nr.compositionStart?o===nr.compositionEnd&&ar&&(i=qn()):(Un="value"in(Fn=r)?Fn.value:Fn.textContent,ar=!0)),o=Qn.getPooled(o,t,n,r),i?o.data=i:null!==(i=or(n))&&(o.data=i),Mn(o),i=o):i=null,(e=Zn?function(e,t){switch(e){case"compositionend":return or(t);case"keypress":return 32!==t.which?null:(rr=!0,tr);case"textInput":return(e=t.data)===tr&&rr?null:e;default:return null}}(e,n):function(e,t){if(ar)return"compositionend"===e||!Yn&&ir(e,t)?(e=qn(),Vn=Un=Fn=null,ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return er&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=$n.getPooled(nr.beforeInput,t,n,r)).data=e,Mn(t)):t=null,null===i?t:null===t?i:[i,t]}},sr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!sr[e.type]:"textarea"===t}var lr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function fr(e,t,n){return(e=Kn.getPooled(lr.change,e,t,n)).type="change",D(n),Mn(e),e}var hr=null,dr=null;function pr(e){ut(e)}function vr(e){if(Ee(An(e)))return e}function gr(e,t){if("change"===e)return t}var yr=!1;function mr(){hr&&(hr.detachEvent("onpropertychange",br),dr=hr=null)}function br(e){if("value"===e.propertyName&&vr(dr))if(e=fr(dr,e,st(e)),F)ut(e);else{F=!0;try{j(pr,e)}finally{F=!1,V()}}}function wr(e,t,n){"focus"===e?(mr(),dr=n,(hr=t).attachEvent("onpropertychange",br)):"blur"===e&&mr()}function Er(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return vr(dr)}function Tr(e,t){if("click"===e)return vr(t)}function Sr(e,t){if("input"===e||"change"===e)return vr(t)}k&&(yr=ct("input")&&(!document.documentMode||9<document.documentMode));var Ir={eventTypes:lr,_isInputEventSupported:yr,extractEvents:function(e,t,n,r){var i=t?An(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=gr;else if(cr(i))if(yr)a=Sr;else{a=Er;var u=wr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Tr);if(a&&(a=a(e,t)))return fr(a,n,r);u&&u(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&ke(i,"number",i.value)}},Or=Kn.extend({view:null,detail:null}),_r={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_r[e])&&!!t[e]}function Cr(){return kr}var Ar=0,Nr=0,xr=!1,Dr=!1,Pr=Or.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Cr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Ar;return Ar=e.screenX,xr?"mousemove"===e.type?e.screenX-t:0:(xr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Nr;return Nr=e.screenY,Dr?"mousemove"===e.type?e.screenY-t:0:(Dr=!0,0)}}),jr=Pr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Rr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Lr={eventTypes:Rr,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?kn(t):null)&&(t!==Ze(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var u=Pr,s=Rr.mouseLeave,c=Rr.mouseEnter,l="mouse";else"pointerout"!==e&&"pointerover"!==e||(u=jr,s=Rr.pointerLeave,c=Rr.pointerEnter,l="pointer");if(e=null==a?o:An(a),o=null==t?o:An(t),(s=u.getPooled(s,a,n,r)).type=l+"leave",s.target=e,s.relatedTarget=o,(n=u.getPooled(c,t,n,r)).type=l+"enter",n.target=o,n.relatedTarget=e,l=t,(r=a)&&l)e:{for(c=l,a=0,e=u=r;e;e=xn(e))a++;for(e=0,t=c;t;t=xn(t))e++;for(;0<a-e;)u=xn(u),a--;for(;0<e-a;)c=xn(c),e--;for(;a--;){if(u===c||u===c.alternate)break e;u=xn(u),c=xn(c)}u=null}else u=null;for(c=u,u=[];r&&r!==c&&(null===(a=r.alternate)||a!==c);)u.push(r),r=xn(r);for(r=[];l&&l!==c&&(null===(a=l.alternate)||a!==c);)r.push(l),l=xn(l);for(l=0;l<u.length;l++)Rn(u[l],"bubbled",s);for(l=r.length;0<l--;)Rn(r[l],"captured",n);return 0===(64&i)?[s]:[s,n]}};var Mr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Fr=Object.prototype.hasOwnProperty;function Ur(e,t){if(Mr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Fr.call(t,n[r])||!Mr(e[n[r]],t[n[r]]))return!1;return!0}var Vr=k&&"documentMode"in document&&11>=document.documentMode,qr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Br=null,zr=null,Kr=null,Hr=!1;function Gr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Hr||null==Br||Br!==ln(n)?null:("selectionStart"in(n=Br)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Kr&&Ur(Kr,n)?null:(Kr=n,(e=Kn.getPooled(qr.select,zr,e,t)).type="select",e.target=Br,Mn(e),e))}var Wr={eventTypes:qr,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Je(i),o=O.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?An(t):window,e){case"focus":(cr(i)||"true"===i.contentEditable)&&(Br=i,zr=t,Kr=null);break;case"blur":Kr=zr=Br=null;break;case"mousedown":Hr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Hr=!1,Gr(n,r);case"selectionchange":if(Vr)break;case"keydown":case"keyup":return Gr(n,r)}return null}},Qr=Kn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),$r=Kn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xr=Or.extend({relatedTarget:null});function Yr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ei=Or.extend({key:function(e){if(e.key){var t=Jr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Yr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Zr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Cr,charCode:function(e){return"keypress"===e.type?Yr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Yr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ti=Pr.extend({dataTransfer:null}),ni=Or.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Cr}),ri=Kn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=Pr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),oi={eventTypes:Mt,extractEvents:function(e,t,n,r){var i=Ft.get(e);if(!i)return null;switch(e){case"keypress":if(0===Yr(n))return null;case"keydown":case"keyup":e=ei;break;case"blur":case"focus":e=Xr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ti;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ni;break;case Ge:case We:case Qe:e=Qr;break;case $e:e=ri;break;case"scroll":e=Or;break;case"wheel":e=ii;break;case"copy":case"cut":case"paste":e=$r;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=jr;break;default:e=Kn}return Mn(t=e.getPooled(i,t,n,r)),t}};if(m)throw Error(a(101));m=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w(),p=Nn,v=Cn,g=An,_({SimpleEventPlugin:oi,EnterLeaveEventPlugin:Lr,ChangeEventPlugin:Ir,SelectEventPlugin:Wr,BeforeInputEventPlugin:ur});var ai=[],ui=-1;function si(e){0>ui||(e.current=ai[ui],ai[ui]=null,ui--)}function ci(e,t){ui++,ai[ui]=e.current,e.current=t}var li={},fi={current:li},hi={current:!1},di=li;function pi(e,t){var n=e.type.contextTypes;if(!n)return li;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function vi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){si(hi),si(fi)}function yi(e,t,n){if(fi.current!==li)throw Error(a(168));ci(fi,t),ci(hi,n)}function mi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,ge(t)||"Unknown",o));return i({},n,{},r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||li,di=fi.current,ci(fi,e),ci(hi,hi.current),!0}function wi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=mi(e,t,di),r.__reactInternalMemoizedMergedChildContext=e,si(hi),si(fi),ci(fi,e)):si(hi),ci(hi,n)}var Ei=o.unstable_runWithPriority,Ti=o.unstable_scheduleCallback,Si=o.unstable_cancelCallback,Ii=o.unstable_requestPaint,Oi=o.unstable_now,_i=o.unstable_getCurrentPriorityLevel,ki=o.unstable_ImmediatePriority,Ci=o.unstable_UserBlockingPriority,Ai=o.unstable_NormalPriority,Ni=o.unstable_LowPriority,xi=o.unstable_IdlePriority,Di={},Pi=o.unstable_shouldYield,ji=void 0!==Ii?Ii:function(){},Ri=null,Li=null,Mi=!1,Fi=Oi(),Ui=1e4>Fi?Oi:function(){return Oi()-Fi};function Vi(){switch(_i()){case ki:return 99;case Ci:return 98;case Ai:return 97;case Ni:return 96;case xi:return 95;default:throw Error(a(332))}}function qi(e){switch(e){case 99:return ki;case 98:return Ci;case 97:return Ai;case 96:return Ni;case 95:return xi;default:throw Error(a(332))}}function Bi(e,t){return e=qi(e),Ei(e,t)}function zi(e,t,n){return e=qi(e),Ti(e,t,n)}function Ki(e){return null===Ri?(Ri=[e],Li=Ti(ki,Gi)):Ri.push(e),Di}function Hi(){if(null!==Li){var e=Li;Li=null,Si(e)}Gi()}function Gi(){if(!Mi&&null!==Ri){Mi=!0;var e=0;try{var t=Ri;Bi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ri=null}catch(n){throw null!==Ri&&(Ri=Ri.slice(e+1)),Ti(ki,Hi),n}finally{Mi=!1}}}function Wi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Qi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var $i={current:null},Xi=null,Yi=null,Ji=null;function Zi(){Ji=Yi=Xi=null}function eo(e){var t=$i.current;si($i),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function no(e,t){Xi=e,Ji=Yi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Na=!0),e.firstContext=null)}function ro(e,t){if(Ji!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Ji=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Yi){if(null===Xi)throw Error(a(308));Yi=t,Xi.dependencies={expirationTime:0,firstContext:t,responders:null}}else Yi=Yi.next=t;return e._currentValue}var io=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function uo(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function so(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function co(e,t){var n=e.alternate;null!==n&&ao(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function lo(e,t,n,r){var o=e.updateQueue;io=!1;var a=o.baseQueue,u=o.shared.pending;if(null!==u){if(null!==a){var s=a.next;a.next=u.next,u.next=s}a=u,o.shared.pending=null,null!==(s=e.alternate)&&(null!==(s=s.updateQueue)&&(s.baseQueue=u))}if(null!==a){s=a.next;var c=o.baseState,l=0,f=null,h=null,d=null;if(null!==s)for(var p=s;;){if((u=p.expirationTime)<r){var v={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===d?(h=d=v,f=c):d=d.next=v,u>l&&(l=u)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),os(u,p.suspenseConfig);e:{var g=e,y=p;switch(u=t,v=n,y.tag){case 1:if("function"===typeof(g=y.payload)){c=g.call(v,c,u);break e}c=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null===(u="function"===typeof(g=y.payload)?g.call(v,c,u):g)||void 0===u)break e;c=i({},c,u);break e;case 2:io=!0}}null!==p.callback&&(e.effectTag|=32,null===(u=o.effects)?o.effects=[p]:u.push(p))}if(null===(p=p.next)||p===s){if(null===(u=o.shared.pending))break;p=a.next=u.next,u.next=s,o.baseQueue=a=u,o.shared.pending=null}}null===d?f=c:d.next=h,o.baseState=f,o.baseQueue=d,as(l),e.expirationTime=l,e.memoizedState=c}}function fo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(a(191,r));r.call(i)}}}var ho=X.ReactCurrentBatchConfig,po=(new r.Component).refs;function vo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var go={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Gu(),i=ho.suspense;(i=uo(r=Wu(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),so(e,i),Qu(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Gu(),i=ho.suspense;(i=uo(r=Wu(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),so(e,i),Qu(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Gu(),r=ho.suspense;(r=uo(n=Wu(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),so(e,r),Qu(e,n)}};function yo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Ur(n,r)||!Ur(i,o))}function mo(e,t,n){var r=!1,i=li,o=t.contextType;return"object"===typeof o&&null!==o?o=ro(o):(i=vi(t)?di:fi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?pi(e,i):li),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=go,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function bo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function wo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=po,oo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ro(o):(o=vi(t)?di:fi.current,i.context=pi(e,o)),lo(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(vo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&go.enqueueReplaceState(i,i.state,null),lo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var Eo=Array.isArray;function To(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===po&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function So(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Io(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=_s(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function u(t){return e&&null===t.alternate&&(t.effectTag=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=As(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=To(e,t,n),r.return=e,r):((r=ks(n.type,n.key,n.props,null,e.mode,r)).ref=To(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ns(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Cs(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=As(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=ks(t.type,t.key,t.props,null,e.mode,n)).ref=To(e,null,t),n.return=e,n;case te:return(t=Ns(t,e.mode,n)).return=e,t}if(Eo(t)||ve(t))return(t=Cs(t,e.mode,n,null)).return=e,t;So(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case te:return n.key===i?l(e,t,n,r):null}if(Eo(n)||ve(n))return null!==i?null:f(e,t,n,r,null);So(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case te:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Eo(r)||ve(r))return f(t,e=e.get(n)||null,r,i,null);So(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,g=null;null!==f&&v<u.length;v++){f.index>v?(g=f,f=null):g=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=g);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=g}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(g=p(f,i,v,u[v],s))&&(e&&null!==g.alternate&&f.delete(null===g.key?v:g.key),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g);return e&&f.forEach((function(e){return t(i,e)})),c}function g(i,u,s,c){var l=ve(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,g=u=0,y=null,m=s.next();null!==v&&!m.done;g++,m=s.next()){v.index>g?(y=v,v=null):y=v.sibling;var b=d(i,v,m.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,g),null===f?l=b:f.sibling=b,f=b,v=y}if(m.done)return n(i,v),l;if(null===v){for(;!m.done;g++,m=s.next())null!==(m=h(i,m.value,c))&&(u=o(m,u,g),null===f?l=m:f.sibling=m,f=m);return l}for(v=r(i,v);!m.done;g++,m=s.next())null!==(m=p(v,i,g,m.value,c))&&(e&&null!==m.alternate&&v.delete(null===m.key?g:m.key),u=o(m,u,g),null===f?l=m:f.sibling=m,f=m);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,o,s){var c="object"===typeof o&&null!==o&&o.type===ne&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case ee:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(o.type===ne){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}break;default:if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=To(e,c,o),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}o.type===ne?((r=Cs(o.props.children,e.mode,s,o.key)).return=e,e=r):((s=ks(o.type,o.key,o.props,null,e.mode,s)).ref=To(e,r,o),s.return=e,e=s)}return u(e);case te:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ns(o,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=As(o,e.mode,s)).return=e,e=r),u(e);if(Eo(o))return v(e,r,o,s);if(ve(o))return g(e,r,o,s);if(l&&So(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Oo=Io(!0),_o=Io(!1),ko={},Co={current:ko},Ao={current:ko},No={current:ko};function xo(e){if(e===ko)throw Error(a(174));return e}function Do(e,t){switch(ci(No,t),ci(Ao,e),ci(Co,ko),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Me(null,"");break;default:t=Me(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}si(Co),ci(Co,t)}function Po(){si(Co),si(Ao),si(No)}function jo(e){xo(No.current);var t=xo(Co.current),n=Me(t,e.type);t!==n&&(ci(Ao,e),ci(Co,n))}function Ro(e){Ao.current===e&&(si(Co),si(Ao))}var Lo={current:0};function Mo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Fo(e,t){return{responder:e,props:t}}var Uo=X.ReactCurrentDispatcher,Vo=X.ReactCurrentBatchConfig,qo=0,Bo=null,zo=null,Ko=null,Ho=!1;function Go(){throw Error(a(321))}function Wo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Mr(e[n],t[n]))return!1;return!0}function Qo(e,t,n,r,i,o){if(qo=o,Bo=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Uo.current=null===e||null===e.memoizedState?ya:ma,e=n(r,i),t.expirationTime===qo){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Ko=zo=null,t.updateQueue=null,Uo.current=ba,e=n(r,i)}while(t.expirationTime===qo)}if(Uo.current=ga,t=null!==zo&&null!==zo.next,qo=0,Ko=zo=Bo=null,Ho=!1,t)throw Error(a(300));return e}function $o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ko?Bo.memoizedState=Ko=e:Ko=Ko.next=e,Ko}function Xo(){if(null===zo){var e=Bo.alternate;e=null!==e?e.memoizedState:null}else e=zo.next;var t=null===Ko?Bo.memoizedState:Ko.next;if(null!==t)Ko=t,zo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(zo=e).memoizedState,baseState:zo.baseState,baseQueue:zo.baseQueue,queue:zo.queue,next:null},null===Ko?Bo.memoizedState=Ko=e:Ko=Ko.next=e}return Ko}function Yo(e,t){return"function"===typeof t?t(e):t}function Jo(e){var t=Xo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=zo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=o=null,c=i;do{var l=c.expirationTime;if(l<qo){var f={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,o=r):s=s.next=f,l>Bo.expirationTime&&(Bo.expirationTime=l,as(l))}else null!==s&&(s=s.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),os(l,c.suspenseConfig),r=c.eagerReducer===e?c.eagerState:e(r,c.action);c=c.next}while(null!==c&&c!==i);null===s?o=r:s.next=u,Mr(r,t.memoizedState)||(Na=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Zo(e){var t=Xo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);Mr(o,t.memoizedState)||(Na=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ea(e){var t=$o();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Yo,lastRenderedState:e}).dispatch=va.bind(null,Bo,e),[t.memoizedState,e]}function ta(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Bo.updateQueue)?(t={lastEffect:null},Bo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function na(){return Xo().memoizedState}function ra(e,t,n,r){var i=$o();Bo.effectTag|=e,i.memoizedState=ta(1|t,n,void 0,void 0===r?null:r)}function ia(e,t,n,r){var i=Xo();r=void 0===r?null:r;var o=void 0;if(null!==zo){var a=zo.memoizedState;if(o=a.destroy,null!==r&&Wo(r,a.deps))return void ta(t,n,o,r)}Bo.effectTag|=e,i.memoizedState=ta(1|t,n,o,r)}function oa(e,t){return ra(516,4,e,t)}function aa(e,t){return ia(516,4,e,t)}function ua(e,t){return ia(4,2,e,t)}function sa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ca(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ia(4,2,sa.bind(null,t,e),n)}function la(){}function fa(e,t){return $o().memoizedState=[e,void 0===t?null:t],e}function ha(e,t){var n=Xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Wo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function da(e,t){var n=Xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Wo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function pa(e,t,n){var r=Vi();Bi(98>r?98:r,(function(){e(!0)})),Bi(97<r?97:r,(function(){var r=Vo.suspense;Vo.suspense=void 0===t?null:t;try{e(!1),n()}finally{Vo.suspense=r}}))}function va(e,t,n){var r=Gu(),i=ho.suspense;i={expirationTime:r=Wu(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===Bo||null!==o&&o===Bo)Ho=!0,i.expirationTime=qo,Bo.expirationTime=qo;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,u=o(a,n);if(i.eagerReducer=o,i.eagerState=u,Mr(u,a))return}catch(s){}Qu(e,r)}}var ga={readContext:ro,useCallback:Go,useContext:Go,useEffect:Go,useImperativeHandle:Go,useLayoutEffect:Go,useMemo:Go,useReducer:Go,useRef:Go,useState:Go,useDebugValue:Go,useResponder:Go,useDeferredValue:Go,useTransition:Go},ya={readContext:ro,useCallback:fa,useContext:ro,useEffect:oa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ra(4,2,sa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ra(4,2,e,t)},useMemo:function(e,t){var n=$o();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=$o();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=va.bind(null,Bo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},$o().memoizedState=e},useState:ea,useDebugValue:la,useResponder:Fo,useDeferredValue:function(e,t){var n=ea(e),r=n[0],i=n[1];return oa((function(){var n=Vo.suspense;Vo.suspense=void 0===t?null:t;try{i(e)}finally{Vo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ea(!1),n=t[0];return t=t[1],[fa(pa.bind(null,t,e),[t,e]),n]}},ma={readContext:ro,useCallback:ha,useContext:ro,useEffect:aa,useImperativeHandle:ca,useLayoutEffect:ua,useMemo:da,useReducer:Jo,useRef:na,useState:function(){return Jo(Yo)},useDebugValue:la,useResponder:Fo,useDeferredValue:function(e,t){var n=Jo(Yo),r=n[0],i=n[1];return aa((function(){var n=Vo.suspense;Vo.suspense=void 0===t?null:t;try{i(e)}finally{Vo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Jo(Yo),n=t[0];return t=t[1],[ha(pa.bind(null,t,e),[t,e]),n]}},ba={readContext:ro,useCallback:ha,useContext:ro,useEffect:aa,useImperativeHandle:ca,useLayoutEffect:ua,useMemo:da,useReducer:Zo,useRef:na,useState:function(){return Zo(Yo)},useDebugValue:la,useResponder:Fo,useDeferredValue:function(e,t){var n=Zo(Yo),r=n[0],i=n[1];return aa((function(){var n=Vo.suspense;Vo.suspense=void 0===t?null:t;try{i(e)}finally{Vo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Zo(Yo),n=t[0];return t=t[1],[ha(pa.bind(null,t,e),[t,e]),n]}},wa=null,Ea=null,Ta=!1;function Sa(e,t){var n=Is(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ia(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Oa(e){if(Ta){var t=Ea;if(t){var n=t;if(!Ia(e,t)){if(!(t=En(n.nextSibling))||!Ia(e,t))return e.effectTag=-1025&e.effectTag|2,Ta=!1,void(wa=e);Sa(wa,n)}wa=e,Ea=En(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Ta=!1,wa=e}}function _a(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;wa=e}function ka(e){if(e!==wa)return!1;if(!Ta)return _a(e),Ta=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!mn(t,e.memoizedProps))for(t=Ea;t;)Sa(e,t),t=En(t.nextSibling);if(_a(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ea=En(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ea=null}}else Ea=wa?En(e.stateNode.nextSibling):null;return!0}function Ca(){Ea=wa=null,Ta=!1}var Aa=X.ReactCurrentOwner,Na=!1;function xa(e,t,n,r){t.child=null===e?_o(t,null,n,r):Oo(t,e.child,n,r)}function Da(e,t,n,r,i){n=n.render;var o=t.ref;return no(t,i),r=Qo(e,t,n,r,o,i),null===e||Na?(t.effectTag|=1,xa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Qa(e,t,i))}function Pa(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Os(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ks(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ja(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Ur)(i,r)&&e.ref===t.ref)?Qa(e,t,o):(t.effectTag|=1,(e=_s(a,r)).ref=t.ref,e.return=t,t.child=e)}function ja(e,t,n,r,i,o){return null!==e&&Ur(e.memoizedProps,r)&&e.ref===t.ref&&(Na=!1,i<o)?(t.expirationTime=e.expirationTime,Qa(e,t,o)):La(e,t,n,r,o)}function Ra(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function La(e,t,n,r,i){var o=vi(n)?di:fi.current;return o=pi(t,o),no(t,i),n=Qo(e,t,n,r,o,i),null===e||Na?(t.effectTag|=1,xa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Qa(e,t,i))}function Ma(e,t,n,r,i){if(vi(n)){var o=!0;bi(t)}else o=!1;if(no(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),mo(t,n,r),wo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,u=t.memoizedProps;a.props=u;var s=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ro(c):c=pi(t,c=vi(n)?di:fi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(u!==r||s!==c)&&bo(t,a,r,c),io=!1;var h=t.memoizedState;a.state=h,lo(t,r,a,i),s=t.memoizedState,u!==r||h!==s||hi.current||io?("function"===typeof l&&(vo(t,n,l,r),s=t.memoizedState),(u=io||yo(t,n,u,r,h,s,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=c,r=u):("function"===typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,ao(e,t),u=t.memoizedProps,a.props=t.type===t.elementType?u:Qi(t.type,u),s=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=ro(c):c=pi(t,c=vi(n)?di:fi.current),(f="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(u!==r||s!==c)&&bo(t,a,r,c),io=!1,s=t.memoizedState,a.state=s,lo(t,r,a,i),h=t.memoizedState,u!==r||s!==h||hi.current||io?("function"===typeof l&&(vo(t,n,l,r),h=t.memoizedState),(l=io||yo(t,n,u,r,s,h,c))?(f||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,c)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=c,r=l):("function"!==typeof a.componentDidUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=256),r=!1);return Fa(e,t,n,r,o,i)}function Fa(e,t,n,r,i,o){Ra(e,t);var a=0!==(64&t.effectTag);if(!r&&!a)return i&&wi(t,n,!1),Qa(e,t,o);r=t.stateNode,Aa.current=t;var u=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Oo(t,e.child,null,o),t.child=Oo(t,null,u,o)):xa(e,t,u,o),t.memoizedState=r.state,i&&wi(t,n,!0),t.child}function Ua(e){var t=e.stateNode;t.pendingContext?yi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yi(0,t.context,!1),Do(e,t.containerInfo)}var Va,qa,Ba,za={dehydrated:null,retryTime:0};function Ka(e,t,n){var r,i=t.mode,o=t.pendingProps,a=Lo.current,u=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&a)&&(null===e||null!==e.memoizedState)),r?(u=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),ci(Lo,1&a),null===e){if(void 0!==o.fallback&&Oa(t),u){if(u=o.fallback,(o=Cs(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Cs(u,i,n,null)).return=t,o.sibling=n,t.memoizedState=za,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=_o(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,u){if(o=o.fallback,(n=_s(e,e.pendingProps)).return=t,0===(2&t.mode)&&(u=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=u;null!==u;)u.return=n,u=u.sibling;return(i=_s(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=za,t.child=n,i}return n=Oo(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,u){if(u=o.fallback,(o=Cs(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Cs(u,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=za,t.child=o,n}return t.memoizedState=null,t.child=Oo(t,e,o.children,n)}function Ha(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),to(e.return,t)}function Ga(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function Wa(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(xa(e,t,r.children,n),0!==(2&(r=Lo.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ha(e,n);else if(19===e.tag)Ha(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ci(Lo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Mo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ga(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Mo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ga(t,!0,n,null,o,t.lastEffect);break;case"together":Ga(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Qa(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&as(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=_s(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=_s(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $a(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xa(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return vi(t.type)&&gi(),null;case 3:return Po(),si(hi),si(fi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!ka(t)||(t.effectTag|=4),null;case 5:Ro(t),n=xo(No.current);var o=t.type;if(null!==e&&null!=t.stateNode)qa(e,t,o,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=xo(Co.current),ka(t)){r=t.stateNode,o=t.type;var u=t.memoizedProps;switch(r[In]=t,r[On]=u,o){case"iframe":case"object":case"embed":Wt("load",r);break;case"video":case"audio":for(e=0;e<Xe.length;e++)Wt(Xe[e],r);break;case"source":Wt("error",r);break;case"img":case"image":case"link":Wt("error",r),Wt("load",r);break;case"form":Wt("reset",r),Wt("submit",r);break;case"details":Wt("toggle",r);break;case"input":Se(r,u),Wt("invalid",r),sn(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Wt("invalid",r),sn(n,"onChange");break;case"textarea":xe(r,u),Wt("invalid",r),sn(n,"onChange")}for(var s in on(o,u),e=null,u)if(u.hasOwnProperty(s)){var c=u[s];"children"===s?"string"===typeof c?r.textContent!==c&&(e=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(e=["children",""+c]):I.hasOwnProperty(s)&&null!=c&&sn(n,s)}switch(o){case"input":we(r),_e(r,u,!0);break;case"textarea":we(r),Pe(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=cn)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(s=9===n.nodeType?n:n.ownerDocument,e===un&&(e=Le(o)),e===un?"script"===o?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(o,{is:r.is}):(e=s.createElement(o),"select"===o&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,o),e[In]=t,e[On]=r,Va(e,t),t.stateNode=e,s=an(o,r),o){case"iframe":case"object":case"embed":Wt("load",e),c=r;break;case"video":case"audio":for(c=0;c<Xe.length;c++)Wt(Xe[c],e);c=r;break;case"source":Wt("error",e),c=r;break;case"img":case"image":case"link":Wt("error",e),Wt("load",e),c=r;break;case"form":Wt("reset",e),Wt("submit",e),c=r;break;case"details":Wt("toggle",e),c=r;break;case"input":Se(e,r),c=Te(e,r),Wt("invalid",e),sn(n,"onChange");break;case"option":c=Ce(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},c=i({},r,{value:void 0}),Wt("invalid",e),sn(n,"onChange");break;case"textarea":xe(e,r),c=Ne(e,r),Wt("invalid",e),sn(n,"onChange");break;default:c=r}on(o,c);var l=c;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?nn(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&Ue(e,f):"children"===u?"string"===typeof f?("textarea"!==o||""!==f)&&Ve(e,f):"number"===typeof f&&Ve(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(I.hasOwnProperty(u)?null!=f&&sn(n,u):null!=f&&Y(e,u,f,s))}switch(o){case"input":we(e),_e(e,r,!1);break;case"textarea":we(e),Pe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+me(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Ae(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof c.onClick&&(e.onclick=cn)}yn(o,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Ba(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=xo(No.current),xo(Co.current),ka(t)?(n=t.stateNode,r=t.memoizedProps,n[In]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[In]=t,t.stateNode=n)}return null;case 13:return si(Lo),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&ka(t):(r=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(u=t.firstEffect)?(t.firstEffect=o,o.nextEffect=u):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Lo.current)?ku===wu&&(ku=Eu):(ku!==wu&&ku!==Eu||(ku=Tu),0!==Du&&null!==Iu&&(Ps(Iu,_u),js(Iu,Du)))),(n||r)&&(t.effectTag|=4),null);case 4:return Po(),null;case 10:return eo(t),null;case 17:return vi(t.type)&&gi(),null;case 19:if(si(Lo),null===(r=t.memoizedState))return null;if(o=0!==(64&t.effectTag),null===(u=r.rendering)){if(o)$a(r,!1);else if(ku!==wu||null!==e&&0!==(64&e.effectTag))for(u=t.child;null!==u;){if(null!==(e=Mo(u))){for(t.effectTag|=64,$a(r,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)u=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=u,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,u=e.dependencies,o.dependencies=null===u?null:{expirationTime:u.expirationTime,firstContext:u.firstContext,responders:u.responders}),r=r.sibling;return ci(Lo,1&Lo.current|2),t.child}u=u.sibling}}else{if(!o)if(null!==(e=Mo(u))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),$a(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ui()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,$a(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Ui()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ui(),n.sibling=null,t=Lo.current,ci(Lo,o?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function Ya(e){switch(e.tag){case 1:vi(e.type)&&gi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Po(),si(hi),si(fi),0!==(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Ro(e),null;case 13:return si(Lo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return si(Lo),null;case 4:return Po(),null;case 10:return eo(e),null;default:return null}}function Ja(e,t){return{value:e,source:t,stack:ye(t)}}Va=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},qa=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var u,s,c=t.stateNode;switch(xo(Co.current),e=null,n){case"input":a=Te(c,a),r=Te(c,r),e=[];break;case"option":a=Ce(c,a),r=Ce(c,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=Ne(c,a),r=Ne(c,r),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(c.onclick=cn)}for(u in on(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u)for(s in c=a[u])c.hasOwnProperty(s)&&(n||(n={}),n[s]="");else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(I.hasOwnProperty(u)?e||(e=[]):(e=e||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(e||(e=[]),e.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(u,l)):"children"===u?c===l||"string"!==typeof l&&"number"!==typeof l||(e=e||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(I.hasOwnProperty(u)?(null!=l&&sn(o,u),e||c===l||(e=[])):(e=e||[]).push(u,l))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},Ba=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var Za="function"===typeof WeakSet?WeakSet:Set;function eu(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ye(n)),null!==n&&ge(n.type),t=t.value,null!==e&&1===e.tag&&ge(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function tu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){ms(e,n)}else t.current=null}function nu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Qi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ou(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void iu(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Qi(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&fo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}fo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&yn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Lt(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function au(e,t,n){switch("function"===typeof Ts&&Ts(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Bi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(o){ms(i,o)}}e=e.next}while(e!==r)}))}break;case 1:tu(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){ms(e,n)}}(t,n);break;case 5:tu(t);break;case 4:lu(e,t,n)}}function uu(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&uu(t)}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function cu(e){e:{for(var t=e.return;null!==t;){if(su(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Ve(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||su(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=cn));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function lu(e,t,n){for(var r,i,o=t,u=!1;;){if(!u){u=o.return;e:for(;;){if(null===u)throw Error(a(160));switch(r=u.stateNode,u.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}u=u.return}u=!0}if(5===o.tag||6===o.tag){e:for(var s=e,c=o,l=n,f=c;;)if(au(s,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(s=r,c=o.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(au(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(u=!1)}o.sibling.return=o.return,o=o.sibling}}function fu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ru(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[On]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Ie(n,r),an(e,i),t=an(e,r),i=0;i<o.length;i+=2){var u=o[i],s=o[i+1];"style"===u?nn(n,s):"dangerouslySetInnerHTML"===u?Ue(n,s):"children"===u?Ve(n,s):Y(n,u,s,t)}switch(e){case"input":Oe(n,r);break;case"textarea":De(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ae(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ae(n,!!r.multiple,r.defaultValue,!0):Ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Lt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,ju=Ui()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=tn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void hu(t);case 19:return void hu(t);case 17:return}throw Error(a(163))}function hu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Za),t.forEach((function(t){var r=ws.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=uo(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Lu||(Lu=!0,Mu=r),eu(e,t)},n}function vu(e,t,n){(n=uo(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return eu(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Fu?Fu=new Set([this]):Fu.add(this),eu(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var gu,yu=Math.ceil,mu=X.ReactCurrentDispatcher,bu=X.ReactCurrentOwner,wu=0,Eu=3,Tu=4,Su=0,Iu=null,Ou=null,_u=0,ku=wu,Cu=null,Au=1073741823,Nu=1073741823,xu=null,Du=0,Pu=!1,ju=0,Ru=null,Lu=!1,Mu=null,Fu=null,Uu=!1,Vu=null,qu=90,Bu=null,zu=0,Ku=null,Hu=0;function Gu(){return 0!==(48&Su)?1073741821-(Ui()/10|0):0!==Hu?Hu:Hu=1073741821-(Ui()/10|0)}function Wu(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Vi();if(0===(4&t))return 99===r?1073741823:1073741822;if(0!==(16&Su))return _u;if(null!==n)e=Wi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Wi(e,150,100);break;case 97:case 96:e=Wi(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==Iu&&e===_u&&--e,e}function Qu(e,t){if(50<zu)throw zu=0,Ku=null,Error(a(185));if(null!==(e=$u(e,t))){var n=Vi();1073741823===t?0!==(8&Su)&&0===(48&Su)?Zu(e):(Yu(e),0===Su&&Hi()):Yu(e),0===(4&Su)||98!==n&&99!==n||(null===Bu?Bu=new Map([[e,t]]):(void 0===(n=Bu.get(e))||n>t)&&Bu.set(e,t))}}function $u(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Iu===i&&(as(t),ku===Tu&&Ps(i,_u)),js(i,t)),i}function Xu(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Ds(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Yu(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Ki(Zu.bind(null,e));else{var t=Xu(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Gu();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Di&&Si(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Ki(Zu.bind(null,e)):zi(r,Ju.bind(null,e),{timeout:10*(1073741821-t)-Ui()}),e.callbackNode=t}}}function Ju(e,t){if(Hu=0,t)return Rs(e,t=Gu()),Yu(e),null;var n=Xu(e);if(0!==n){if(t=e.callbackNode,0!==(48&Su))throw Error(a(327));if(vs(),e===Iu&&n===_u||ns(e,n),null!==Ou){var r=Su;Su|=16;for(var i=is();;)try{ss();break}catch(s){rs(e,s)}if(Zi(),Su=r,mu.current=i,1===ku)throw t=Cu,ns(e,n),Ps(e,n),Yu(e),t;if(null===Ou)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=ku,Iu=null,r){case wu:case 1:throw Error(a(345));case 2:Rs(e,2<n?2:n);break;case Eu:if(Ps(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fs(i)),1073741823===Au&&10<(i=ju+500-Ui())){if(Pu){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,ns(e,n);break}}if(0!==(o=Xu(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=bn(hs.bind(null,e),i);break}hs(e);break;case Tu:if(Ps(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fs(i)),Pu&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,ns(e,n);break}if(0!==(i=Xu(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Nu?r=10*(1073741821-Nu)-Ui():1073741823===Au?r=0:(r=10*(1073741821-Au)-5e3,0>(r=(i=Ui())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yu(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=bn(hs.bind(null,e),r);break}hs(e);break;case 5:if(1073741823!==Au&&null!==xu){o=Au;var u=xu;if(0>=(r=0|u.busyMinDurationMs)?r=0:(i=0|u.busyDelayMs,r=(o=Ui()-(10*(1073741821-o)-(0|u.timeoutMs||5e3)))<=i?0:i+r-o),10<r){Ps(e,n),e.timeoutHandle=bn(hs.bind(null,e),r);break}}hs(e);break;default:throw Error(a(329))}if(Yu(e),e.callbackNode===t)return Ju.bind(null,e)}}return null}function Zu(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!==(48&Su))throw Error(a(327));if(vs(),e===Iu&&t===_u||ns(e,t),null!==Ou){var n=Su;Su|=16;for(var r=is();;)try{us();break}catch(i){rs(e,i)}if(Zi(),Su=n,mu.current=r,1===ku)throw n=Cu,ns(e,t),Ps(e,t),Yu(e),n;if(null!==Ou)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Iu=null,hs(e),Yu(e)}return null}function es(e,t){var n=Su;Su|=1;try{return e(t)}finally{0===(Su=n)&&Hi()}}function ts(e,t){var n=Su;Su&=-2,Su|=8;try{return e(t)}finally{0===(Su=n)&&Hi()}}function ns(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,wn(n)),null!==Ou)for(n=Ou.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Po(),si(hi),si(fi);break;case 5:Ro(r);break;case 4:Po();break;case 13:case 19:si(Lo);break;case 10:eo(r)}n=n.return}Iu=e,Ou=_s(e.current,null),_u=t,ku=wu,Cu=null,Nu=Au=1073741823,xu=null,Du=0,Pu=!1}function rs(e,t){for(;;){try{if(Zi(),Uo.current=ga,Ho)for(var n=Bo.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(qo=0,Ko=zo=Bo=null,Ho=!1,null===Ou||null===Ou.return)return ku=1,Cu=t,Ou=null;e:{var i=e,o=Ou.return,a=Ou,u=t;if(t=_u,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var s=u;if(0===(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var l=0!==(1&Lo.current),f=o;do{var h;if(h=13===f.tag){var d=f.memoizedState;if(null!==d)h=null!==d.dehydrated;else{var p=f.memoizedProps;h=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!l)}}if(h){var v=f.updateQueue;if(null===v){var g=new Set;g.add(s),f.updateQueue=g}else v.add(s);if(0===(2&f.mode)){if(f.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var y=uo(1073741823,null);y.tag=2,so(a,y)}a.expirationTime=1073741823;break e}u=void 0,a=t;var m=i.pingCache;if(null===m?(m=i.pingCache=new du,u=new Set,m.set(s,u)):void 0===(u=m.get(s))&&(u=new Set,m.set(s,u)),!u.has(a)){u.add(a);var b=bs.bind(null,i,s,a);s.then(b,b)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);u=Error((ge(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ye(a))}5!==ku&&(ku=2),u=Ja(u,a),f=o;do{switch(f.tag){case 3:s=u,f.effectTag|=4096,f.expirationTime=t,co(f,pu(f,s,t));break e;case 1:s=u;var w=f.type,E=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof w.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===Fu||!Fu.has(E)))){f.effectTag|=4096,f.expirationTime=t,co(f,vu(f,s,t));break e}}f=f.return}while(null!==f)}Ou=ls(Ou)}catch(T){t=T;continue}break}}function is(){var e=mu.current;return mu.current=ga,null===e?ga:e}function os(e,t){e<Au&&2<e&&(Au=e),null!==t&&e<Nu&&2<e&&(Nu=e,xu=t)}function as(e){e>Du&&(Du=e)}function us(){for(;null!==Ou;)Ou=cs(Ou)}function ss(){for(;null!==Ou&&!Pi();)Ou=cs(Ou)}function cs(e){var t=gu(e.alternate,e,_u);return e.memoizedProps=e.pendingProps,null===t&&(t=ls(e)),bu.current=null,t}function ls(e){Ou=e;do{var t=Ou.alternate;if(e=Ou.return,0===(2048&Ou.effectTag)){if(t=Xa(t,Ou,_u),1===_u||1!==Ou.childExpirationTime){for(var n=0,r=Ou.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Ou.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Ou.firstEffect),null!==Ou.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Ou.firstEffect),e.lastEffect=Ou.lastEffect),1<Ou.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Ou:e.firstEffect=Ou,e.lastEffect=Ou))}else{if(null!==(t=Ya(Ou)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Ou.sibling))return t;Ou=e}while(null!==Ou);return ku===wu&&(ku=5),null}function fs(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function hs(e){var t=Vi();return Bi(99,ds.bind(null,e,t)),null}function ds(e,t){do{vs()}while(null!==Vu);if(0!==(48&Su))throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=fs(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Iu&&(Ou=Iu=null,_u=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Su;Su|=32,bu.current=null,vn=Gt;var u=dn();if(pn(u)){if("selectionStart"in u)var s={start:u.selectionStart,end:u.selectionEnd};else e:{var c=(s=(s=u.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(c&&0!==c.rangeCount){s=c.anchorNode;var l=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{s.nodeType,f.nodeType}catch(_){s=null;break e}var h=0,d=-1,p=-1,v=0,g=0,y=u,m=null;t:for(;;){for(var b;y!==s||0!==l&&3!==y.nodeType||(d=h+l),y!==f||0!==c&&3!==y.nodeType||(p=h+c),3===y.nodeType&&(h+=y.nodeValue.length),null!==(b=y.firstChild);)m=y,y=b;for(;;){if(y===u)break t;if(m===s&&++v===l&&(d=h),m===f&&++g===c&&(p=h),null!==(b=y.nextSibling))break;m=(y=m).parentNode}y=b}s=-1===d||-1===p?null:{start:d,end:p}}else s=null}s=s||{start:0,end:0}}else s=null;gn={activeElementDetached:null,focusedElem:u,selectionRange:s},Gt=!1,Ru=i;do{try{ps()}catch(_){if(null===Ru)throw Error(a(330));ms(Ru,_),Ru=Ru.nextEffect}}while(null!==Ru);Ru=i;do{try{for(u=e,s=t;null!==Ru;){var w=Ru.effectTag;if(16&w&&Ve(Ru.stateNode,""),128&w){var E=Ru.alternate;if(null!==E){var T=E.ref;null!==T&&("function"===typeof T?T(null):T.current=null)}}switch(1038&w){case 2:cu(Ru),Ru.effectTag&=-3;break;case 6:cu(Ru),Ru.effectTag&=-3,fu(Ru.alternate,Ru);break;case 1024:Ru.effectTag&=-1025;break;case 1028:Ru.effectTag&=-1025,fu(Ru.alternate,Ru);break;case 4:fu(Ru.alternate,Ru);break;case 8:lu(u,l=Ru,s),uu(l)}Ru=Ru.nextEffect}}catch(_){if(null===Ru)throw Error(a(330));ms(Ru,_),Ru=Ru.nextEffect}}while(null!==Ru);if(T=gn,E=dn(),w=T.focusedElem,s=T.selectionRange,E!==w&&w&&w.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(w.ownerDocument.documentElement,w)){null!==s&&pn(w)&&(E=s.start,void 0===(T=s.end)&&(T=E),"selectionStart"in w?(w.selectionStart=E,w.selectionEnd=Math.min(T,w.value.length)):(T=(E=w.ownerDocument||document)&&E.defaultView||window).getSelection&&(T=T.getSelection(),l=w.textContent.length,u=Math.min(s.start,l),s=void 0===s.end?u:Math.min(s.end,l),!T.extend&&u>s&&(l=s,s=u,u=l),l=hn(w,u),f=hn(w,s),l&&f&&(1!==T.rangeCount||T.anchorNode!==l.node||T.anchorOffset!==l.offset||T.focusNode!==f.node||T.focusOffset!==f.offset)&&((E=E.createRange()).setStart(l.node,l.offset),T.removeAllRanges(),u>s?(T.addRange(E),T.extend(f.node,f.offset)):(E.setEnd(f.node,f.offset),T.addRange(E))))),E=[];for(T=w;T=T.parentNode;)1===T.nodeType&&E.push({element:T,left:T.scrollLeft,top:T.scrollTop});for("function"===typeof w.focus&&w.focus(),w=0;w<E.length;w++)(T=E[w]).element.scrollLeft=T.left,T.element.scrollTop=T.top}Gt=!!vn,gn=vn=null,e.current=n,Ru=i;do{try{for(w=e;null!==Ru;){var S=Ru.effectTag;if(36&S&&ou(w,Ru.alternate,Ru),128&S){E=void 0;var I=Ru.ref;if(null!==I){var O=Ru.stateNode;switch(Ru.tag){case 5:E=O;break;default:E=O}"function"===typeof I?I(E):I.current=E}}Ru=Ru.nextEffect}}catch(_){if(null===Ru)throw Error(a(330));ms(Ru,_),Ru=Ru.nextEffect}}while(null!==Ru);Ru=null,ji(),Su=o}else e.current=n;if(Uu)Uu=!1,Vu=e,qu=t;else for(Ru=i;null!==Ru;)t=Ru.nextEffect,Ru.nextEffect=null,Ru=t;if(0===(t=e.firstPendingTime)&&(Fu=null),1073741823===t?e===Ku?zu++:(zu=0,Ku=e):zu=0,"function"===typeof Es&&Es(n.stateNode,r),Yu(e),Lu)throw Lu=!1,e=Mu,Mu=null,e;return 0!==(8&Su)||Hi(),null}function ps(){for(;null!==Ru;){var e=Ru.effectTag;0!==(256&e)&&nu(Ru.alternate,Ru),0===(512&e)||Uu||(Uu=!0,zi(97,(function(){return vs(),null}))),Ru=Ru.nextEffect}}function vs(){if(90!==qu){var e=97<qu?97:qu;return qu=90,Bi(e,gs)}}function gs(){if(null===Vu)return!1;var e=Vu;if(Vu=null,0!==(48&Su))throw Error(a(331));var t=Su;for(Su|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ru(5,n),iu(5,n)}}catch(r){if(null===e)throw Error(a(330));ms(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Su=t,Hi(),!0}function ys(e,t,n){so(e,t=pu(e,t=Ja(n,t),1073741823)),null!==(e=$u(e,1073741823))&&Yu(e)}function ms(e,t){if(3===e.tag)ys(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){ys(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Fu||!Fu.has(r))){so(n,e=vu(n,e=Ja(t,e),1073741823)),null!==(n=$u(n,1073741823))&&Yu(n);break}}n=n.return}}function bs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Iu===e&&_u===n?ku===Tu||ku===Eu&&1073741823===Au&&Ui()-ju<500?ns(e,_u):Pu=!0:Ds(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Yu(e)))}function ws(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=Wu(t=Gu(),e,null)),null!==(e=$u(e,t))&&Yu(e)}gu=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||hi.current)Na=!0;else{if(r<n){switch(Na=!1,t.tag){case 3:Ua(t),Ca();break;case 5:if(jo(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:vi(t.type)&&bi(t);break;case 4:Do(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,ci($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Ka(e,t,n):(ci(Lo,1&Lo.current),null!==(t=Qa(e,t,n))?t.sibling:null);ci(Lo,1&Lo.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return Wa(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),ci(Lo,Lo.current),!r)return null}return Qa(e,t,n)}Na=!1}}else Na=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=pi(t,fi.current),no(t,n),i=Qo(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,vi(r)){var o=!0;bi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&vo(t,r,u,e),i.updater=go,t.stateNode=i,i._reactInternalFiber=t,wo(t,r,e,n),t=Fa(null,t,r,!0,o,n)}else t.tag=0,xa(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"===typeof e)return Os(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===se)return 11;if(e===fe)return 14}return 2}(i),e=Qi(i,e),o){case 0:t=La(null,t,i,e,n);break e;case 1:t=Ma(null,t,i,e,n);break e;case 11:t=Da(null,t,i,e,n);break e;case 14:t=Pa(null,t,i,Qi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,La(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ma(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 3:if(Ua(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ao(e,t),lo(t,r,null,n),(r=t.memoizedState.element)===i)Ca(),t=Qa(e,t,n);else{if((i=t.stateNode.hydrate)&&(Ea=En(t.stateNode.containerInfo.firstChild),wa=t,i=Ta=!0),i)for(n=_o(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else xa(e,t,r,n),Ca();t=t.child}return t;case 5:return jo(t),null===e&&Oa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,mn(r,i)?u=null:null!==o&&mn(r,o)&&(t.effectTag|=16),Ra(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(xa(e,t,u,n),t=t.child),t;case 6:return null===e&&Oa(t),null;case 13:return Ka(e,t,n);case 4:return Do(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Oo(t,null,r,n):xa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Da(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 7:return xa(e,t,t.pendingProps,n),t.child;case 8:case 12:return xa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,o=i.value;var s=t.type._context;if(ci($i,s._currentValue),s._currentValue=o,null!==u)if(s=u.value,0===(o=Mr(s,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,o):1073741823))){if(u.children===i.children&&!hi.current){t=Qa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===s.tag&&((l=uo(n,null)).tag=2,so(s,l)),s.expirationTime<n&&(s.expirationTime=n),null!==(l=s.alternate)&&l.expirationTime<n&&(l.expirationTime=n),to(s.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}xa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,no(t,n),r=r(i=ro(i,o.unstable_observedBits)),t.effectTag|=1,xa(e,t,r,n),t.child;case 14:return o=Qi(i=t.type,t.pendingProps),Pa(e,t,i,o=Qi(i.type,o),r,n);case 15:return ja(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,vi(r)?(e=!0,bi(t)):e=!1,no(t,n),mo(t,r,i),wo(t,r,i,n),Fa(null,t,r,!0,e,n);case 19:return Wa(e,t,n)}throw Error(a(156,t.tag))};var Es=null,Ts=null;function Ss(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Is(e,t,n,r){return new Ss(e,t,n,r)}function Os(e){return!(!(e=e.prototype)||!e.isReactComponent)}function _s(e,t){var n=e.alternate;return null===n?((n=Is(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ks(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Os(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case ne:return Cs(n.children,i,o,t);case ue:u=8,i|=7;break;case re:u=8,i|=1;break;case ie:return(e=Is(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=o,e;case ce:return(e=Is(13,n,t,i)).type=ce,e.elementType=ce,e.expirationTime=o,e;case le:return(e=Is(19,n,t,i)).elementType=le,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case oe:u=10;break e;case ae:u=9;break e;case se:u=11;break e;case fe:u=14;break e;case he:u=16,r=null;break e;case de:u=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Is(u,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Cs(e,t,n,r){return(e=Is(7,e,r,t)).expirationTime=n,e}function As(e,t,n){return(e=Is(6,e,null,t)).expirationTime=n,e}function Ns(e,t,n){return(t=Is(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xs(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Ds(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Ps(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function js(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Rs(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Ls(e,t,n,r){var i=t.current,o=Gu(),u=ho.suspense;o=Wu(o,i,u);e:if(n){t:{if(Ze(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(vi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(a(171))}if(1===n.tag){var c=n.type;if(vi(c)){n=mi(n,c,s);break e}}n=s}else n=li;return null===t.context?t.context=n:t.pendingContext=n,(t=uo(o,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),so(i,t),Qu(i,o),o}function Ms(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Fs(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Us(e,t){Fs(e,t),(e=e.alternate)&&Fs(e,t)}function Vs(e,t,n){var r=new xs(e,t,n=null!=n&&!0===n.hydrate),i=Is(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,oo(i),e[_n]=r.current,n&&0!==t&&function(e,t){var n=Je(t);_t.forEach((function(e){pt(e,t,n)})),kt.forEach((function(e){pt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function qs(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Bs(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=Ms(a);u.call(e)}}Ls(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Vs(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var s=i;i=function(){var e=Ms(a);s.call(e)}}ts((function(){Ls(t,a,e,i)}))}return Ms(a)}function zs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ks(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!qs(t))throw Error(a(200));return zs(e,t,null,n)}Vs.prototype.render=function(e){Ls(e,this._internalRoot,null,null)},Vs.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ls(null,e,null,(function(){t[_n]=null}))},vt=function(e){if(13===e.tag){var t=Wi(Gu(),150,100);Qu(e,t),Us(e,t)}},gt=function(e){13===e.tag&&(Qu(e,3),Us(e,3))},yt=function(e){if(13===e.tag){var t=Gu();Qu(e,t=Wu(t,e,null)),Us(e,t)}},C=function(e,t,n){switch(t){case"input":if(Oe(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Nn(r);if(!i)throw Error(a(90));Ee(r),Oe(r,i)}}}break;case"textarea":De(e,n);break;case"select":null!=(t=n.value)&&Ae(e,!!n.multiple,t,!1)}},j=es,R=function(e,t,n,r,i){var o=Su;Su|=4;try{return Bi(98,e.bind(null,t,n,r,i))}finally{0===(Su=o)&&Hi()}},L=function(){0===(49&Su)&&(function(){if(null!==Bu){var e=Bu;Bu=null,e.forEach((function(e,t){Rs(t,e),Yu(t)})),Hi()}}(),vs())},M=function(e,t){var n=Su;Su|=2;try{return e(t)}finally{0===(Su=n)&&Hi()}};var Hs={Events:[Cn,An,Nn,_,S,Mn,function(e){it(e,Ln)},D,P,Yt,ut,vs,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Es=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Ts=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:kn,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hs,t.createPortal=Ks,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!==(48&Su))throw Error(a(187));var n=Su;Su|=1;try{return Bi(99,e.bind(null,t))}finally{Su=n,Hi()}},t.hydrate=function(e,t,n){if(!qs(t))throw Error(a(200));return Bs(null,e,t,!0,n)},t.render=function(e,t,n){if(!qs(t))throw Error(a(200));return Bs(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!qs(e))throw Error(a(40));return!!e._reactRootContainer&&(ts((function(){Bs(null,null,e,!1,(function(){e._reactRootContainer=null,e[_n]=null}))})),!0)},t.unstable_batchedUpdates=es,t.unstable_createPortal=function(e,t){return Ks(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!qs(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return Bs(e,t,n,!1,r)},t.version="16.14.0"},function(e,t,n){"use strict";e.exports=n(72)},function(e,t,n){"use strict";var r,i,o,a,u;if("undefined"===typeof window||"function"!==typeof MessageChannel){var s=null,c=null,l=function e(){if(null!==s)try{var n=t.unstable_now();s(!0,n),s=null}catch(r){throw setTimeout(e,0),r}},f=Date.now();t.unstable_now=function(){return Date.now()-f},r=function(e){null!==s?setTimeout(r,0,e):(s=e,setTimeout(l,0))},i=function(e,t){c=setTimeout(e,t)},o=function(){clearTimeout(c)},a=function(){return!1},u=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,p=window.setTimeout,v=window.clearTimeout;if("undefined"!==typeof console){var g=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof h&&"function"===typeof h.now)t.unstable_now=function(){return h.now()};else{var y=d.now();t.unstable_now=function(){return d.now()-y}}var m=!1,b=null,w=-1,E=5,T=0;a=function(){return t.unstable_now()>=T},u=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):E=0<e?Math.floor(1e3/e):5};var S=new MessageChannel,I=S.port2;S.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();T=e+E;try{b(!0,e)?I.postMessage(null):(m=!1,b=null)}catch(n){throw I.postMessage(null),n}}else m=!1},r=function(e){b=e,m||(m=!0,I.postMessage(null))},i=function(e,n){w=p((function(){e(t.unstable_now())}),n)},o=function(){v(w),w=-1}}function O(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<C(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],u=o+1,s=e[u];if(void 0!==a&&0>C(a,n))void 0!==s&&0>C(s,a)?(e[r]=s,e[u]=n,r=u):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==s&&0>C(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var A=[],N=[],x=1,D=null,P=3,j=!1,R=!1,L=!1;function M(e){for(var t=_(N);null!==t;){if(null===t.callback)k(N);else{if(!(t.startTime<=e))break;k(N),t.sortIndex=t.expirationTime,O(A,t)}t=_(N)}}function F(e){if(L=!1,M(e),!R)if(null!==_(A))R=!0,r(U);else{var t=_(N);null!==t&&i(F,t.startTime-e)}}function U(e,n){R=!1,L&&(L=!1,o()),j=!0;var r=P;try{for(M(n),D=_(A);null!==D&&(!(D.expirationTime>n)||e&&!a());){var u=D.callback;if(null!==u){D.callback=null,P=D.priorityLevel;var s=u(D.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?D.callback=s:D===_(A)&&k(A),M(n)}else k(A);D=_(A)}if(null!==D)var c=!0;else{var l=_(N);null!==l&&i(F,l.startTime-n),c=!1}return c}finally{D=null,P=r,j=!1}}function V(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var q=u;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||j||(R=!0,r(U))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return _(A)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=q,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_scheduleCallback=function(e,n,a){var u=t.unstable_now();if("object"===typeof a&&null!==a){var s=a.delay;s="number"===typeof s&&0<s?u+s:u,a="number"===typeof a.timeout?a.timeout:V(e)}else a=V(e),s=u;return e={id:x++,callback:n,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>u?(e.sortIndex=s,O(N,e),null===_(A)&&e===_(N)&&(L?o():L=!0,i(F,s-u))):(e.sortIndex=a,O(A,e),R||j||(R=!0,r(U))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();M(e);var n=_(A);return n!==D&&null!==D&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<D.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(_){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),a=new S(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return O()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=w(a,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(_){return{type:"throw",arg:_}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(I([])));g&&g!==t&&n.call(g,i)&&(p=g);var y=d.prototype=f.prototype=Object.create(p);function m(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(i,o){function a(){return new t((function(r,a){!function r(i,o,a,u){var s=c(e[i],e,o);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"===typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,u)}),(function(e){r("throw",e,a,u)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,u)}))}u(s.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function I(e){if(e){var t=e[i];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=d,u(y,"constructor",d),u(d,"constructor",h),h.displayName=u(d,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,a,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},m(b.prototype),u(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new b(s(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},m(y),u(y,a,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(u&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=r}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,c=[],l=!1,f=-1;function h(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=u(h);l=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";n(76)},function(e,t,n){"use strict";(function(e){var t=n(3);(function(){var n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var i=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof e&&e,t];for(var n=0;n<t.length;++n){var r=t[n];if(r&&r.Math==Math)return r}return globalThis}(this);function o(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function a(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:o(e)}}!function(e,t){if(t){var n=i;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in n||(n[a]={}),n=n[a]}(t=t(o=n[e=e[e.length-1]]))!=o&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var o=i.setTimeout;n.prototype.c=function(e){o(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)u.b(this.a[e]);this.a=null}};var u=new n;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){o(n)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Ra(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?u.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=a(e),o=i.next();!o.done;o=i.next())r(o.value).Ra(t,n)}))},t.all=function(e){var n=a(e),i=n.next();return i.done?r([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--u&&e(a)}}var a=[],u=0;do{a.push(void 0),u++,r(i.value).Ra(o(a.length-1),t),i=n.next()}while(!i.done)}))},t}));var u=u||{},s=this||self,c=/^[\w+/_-]+[=]{0,2}$/,l=null;function f(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&c.test(e)?e:""}function h(){}function d(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function p(e){var t=d(e);return"array"==t||"object"==t&&"number"==typeof e.length}function v(e){return"function"==d(e)}function g(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function y(e){return Object.prototype.hasOwnProperty.call(e,m)&&e[m]||(e[m]=++b)}var m="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(e,t,n){return e.call.apply(e.bind,arguments)}function E(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function T(e,t,n){return(T=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:E).apply(null,arguments)}function S(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var I=Date.now;function O(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function _(e){return e}function k(e,t,n){this.code=N+e,this.message=t||x[e]||"",this.a=n||null}function C(e){var t=e&&e.code;return t?new k(t.substring(N.length),e.message,e.serverResponse):null}O(k,Error),k.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},k.prototype.toJSON=function(){return this.w()};var A,N="auth/",x={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},D={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function P(e){for(var t in D)if(D[t].id===e)return{firebaseEndpoint:(e=D[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function j(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function R(e){if(Error.captureStackTrace)Error.captureStackTrace(this,R);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function L(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");R.call(this,n+e[r])}function M(e,t){throw new L("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function F(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function U(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function V(){this.b=this.a=null}A=P("__EID__")?"__EID__":void 0,O(R,Error),R.prototype.name="CustomError",O(L,R),L.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var q=new F((function(){return new z}),(function(e){e.reset()}));function B(){var e=wt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function z(){this.next=this.b=this.a=null}V.prototype.add=function(e,t){var n=q.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},z.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},z.prototype.reset=function(){this.next=this.b=this.a=null};var K=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},H=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var G=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"===typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var u=o[a];t.call(void 0,u,a,e)&&(r[i++]=u)}return r},W=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"===typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},Q=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function $(e,t){return 0<=K(e,t)}function X(e,t){var n;return(n=0<=(t=K(e,t)))&&Array.prototype.splice.call(e,t,1),n}function Y(e,t){!function(e,t){for(var n="string"===typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function J(e){return Array.prototype.concat.apply([],arguments)}function Z(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var ee,te=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},ne=/&/g,re=/</g,ie=/>/g,oe=/"/g,ae=/'/g,ue=/\x00/g,se=/[\x00&<>"']/;function ce(e,t){return-1!=e.indexOf(t)}function le(e,t){return e<t?-1:e>t?1:0}e:{var fe=s.navigator;if(fe){var he=fe.userAgent;if(he){ee=he;break e}}ee=""}function de(e){return ce(ee,e)}function pe(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function ve(e){for(var t in e)return!1;return!0}function ge(e){var t,n={};for(t in e)n[t]=e[t];return n}var ye="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ye.length;o++)n=ye[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function be(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break e}}catch(a){}i=null}if(i&&"undefined"!=typeof i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(g(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(a){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function we(e,t){this.a=e===Ie&&t||"",this.b=Se}function Ee(e){return e instanceof we&&e.constructor===we&&e.b===Se?e.a:(M("expected object of type Const, got '"+e+"'"),"type_error:Const")}we.prototype.ta=!0,we.prototype.sa=function(){return this.a},we.prototype.toString=function(){return"Const{"+this.a+"}"};var Te,Se={},Ie={};function Oe(){if(void 0===Te){var e=null,t=s.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:_,createScript:_,createScriptURL:_})}catch(n){s.console&&s.console.error(n.message)}Te=e}else Te=e}return Te}function _e(e,t){this.a=t===xe?e:""}function ke(e){return e instanceof _e&&e.constructor===_e?e.a:(M("expected object of type TrustedResourceUrl, got '"+e+"' of type "+d(e)),"type_error:TrustedResourceUrl")}function Ce(e,t){var n=Ee(e);if(!Ne.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=Oe();return new _e(e=t?t.createScriptURL(e):e,xe)}(e=n.replace(Ae,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof we?Ee(e):encodeURIComponent(String(e))})))}_e.prototype.ta=!0,_e.prototype.sa=function(){return this.a.toString()},_e.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ae=/%{(\w+)}/g,Ne=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,xe={};function De(e,t){this.a=t===Ue?e:""}function Pe(e){return e instanceof De&&e.constructor===De?e.a:(M("expected object of type SafeUrl, got '"+e+"' of type "+d(e)),"type_error:SafeUrl")}De.prototype.ta=!0,De.prototype.sa=function(){return this.a.toString()},De.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var je=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Re=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Le=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Me(e){if(e instanceof De)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),Le.test(e))e=new De(e,Ue);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(Re);e=t&&je.test(t[1])?new De(e,Ue):null}return e}function Fe(e){return e instanceof De?e:(e="object"==typeof e&&e.ta?e.sa():String(e),Le.test(e)||(e="about:invalid#zClosurez"),new De(e,Ue))}var Ue={},Ve=new De("about:invalid#zClosurez",Ue);function qe(e,t,n){this.a=n===Be?e:""}qe.prototype.ta=!0,qe.prototype.sa=function(){return this.a.toString()},qe.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Be={};function ze(e,t,n,r){return e=e instanceof De?e:Fe(e),t=t||s,n=n instanceof we?Ee(n):n||"",t.open(Pe(e),n,r,void 0)}function Ke(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function He(e){return se.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(ne,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(re,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(ie,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(oe,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(ae,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ue,"&#0;"))),e}function Ge(e){return Ge[" "](e),e}Ge[" "]=h;var We,Qe=de("Opera"),$e=de("Trident")||de("MSIE"),Xe=de("Edge"),Ye=Xe||$e,Je=de("Gecko")&&!(ce(ee.toLowerCase(),"webkit")&&!de("Edge"))&&!(de("Trident")||de("MSIE"))&&!de("Edge"),Ze=ce(ee.toLowerCase(),"webkit")&&!de("Edge");function et(){var e=s.document;return e?e.documentMode:void 0}e:{var tt="",nt=function(){var e=ee;return Je?/rv:([^\);]+)(\)|;)/.exec(e):Xe?/Edge\/([\d\.]+)/.exec(e):$e?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ze?/WebKit\/(\S+)/.exec(e):Qe?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(nt&&(tt=nt?nt[1]:""),$e){var rt=et();if(null!=rt&&rt>parseFloat(tt)){We=String(rt);break e}}We=tt}var it,ot={};function at(e){return function(e,t){var n=ot;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=te(String(We)).split("."),r=te(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",u=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==a[0].length&&0==u[0].length)break;t=le(0==a[1].length?0:parseInt(a[1],10),0==u[1].length?0:parseInt(u[1],10))||le(0==a[2].length,0==u[2].length)||le(a[2],u[2]),a=a[3],u=u[3]}while(0==t)}return 0<=t}))}if(s.document&&$e){var ut=et();it=ut||(parseInt(We,10)||void 0)}else it=void 0;var st=it;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(sa){}var ct=!$e||9<=Number(st);function lt(e){var t=document;return"string"===typeof e?t.getElementById(e):e}function ft(e,t){pe(t,(function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:pt.hasOwnProperty(n)?e.setAttribute(pt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var ht,dt,pt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function vt(e,t,n){function r(n){n&&t.appendChild("string"===typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!p(o)||g(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(g(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(v(o)){a="function"==typeof o.item;break e}}a=!1}H(a?Z(o):o,r)}}}function gt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function yt(e){s.setTimeout((function(){throw e}),0)}function mt(e,t){dt||function(){if(s.Promise&&s.Promise.resolve){var e=s.Promise.resolve(void 0);dt=function(){e.then(Et)}}else dt=function(){var e=Et;!v(s.setImmediate)||s.Window&&s.Window.prototype&&!de("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(ht||(ht=function(){var e=s.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!de("Presto")&&(e=function(){var e=gt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=T((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!de("Trident")&&!de("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){s.setTimeout(e,0)}}()),ht(e)):s.setImmediate(e)}}(),bt||(dt(),bt=!0),wt.add(e,t)}var bt=!1,wt=new V;function Et(){for(var e;e=B();){try{e.a.call(e.b)}catch(t){yt(t)}U(q,e)}bt=!1}function Tt(e,t){if(this.a=St,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=h)try{var n=this;e.call(t,(function(e){Rt(n,It,e)}),(function(e){if(!(e instanceof Bt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}Rt(n,Ot,e)}))}catch(r){Rt(this,Ot,r)}}var St=0,It=2,Ot=3;function _t(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}_t.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var kt=new F((function(){return new _t}),(function(e){e.reset()}));function Ct(e,t,n){var r=kt.get();return r.g=e,r.b=t,r.f=n,r}function At(e){if(e instanceof Tt)return e;var t=new Tt(h);return Rt(t,It,e),t}function Nt(e){return new Tt((function(t,n){n(e)}))}function xt(e,t,n){Lt(e,t,n,null)||mt(S(t,e))}function Dt(e){return new Tt((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)xt(e[o],S(i,o,!0),S(i,o,!1));else t(r)}))}function Pt(e,t){e.b||e.a!=It&&e.a!=Ot||Mt(e),e.f?e.f.next=t:e.b=t,e.f=t}function jt(e,t,n,r){var i=Ct(null,null,null);return i.a=new Tt((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(a){o(a)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Bt?o(t):e(i)}catch(a){o(a)}}:o})),i.a.c=e,Pt(e,i),i.a}function Rt(e,t,n){e.a==St&&(e===n&&(t=Ot,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Lt(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Mt(e),t!=Ot||n instanceof Bt||function(e,t){e.g=!0,mt((function(){e.g&&qt.call(null,t)}))}(e,n)))}function Lt(e,t,n,r){if(e instanceof Tt)return Pt(e,Ct(t||h,n||null,r)),!0;if(j(e))return e.then(t,n,r),!0;if(g(e))try{var i=e.then;if(v(i))return function(e,t,n,r,i){function o(e){a||(a=!0,r.call(i,e))}var a=!1;try{t.call(e,(function(e){a||(a=!0,n.call(i,e))}),o)}catch(u){o(u)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Mt(e){e.h||(e.h=!0,mt(e.gc,e))}function Ft(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Ut(e,t,n,r){if(n==Ot&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Vt(t,n,r);else try{t.c?t.g.call(t.f):Vt(t,n,r)}catch(i){qt.call(null,i)}U(kt,t)}function Vt(e,t,n){t==It?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}Tt.prototype.then=function(e,t,n){return jt(this,v(e)?e:null,v(t)?t:null,n)},Tt.prototype.$goog_Thenable=!0,(n=Tt.prototype).oa=function(e,t){return(e=Ct(e,e,t)).c=!0,Pt(this,e),this},n.o=function(e,t){return jt(this,null,e,t)},n.cancel=function(e){if(this.a==St){var t=new Bt(e);mt((function(){!function e(t,n){if(t.a==St)if(t.c){var r=t.c;if(r.b){for(var i=0,o=null,a=null,u=r.b;u&&(u.c||(i++,u.a==t&&(o=u),!(o&&1<i)));u=u.next)o||(a=u);o&&(r.a==St&&1==i?e(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):Ft(r),Ut(r,o,Ot,n)))}t.c=null}else Rt(t,Ot,n)}(this,t)}),this)}},n.$c=function(e){this.a=St,Rt(this,It,e)},n.ad=function(e){this.a=St,Rt(this,Ot,e)},n.gc=function(){for(var e;e=Ft(this);)Ut(this,e,this.a,this.i);this.h=!1};var qt=yt;function Bt(e){R.call(this,e)}function zt(){0!=Kt&&(Ht[y(this)]=this),this.ya=this.ya,this.pa=this.pa}O(Bt,R),Bt.prototype.name="cancel";var Kt=0,Ht={};function Gt(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=Kt)){var t=y(e);if(0!=Kt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ht[t]}}zt.prototype.ya=!1,zt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Wt=Object.freeze||function(e){return e},Qt=!$e||9<=Number(st),$t=$e&&!at("9"),Xt=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{s.addEventListener("test",h,t),s.removeEventListener("test",h,t)}catch(n){}return e}();function Yt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Jt(e,t){if(Yt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Je){e:{try{Ge(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Zt[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Yt.prototype.preventDefault=function(){this.defaultPrevented=!0},O(Jt,Yt);var Zt=Wt({2:"touch",3:"pen",4:"mouse"});Jt.prototype.preventDefault=function(){Jt.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,$t)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},Jt.prototype.g=function(){return this.a};var en="closure_listenable_"+(1e6*Math.random()|0),tn=0;function nn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=i,this.key=++tn,this.wa=this.Qa=!1}function rn(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function on(e){this.src=e,this.a={},this.b=0}function an(e,t){var n=t.type;n in e.a&&X(e.a[n],t)&&(rn(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function un(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.wa&&o.listener==t&&o.capture==!!n&&o.Wa==r)return i}return-1}on.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=un(e,t,r,i);return-1<a?(t=e[a],n||(t.Qa=!1)):((t=new nn(t,this.src,o,!!r,i)).Qa=n,e.push(t)),t};var sn="closure_lm_"+(1e6*Math.random()|0),cn={};function ln(e,t,n,r,i){if(r&&r.once)hn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)ln(e,t[o],n,r,i);else n=En(n),e&&e[en]?Sn(e,t,n,g(r)?!!r.capture:!!r,i):fn(e,t,n,!1,r,i)}function fn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=g(i)?!!i.capture:!!i,u=bn(e);if(u||(e[sn]=u=new on(e)),!(n=u.add(t,n,r,a,o)).proxy){if(r=function(){var e=mn,t=Qt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Xt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(vn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function hn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)hn(e,t[o],n,r,i);else n=En(n),e&&e[en]?In(e,t,n,g(r)?!!r.capture:!!r,i):fn(e,t,n,!0,r,i)}function dn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)dn(e,t[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=En(n),e&&e[en]?(e=e.v,(t=String(t).toString())in e.a&&(-1<(n=un(o=e.a[t],n,r,i))&&(rn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=bn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=un(t,n,r,i)),(n=-1<e?t[e]:null)&&pn(n))}function pn(e){if("number"!==typeof e&&e&&!e.wa){var t=e.src;if(t&&t[en])an(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(vn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=bn(t))?(an(n,e),0==n.b&&(n.src=null,t[sn]=null)):rn(e)}}}function vn(e){return e in cn?cn[e]:cn[e]="on"+e}function gn(e,t,n,r){var i=!0;if((e=bn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.wa&&(o=yn(o,r),i=i&&!1!==o)}return i}function yn(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&pn(e),n.call(r,t)}function mn(e,t){if(e.wa)return!0;if(!Qt){if(!t)e:{t=["window","event"];for(var n=s,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Jt(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=gn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=gn(r[i],e,!1,t),n=n&&o}return n}return yn(e,new Jt(t,this))}function bn(e){return(e=e[sn])instanceof on?e:null}var wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function En(e){return v(e)?e:(e[wn]||(e[wn]=function(t){return e.handleEvent(t)}),e[wn])}function Tn(){zt.call(this),this.v=new on(this),this.bc=this,this.hb=null}function Sn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function In(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function On(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.wa&&a.capture==n){var u=a.listener,s=a.Wa||a.src;a.Qa&&an(e.v,a),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}function _n(e,t,n){if(v(e))n&&(e=T(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=T(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function kn(e){var t=null;return new Tt((function(n,r){-1==(t=_n((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw s.clearTimeout(t),e}))}function Cn(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"===typeof e)return e.split("");if(p(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function An(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(p(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function Nn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Nn)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function xn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Dn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Dn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Dn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}O(Tn,zt),Tn.prototype[en]=!0,Tn.prototype.addEventListener=function(e,t,n,r){ln(this,e,t,n,r)},Tn.prototype.removeEventListener=function(e,t,n,r){dn(this,e,t,n,r)},Tn.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"===typeof e)e=new Yt(e,n);else if(e instanceof Yt)e.target=e.target||n;else{var i=e;me(e=new Yt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=On(a,r,!0,e)&&i}if(i=On(a=e.b=n,r,!0,e)&&i,i=On(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=On(a=e.b=t[o],r,!1,e)&&i;return i},Tn.prototype.Da=function(){if(Tn.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)rn(n[r]);delete t.a[e],t.b--}}this.hb=null},(n=Nn.prototype).X=function(){xn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},n.Y=function(){return xn(this),this.a.concat()},n.clear=function(){this.b={},this.c=this.a.length=0},n.get=function(e,t){return Dn(this.b,e)?this.b[e]:t},n.set=function(e,t){Dn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},n.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Pn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof jn?(this.i=void 0!==t?t:e.i,Rn(this,e.c),this.l=e.l,this.a=e.a,Ln(this,e.g),this.f=e.f,Mn(this,nr(e.b)),this.h=e.h):e&&(n=String(e).match(Pn))?(this.i=!!t,Rn(this,n[1]||"",!0),this.l=Bn(n[2]||""),this.a=Bn(n[3]||"",!0),Ln(this,n[4]),this.f=Bn(n[5]||"",!0),Mn(this,n[6]||"",!0),this.h=Bn(n[7]||"")):(this.i=!!t,this.b=new Xn(null,this.i))}function Rn(e,t,n){e.c=n?Bn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Ln(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Mn(e,t,n){t instanceof Xn?(e.b=t,function(e,t){t&&!e.f&&(Yn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Zn(this,t),tr(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=zn(t,Qn)),e.b=new Xn(t,e.i))}function Fn(e,t,n){e.b.set(t,n)}function Un(e,t){return e.b.get(t)}function Vn(e){return e instanceof jn?new jn(e):new jn(e,void 0)}function qn(e,t,n,r){var i=new jn(null,void 0);return e&&Rn(i,e),t&&(i.a=t),n&&Ln(i,n),r&&(i.f=r),i}function Bn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function zn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Kn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Kn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}jn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(zn(t,Hn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(zn(t,Hn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(zn(n,"/"==n.charAt(0)?Wn:Gn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",zn(n,$n)),e.join("")},jn.prototype.resolve=function(e){var t=new jn(this),n=!!e.c;n?Rn(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Ln(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ce(i,"./")||ce(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var u=i[a++];"."==u?r&&a==i.length&&o.push(""):".."==u?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(u),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?Mn(t,nr(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Hn=/[#\/\?@]/g,Gn=/[#\?:]/g,Wn=/[#\?]/g,Qn=/[#\?@]/g,$n=/#/g;function Xn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Yn(e){e.a||(e.a=new Nn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Jn(e){var t=An(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new Xn(null,void 0);e=Cn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?tr(n,i,o):n.add(i,o)}return n}function Zn(e,t){Yn(e),t=rr(e,t),Dn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Dn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&xn(e)))}function er(e,t){return Yn(e),t=rr(e,t),Dn(e.a.b,t)}function tr(e,t,n){Zn(e,t),0<n.length&&(e.c=null,e.a.set(rr(e,t),Z(n)),e.b+=n.length)}function nr(e){var t=new Xn;return t.c=e.c,e.a&&(t.a=new Nn(e.a),t.b=e.b),t}function rr(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function ir(e){var t=[];return function e(t,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),e(t,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(a=n[i])&&(r.push(o),sr(i,r),r.push(":"),e(t,a,r),o=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":sr(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new or,e,t),t.join("")}function or(){}(n=Xn.prototype).add=function(e,t){Yn(this),this.c=null,e=rr(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},n.clear=function(){this.a=this.c=null,this.b=0},n.forEach=function(e,t){Yn(this),this.a.forEach((function(n,r){H(n,(function(n){e.call(t,n,r,this)}),this)}),this)},n.Y=function(){Yn(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},n.X=function(e){Yn(this);var t=[];if("string"===typeof e)er(this,e)&&(t=J(t,this.a.get(rr(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=J(t,e[n])}return t},n.set=function(e,t){return Yn(this),this.c=null,er(this,e=rr(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},n.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},n.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var ar={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ur=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function sr(e,t){t.push('"',e.replace(ur,(function(e){var t=ar[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),ar[e]=t),t})),'"')}function cr(){var e=Cr();return $e&&!!st&&11==st||/Edge\/\d+/.test(e)}function lr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function fr(e,t){t=t||s.window;var n="about:blank";e&&(n=Pe(Me(e)||Ve)),t.location.href=n}function hr(e){return!!((e=(e||Cr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function dr(e){e=e||s.window;try{e.close()}catch(t){}}function pr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Cr().toLowerCase(),r&&(t.target=r,ce(n,"crios/")&&(t.target="_blank")),Or(Cr())==Sr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof De?n:Me("undefined"!=typeof n.href?n.href:String(n))||Ve,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((de("iPhone")&&!de("iPod")&&!de("iPad")||de("iPad")||de("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(be(a=gt(document,"A"),"HTMLAnchorElement"),t=t instanceof De?t:Fe(t),a.href=Pe(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=ze("",r,n,a),e=Pe(t),a&&(Ye&&ce(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+He(e)+'">',e=new qe(e=(r=Oe())?r.createHTML(e):e,null,Be),r=a.document)&&(r.write(function(e){return e instanceof qe&&e.constructor===qe?e.a:(M("expected object of type SafeHtml, got '"+e+"' of type "+d(e)),"type_error:SafeHtml")}(e)),r.close())):(a=ze(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(u){}return a}var vr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gr=/^[^@]+@[^@]+$/;function yr(){var e=null;return new Tt((function(t){"complete"==s.document.readyState?t():(e=function(){t()},hn(window,"load",e))})).o((function(t){throw dn(window,"load",e),t}))}function mr(e){return e=e||Cr(),!("file:"!==Pr()&&"ionic:"!==Pr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function br(){var e=s.window;try{return!(!e||e==e.top)}catch(t){return!1}}function wr(){return"undefined"!==typeof s.WorkerGlobalScope&&"function"===typeof s.importScripts}function Er(){return t.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":t.a.INTERNAL.hasOwnProperty("node")?"Node":wr()?"Worker":"Browser"}function Tr(){var e=Er();return"ReactNative"===e||"Node"===e}var Sr="Firefox",Ir="Chrome";function Or(e){var t=e.toLowerCase();return ce(t,"opera/")||ce(t,"opr/")||ce(t,"opios/")?"Opera":ce(t,"iemobile")?"IEMobile":ce(t,"msie")||ce(t,"trident/")?"IE":ce(t,"edge/")?"Edge":ce(t,"firefox/")?Sr:ce(t,"silk/")?"Silk":ce(t,"blackberry")?"Blackberry":ce(t,"webos")?"Webos":!ce(t,"safari/")||ce(t,"chrome/")||ce(t,"crios/")||ce(t,"android")?!ce(t,"chrome/")&&!ce(t,"crios/")||ce(t,"edge/")?ce(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Ir:"Safari"}var _r={md:"FirebaseCore-web",od:"FirebaseUI-web"};function kr(e,t){t=t||[];var n,r=[],i={};for(n in _r)i[_r[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=Er())?r=Or(i=Cr()):"Worker"===r&&(r=Or(i=Cr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Cr(){return s.navigator&&s.navigator.userAgent||""}function Ar(e,t){e=e.split("."),t=t||s;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Nr(){try{var e=s.localStorage,t=Fr();if(e)return e.setItem(t,"1"),e.removeItem(t),!cr()||!!s.indexedDB}catch(n){return wr()&&!!s.indexedDB}return!1}function xr(){return(Dr()||"chrome-extension:"===Pr()||mr())&&!Tr()&&Nr()&&!wr()}function Dr(){return"http:"===Pr()||"https:"===Pr()}function Pr(){return s.location&&s.location.protocol||null}function jr(e){return!hr(e=e||Cr())&&Or(e)!=Sr}function Rr(e){return"undefined"===typeof e?null:ir(e)}function Lr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Mr(e){if(null!==e)return JSON.parse(e)}function Fr(e){return e||Math.floor(1e9*Math.random()).toString()}function Ur(e){return"Safari"!=Or(e=e||Cr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Vr(){var e=s.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function qr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Cr(),t=Er(),this.b=hr(e)||"ReactNative"===t}function Br(){var e=s.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function zr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Kr(){return!(!Ar("fireauth.oauthhelper",s)&&!Ar("fireauth.iframe",s))}qr.prototype.get=function(){var e=s.navigator;return!e||"boolean"!==typeof e.onLine||!Dr()&&"chrome-extension:"!==Pr()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Hr,Gr={};function Wr(e){Gr[e]||(Gr[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}try{var Qr={};Object.defineProperty(Qr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Qr,"abcd",{configurable:!0,enumerable:!0,value:2}),Hr=2==Qr.abcd}catch(sa){Hr=!1}function $r(e,t,n){Hr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Xr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&$r(e,n,t[n])}function Yr(e){var t={};return Xr(t,e),t}function Jr(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)$r(t,n,Jr(e[n]));return t}function Zr(e){var t=e&&(e[ii]?"phone":null);if(!(t&&e&&e[ri]))throw new k("internal-error","Internal assert: invalid MultiFactorInfo object");$r(this,"uid",e[ri]),$r(this,"displayName",e[ti]||null);var n=null;e[ni]&&(n=new Date(e[ni]).toUTCString()),$r(this,"enrollmentTime",n),$r(this,"factorId",t)}function ei(e){try{var t=new oi(e)}catch(n){t=null}return t}Zr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ti="displayName",ni="enrolledAt",ri="mfaEnrollmentId",ii="phoneInfo";function oi(e){Zr.call(this,e),$r(this,"phoneNumber",e[ii])}function ai(e){var t={},n=e[li],r=e[hi],i=e[di];if(e=ei(e[fi]),!i||i!=si&&i!=ci&&!n||i==ci&&!r||i==ui&&!e)throw Error("Invalid checkActionCode response!");i==ci?(t[vi]=n||null,t[yi]=n||null,t[pi]=r):(t[vi]=r||null,t[yi]=r||null,t[pi]=n||null),t[gi]=e||null,$r(this,bi,i),$r(this,mi,Jr(t))}O(oi,Zr),oi.prototype.w=function(){var e=oi.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var ui="REVERT_SECOND_FACTOR_ADDITION",si="EMAIL_SIGNIN",ci="VERIFY_AND_CHANGE_EMAIL",li="email",fi="mfaInfo",hi="newEmail",di="requestType",pi="email",vi="fromEmail",gi="multiFactorInfo",yi="previousEmail",mi="data",bi="operation";function wi(e){var t=Un(e=Vn(e),Ei)||null,n=Un(e,Ti)||null,r=Un(e,Oi)||null;if(r=r&&ki[r]||null,!t||!n||!r)throw new k("argument-error",Ei+", "+Ti+"and "+Oi+" are required in a valid action code URL.");Xr(this,{apiKey:t,operation:r,code:n,continueUrl:Un(e,Si)||null,languageCode:Un(e,Ii)||null,tenantId:Un(e,_i)||null})}var Ei="apiKey",Ti="oobCode",Si="continueUrl",Ii="languageCode",Oi="mode",_i="tenantId",ki={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ui,signIn:si,verifyAndChangeEmail:ci,verifyEmail:"VERIFY_EMAIL"};function Ci(e){try{return new wi(e)}catch(t){return null}}function Ai(e){var t=e[ji];if("undefined"===typeof t)throw new k("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new k("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Ni];if(n&&"object"===typeof n){t=n[Mi];var r=n[Ri];if(n=n[Li],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new k("argument-error",Ri+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new k("argument-error",Li+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new k("argument-error",Mi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new k("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new k("argument-error",Ni+" property must be a non null object when specified.");if(this.f=null,(t=e[Pi])&&"object"===typeof t){if("string"===typeof(t=t[Fi])&&t.length)this.f=t;else if("undefined"!==typeof t)throw new k("argument-error",Fi+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new k("argument-error",Pi+" property must be a non null object when specified.");if("undefined"!==typeof(t=e[Di])&&"boolean"!==typeof t)throw new k("argument-error",Di+" property must be a boolean when specified.");if(this.c=!!t,"undefined"!==typeof(e=e[xi])&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new k("argument-error",xi+" property must be a non empty string when specified.");this.i=e||null}var Ni="android",xi="dynamicLinkDomain",Di="handleCodeInApp",Pi="iOS",ji="url",Ri="installApp",Li="minimumVersion",Mi="packageName",Fi="bundleId";function Ui(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Vi=null;function qi(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Vi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Vi){Vi={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Vi[o]&&(Vi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),u=n(64);if(64===u&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=u&&t(a<<6&192|u))}}(e,(function(e){t.push(e)})),t}function Bi(e){var t=Ki(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function zi(e){try{return new Bi(e)}catch(t){return null}}function Ki(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=qi(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],u=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(u>>10)),e[n++]=String.fromCharCode(56320+(1023&u))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(s){}return null}Bi.prototype.T=function(){return this.f},Bi.prototype.l=function(){return this.c},Bi.prototype.toString=function(){return this.h};var Hi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Gi=["client_id","response_type","scope","redirect_uri","state"],Wi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Gi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Gi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Gi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Hi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Qi(e){for(var t in Wi)if(Wi[t].fa==e)return Wi[t];return null}function $i(e){var t={};t["facebook.com"]=eo,t["google.com"]=no,t["github.com"]=to,t["twitter.com"]=ro;var n=e&&e[Yi];try{if(n)return t[n]?new t[n](e):new Zi(e);if("undefined"!==typeof e[Xi])return new Ji(e)}catch(r){}return null}var Xi="idToken",Yi="providerId";function Ji(e){var t=e[Yi];if(!t&&e[Xi]){var n=zi(e[Xi]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),$r(this,"providerId",t),$r(this,"isNewUser",n)}function Zi(e){Ji.call(this,e),$r(this,"profile",Jr((e=Mr(e.rawUserInfo||"{}"))||{}))}function eo(e){if(Zi.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(e){if(Zi.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");$r(this,"username",this.profile&&this.profile.login||null)}function no(e){if(Zi.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(e){if(Zi.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");$r(this,"username",e.screenName||null)}function io(e){var t=Vn(e),n=Un(t,"link"),r=Un(Vn(n),"link");return t=Un(t,"deep_link_id"),Un(Vn(t),"link")||t||r||n||e}function oo(e,t){if(!e&&!t)throw new k("internal-error","Internal assert: no raw session string available");if(e&&t)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?ao:uo}O(Zi,Ji),O(eo,Zi),O(to,Zi),O(no,Zi),O(ro,Zi);var ao="enroll",uo="signin";function so(){}function co(e,t){return e.then((function(e){if(e[Ja]){var n=zi(e[Ja]);if(!n||t!=n.i)throw new k("user-mismatch");return e}throw new k("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==N+"user-not-found"?new k("user-mismatch"):e}))}function lo(e,t){if(!t)throw new k("internal-error","failed to construct a credential");this.a=t,$r(this,"providerId",e),$r(this,"signInMethod",e)}function fo(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function ho(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new lo(e.providerId,e.pendingToken)}catch(t){}return null}function po(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&$r(this,"idToken",t.idToken),t.accessToken&&$r(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&$r(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new k("internal-error","failed to construct a credential");$r(this,"accessToken",t.oauthToken),$r(this,"secret",t.oauthTokenSecret)}$r(this,"providerId",e),$r(this,"signInMethod",n)}function vo(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Jn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function go(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new po(e.providerId,t,e.signInMethod)}catch(n){}}return null}function yo(e,t){this.Qc=t||[],Xr(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(Qi(e)||{}).Ja||null,this.pb=null}function mo(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');yo.call(this,e,[])}function bo(e){yo.call(this,e,Gi),this.a=[]}function wo(){bo.call(this,"facebook.com")}function Eo(e){if(!e)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return g(e)&&(t=e.accessToken),(new wo).credential({accessToken:t})}function To(){bo.call(this,"github.com")}function So(e){if(!e)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return g(e)&&(t=e.accessToken),(new To).credential({accessToken:t})}function Io(){bo.call(this,"google.com"),this.Ca("profile")}function Oo(e,t){var n=e;return g(e)&&(n=e.idToken,t=e.accessToken),(new Io).credential({idToken:n,accessToken:t})}function _o(){yo.call(this,"twitter.com",Hi)}function ko(e,t){var n=e;if(g(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new po("twitter.com",n,"twitter.com")}function Co(e,t,n){this.a=e,this.f=t,$r(this,"providerId","password"),$r(this,"signInMethod",n===No.EMAIL_LINK_SIGN_IN_METHOD?No.EMAIL_LINK_SIGN_IN_METHOD:No.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ao(e){return e&&e.email&&e.password?new Co(e.email,e.password,e.signInMethod):null}function No(){Xr(this,{providerId:"password",isOAuthProvider:!1})}function xo(e,t){if(!(t=Do(t)))throw new k("argument-error","Invalid email link!");return new Co(e,t.code,No.EMAIL_LINK_SIGN_IN_METHOD)}function Do(e){return(e=Ci(e=io(e)))&&e.operation===si?e:null}function Po(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new k("internal-error");this.a=e,$r(this,"providerId","phone"),this.fa="phone",$r(this,"signInMethod","phone")}function jo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Po(t)}return null}function Ro(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function Lo(e){try{this.a=e||t.a.auth()}catch(n){throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Xr(this,{providerId:"phone",isOAuthProvider:!1})}function Mo(e,t){if(!e)throw new k("missing-verification-id");if(!t)throw new k("missing-verification-code");return new Po({fb:e,eb:t})}function Fo(e){if(e.temporaryProof&&e.phoneNumber)return new Po({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return Oo(o,n);case"facebook.com":return Eo(n);case"github.com":return So(n);case"twitter.com":return ko(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new lo(t,a):new po(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new bo(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(u){return null}}function Uo(e){if(!e.isOAuthProvider)throw new k("invalid-oauth-provider")}function Vo(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new k("invalid-auth-event");if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}function qo(e){return(e=e||{}).type?new Vo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&C(e.error),e.postBody,e.tenantId):null}function Bo(){this.b=null,this.a=[]}oo.prototype.Ha=function(){return this.a?At(this.a):At(this.b)},oo.prototype.w=function(){return this.type==ao?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},so.prototype.ka=function(){},so.prototype.b=function(){},so.prototype.c=function(){},so.prototype.w=function(){},lo.prototype.ka=function(e){return wu(e,fo(this))},lo.prototype.b=function(e,t){var n=fo(this);return n.idToken=t,Eu(e,n)},lo.prototype.c=function(e,t){return co(Tu(e,fo(this)),t)},lo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},po.prototype.ka=function(e){return wu(e,vo(this))},po.prototype.b=function(e,t){var n=vo(this);return n.idToken=t,Eu(e,n)},po.prototype.c=function(e,t){return co(Tu(e,vo(this)),t)},po.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},yo.prototype.Ka=function(e){return this.Jb=ge(e),this},O(mo,yo),O(bo,yo),bo.prototype.Ca=function(e){return $(this.a,e)||this.a.push(e),this},bo.prototype.Rb=function(){return Z(this.a)},bo.prototype.credential=function(e,t){var n;if(!(n=g(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new po(this.providerId,n,this.providerId)},O(wo,bo),$r(wo,"PROVIDER_ID","facebook.com"),$r(wo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),O(To,bo),$r(To,"PROVIDER_ID","github.com"),$r(To,"GITHUB_SIGN_IN_METHOD","github.com"),O(Io,bo),$r(Io,"PROVIDER_ID","google.com"),$r(Io,"GOOGLE_SIGN_IN_METHOD","google.com"),O(_o,yo),$r(_o,"PROVIDER_ID","twitter.com"),$r(_o,"TWITTER_SIGN_IN_METHOD","twitter.com"),Co.prototype.ka=function(e){return this.signInMethod==No.EMAIL_LINK_SIGN_IN_METHOD?rs(e,Nu,{email:this.a,oobCode:this.f}):rs(e,Ju,{email:this.a,password:this.f})},Co.prototype.b=function(e,t){return this.signInMethod==No.EMAIL_LINK_SIGN_IN_METHOD?rs(e,xu,{idToken:t,email:this.a,oobCode:this.f}):rs(e,Ku,{idToken:t,email:this.a,password:this.f})},Co.prototype.c=function(e,t){return co(this.ka(e),t)},Co.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Xr(No,{PROVIDER_ID:"password"}),Xr(No,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Xr(No,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Po.prototype.ka=function(e){return e.gb(Ro(this))},Po.prototype.b=function(e,t){var n=Ro(this);return n.idToken=t,rs(e,es,n)},Po.prototype.c=function(e,t){var n=Ro(this);return n.operation="REAUTH",co(e=rs(e,ts,n),t)},Po.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Lo.prototype.gb=function(e,t){var n=this.a.a;return At(t.verify()).then((function(r){if("string"!==typeof r)throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":var i=g(e)?e.session:null,o=g(e)?e.phoneNumber:e;return(i&&i.type==ao?i.Ha().then((function(e){return function(e,t){return rs(e,Gu,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==uo?i.Ha().then((function(t){return function(e,t){return rs(e,Wu,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return rs(e,Bu,t)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(e){return"function"===typeof t.reset&&t.reset(),e}),(function(e){throw"function"===typeof t.reset&&t.reset(),e}));default:throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Xr(Lo,{PROVIDER_ID:"phone"}),Xr(Lo,{PHONE_SIGN_IN_METHOD:"phone"}),Vo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Vo.prototype.T=function(){return this.h},Vo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var zo,Ko=null;function Ho(e){var t="unauthorized-domain",n=void 0,r=Vn(e);e=r.a,"chrome-extension"==(r=r.c)?n=Ke("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=Ke("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",k.call(this,t,n)}function Go(e,t,n){k.call(this,e,n),(e=t||{}).Kb&&$r(this,"email",e.Kb),e.ea&&$r(this,"phoneNumber",e.ea),e.credential&&$r(this,"credential",e.credential),e.$b&&$r(this,"tenantId",e.$b)}function Wo(e){if(e.code){var t=e.code||"";0==t.indexOf(N)&&(t=t.substring(N.length));var n={credential:Fo(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new k(t,e.message||void 0);return new Go(t,n,e.message)}return null}function Qo(){}function $o(e){return e.c||(e.c=e.b())}function Xo(){}function Yo(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Jo(){}function Zo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=T(this.qc,this),this.a.onerror=T(this.Tb,this),this.a.onprogress=T(this.rc,this),this.a.ontimeout=T(this.vc,this)}function ea(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function ta(e,t,n){this.reset(e,t,n,void 0,void 0)}O(Ho,k),O(Go,k),Go.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&me(e,t),e},Go.prototype.toJSON=function(){return this.w()},Qo.prototype.c=null,O(Xo,Qo),Xo.prototype.a=function(){var e=Yo(this);return e?new ActiveXObject(e):new XMLHttpRequest},Xo.prototype.b=function(){var e={};return Yo(this)&&(e[0]=!0,e[1]=!0),e},zo=new Xo,O(Jo,Qo),Jo.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Zo;throw Error("Unsupported browser")},Jo.prototype.b=function(){return{}},(n=Zo.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},n.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},n.abort=function(){this.a.abort()},n.setRequestHeader=function(){},n.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},n.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ea(this,4)},n.Tb=function(){this.status=500,this.response=this.responseText="",ea(this,4)},n.vc=function(){this.Tb()},n.rc=function(){this.status=200,ea(this,1)},n.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ta.prototype.a=null;function na(e){this.f=e,this.b=this.c=this.a=null}function ra(e,t){this.name=e,this.value=t}ta.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||I(),delete this.a},ra.prototype.toString=function(){return this.name};var ia=new ra("SEVERE",1e3),oa=new ra("WARNING",900),aa=new ra("CONFIG",700),ua=new ra("FINE",500);na.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.c?t.c:t.a?e(t.a):(M("Root logger has no level set."),null)}(this).value)for(v(t)&&(t=t()),e=new ta(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var sa,ca={},la=null;function fa(e){var t;if(la||(la=new na(""),ca[""]=la,la.c=aa),!(t=ca[e])){t=new na(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=fa(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,ca[e]=t}return t}function ha(e,t){e&&e.log(ua,t,void 0)}function da(e){this.f=e}function pa(e){Tn.call(this),this.u=e,this.h=void 0,this.readyState=va,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=fa("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}O(da,Qo),da.prototype.a=function(){return new pa(this.f)},da.prototype.b=(sa={},function(){return sa}),O(pa,Tn);var va=0;function ga(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function ya(e){e.readyState=4,e.g=null,e.c=null,e.m=null,ma(e)}function ma(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function ba(e){Tn.call(this),this.headers=new Nn,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=wa,this.u=this.S=!1}(n=pa.prototype).open=function(e,t){if(this.readyState!=va)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,ma(this)},n.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},n.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ya(this)),this.readyState=va},n.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,ma(this)),this.a&&(this.readyState=3,ma(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):"undefined"!==typeof s.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,ga(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},n.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?ya(this):ma(this),3==this.readyState&&ga(this)}},n.tc=function(e){this.a&&(this.response=this.responseText=e,ya(this))},n.sc=function(e){this.a&&(this.response=e,ya(this))},n.Va=function(e){var t=this.i;t&&t.log(oa,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&ya(this)},n.setRequestHeader=function(e,t){this.l.append(e,t)},n.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(oa,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},n.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(oa,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(pa.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),O(ba,Tn);var wa="";ba.prototype.b=fa("goog.net.XhrIo");var Ea=/^https?$/i,Ta=["POST","PUT"];function Sa(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():zo.a(),e.C=e.D?$o(e.D):$o(zo),e.a.onreadystatechange=T(e.Wb,e);try{ha(e.b,Da(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(a){return ha(e.b,Da(e,"Error opening Xhr: "+a.message)),void Oa(e,a)}t=r||"";var o=new Nn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(p(e)||"string"===typeof e)H(e,t,void 0);else for(var n=An(e),r=Cn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=Ia,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(o.Y()),r=s.FormData&&t instanceof s.FormData,!$(Ta,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{Aa(e),0<e.g&&(e.u=function(e){return $e&&at(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(e.a),ha(e.b,Da(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=T(e.Ma,e)):e.s=_n(e.Ma,e.g,e)),ha(e.b,Da(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(a){ha(e.b,Da(e,"Send error: "+a.message)),Oa(e,a)}}function Ia(e){return"content-type"==e.toLowerCase()}function Oa(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,_a(e),Ca(e)}function _a(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function ka(e){if(e.c&&"undefined"!=typeof u)if(e.C[1]&&4==Na(e)&&2==xa(e))ha(e.b,Da(e,"Local request error detected and ignored"));else if(e.i&&4==Na(e))_n(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==Na(e)){ha(e.b,Da(e,"Request complete")),e.c=!1;try{var t,n=xa(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(Pn)[1]||null;if(!o&&s.self&&s.self.location){var a=s.self.location.protocol;o=a.substr(0,a.length-1)}i=!Ea.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Na(e)?e.a.statusText:""}catch(l){ha(e.b,"Can not get status: "+l.message),c=""}e.h=c+" ["+xa(e)+"]",_a(e)}}finally{Ca(e)}}}function Ca(e,t){if(e.a){Aa(e);var n=e.a,r=e.C[0]?h:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(e=e.b)&&e.log(ia,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Aa(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(s.clearTimeout(e.s),e.s=null)}function Na(e){return e.a?e.a.readyState:0}function xa(e){try{return 2<Na(e)?e.a.status:-1}catch(t){return-1}}function Da(e,t){return t+" ["+e.P+" "+e.l+" "+xa(e)+"]"}function Pa(e){var t=Ka;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function ja(e,t,n){e.a=!0,e.c=n,e.f=!t,Fa(e)}function Ra(e){if(e.a){if(!e.v)throw new Ua(e);e.v=!1}}function La(e,t,n,r){e.g.push([t,n,r]),e.a&&Fa(e)}function Ma(e){return Q(e.g,(function(e){return v(e[1])}))}function Fa(e){if(e.h&&e.a&&Ma(e)){var t=e.h,n=Ba[t];n&&(s.clearTimeout(n.a),delete Ba[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var u=o.call(i||e.s,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(j(t)||"function"===typeof s.Promise&&t instanceof s.Promise)&&(r=!0,e.i=!0)}catch(c){t=c,e.f=!0,Ma(e)||(n=!0)}}e.c=t,r&&(u=T(e.m,e,!0),r=T(e.m,e,!1),t instanceof Pa?(La(t,u,r),t.C=!0):t.then(u,r)),n&&(t=new qa(t),Ba[t.a]=t,e.h=t.a)}function Ua(){R.call(this)}function Va(){R.call(this)}function qa(e){this.a=s.setTimeout(T(this.c,this),0),this.b=e}(n=ba.prototype).Ma=function(){"undefined"!=typeof u&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ha(this.b,Da(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},n.abort=function(){this.a&&this.c&&(ha(this.b,Da(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ca(this))},n.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ca(this,!0)),ba.bb.Da.call(this)},n.Wb=function(){this.ya||(this.N||this.i||this.f?ka(this):this.Jc())},n.Jc=function(){ka(this)},n.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case wa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(ia,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return ha(this.b,"Can not get response: "+t.message),null}},Pa.prototype.cancel=function(e){if(this.a)this.c instanceof Pa&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Va(this),Ra(this),ja(this,!1,e))}},Pa.prototype.m=function(e,t){this.i=!1,ja(this,e,t)},Pa.prototype.then=function(e,t,n){var r,i,o=new Tt((function(e,t){r=e,i=t}));return La(this,r,(function(e){e instanceof Va?o.cancel():i(e)})),o.then(e,t,n)},Pa.prototype.$goog_Thenable=!0,O(Ua,R),Ua.prototype.message="Deferred has already fired",Ua.prototype.name="AlreadyCalledError",O(Va,R),Va.prototype.message="Deferred was canceled",Va.prototype.name="CanceledError",qa.prototype.c=function(){throw delete Ba[this.a],this.b};var Ba={};function za(e){var t={},n=t.document||document,r=ke(e).toString(),i=gt(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new Pa(o),u=null,c=null!=t.timeout?t.timeout:5e3;return 0<c&&(u=window.setTimeout((function(){Ha(i,!0);var e=new Qa(Wa,"Timeout reached for loading script "+r);Ra(a),ja(a,!1,e)}),c),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ha(i,t.xd||!1,u),Ra(a),ja(a,!0,null))},i.onerror=function(){Ha(i,!0,u);var e=new Qa(Ga,"Error while loading script "+r);Ra(a),ja(a,!1,e)},me(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ft(i,o),function(e,t){be(e,"HTMLScriptElement"),e.src=ke(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=s?t=f(t.document):(null===l&&(l=f(s.document)),t=l),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function Ka(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&Ha(e,!0,this.Ma)}}function Ha(e,t,n){null!=n&&s.clearTimeout(n),e.onload=h,e.onerror=h,e.onreadystatechange=h,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Ga=0,Wa=1;function Qa(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),R.call(this,n),this.code=e}function $a(e){this.f=e}function Xa(e,n,r){if(this.c=e,e=n||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||Za,this.g=ge(e.secureTokenHeaders||eu),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||tu,this.a=ge(e.firebaseHeaders||nu),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==Er(),!(r=s.XMLHttpRequest||r&&t.a.INTERNAL.node&&t.a.INTERNAL.node.XMLHttpRequest)&&!wr())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,wr()?this.f=new da(self):Tr()?this.f=new $a(r):this.f=new Jo,this.b=null}O(Qa,R),O($a,Qo),$a.prototype.a=function(){return new this.f},$a.prototype.b=function(){return{}};var Ya,Ja="idToken",Za=new qr(3e4,6e4),eu={"Content-Type":"application/x-www-form-urlencoded"},tu=new qr(3e4,6e4),nu={"Content-Type":"application/json"};function ru(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function iu(e,t){t&&(e.l=ou("https://securetoken.googleapis.com/v1/token",t),e.h=ou("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=ou("https://identitytoolkit.googleapis.com/v2/",t))}function ou(e,t){return e=Vn(e),t=Vn(t.url),e.f=e.a+e.f,Rn(e,t.c),e.a=t.a,Ln(e,t.g),e.toString()}function au(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function uu(e,t,n,r,i,o,a){(function(){var e=Cr();return!((e=Or(e)!=Ir?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!$e||!st||9<st)})()||wr()?e=T(e.u,e):(Ya||(Ya=new Tt((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{s[cu]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){La(e,null,t,void 0)}(za(Ce(su,{onload:cu})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=T(e.s,e)),e(t,n,r,i,o,a)}Xa.prototype.T=function(){return this.b},Xa.prototype.u=function(e,t,n,r,i,o){if(wr()&&("undefined"===typeof s.fetch||"undefined"===typeof s.Headers||"undefined"===typeof s.Request))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new ba(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}Sn(a,"complete",(function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return ha(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(n){e=null}t&&t(e)})),In(a,"ready",(function(){u&&clearTimeout(u),Gt(this)})),In(a,"timeout",(function(){u&&clearTimeout(u),Gt(this),t&&t(null)})),Sa(a,e,n,r,i)};var su=new we(Ie,"https://apis.google.com/js/client.js?onload=%{onload}"),cu="__fcb"+Math.floor(1e6*Math.random()).toString();function lu(e,t,n,r,i,o,a){var u=Vn(t+n);Fn(u,"key",e.c),a&&Fn(u,"cb",Date.now().toString());var s="GET"==r;if(s)for(var c in i)i.hasOwnProperty(c)&&Fn(u,c,i[c]);return new Tt((function(t,n){uu(e,u.toString(),(function(e){e?e.error?n(os(e,o||{})):t(e):n(new k("network-request-failed"))}),r,s?void 0:ir(Lr(i)),e.a,e.v.get())}))}function fu(e){if("string"!==typeof(e=e.email)||!gr.test(e))throw new k("invalid-email")}function hu(e){"email"in e&&fu(e)}function du(e){if(!e[Ja]){if(e.mfaPendingCredential)throw new k("multi-factor-auth-required",null,ge(e));throw new k("internal-error")}}function pu(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new k("internal-error")}else{if(!e.sessionInfo)throw new k("missing-verification-id");if(!e.code)throw new k("missing-verification-code")}}Xa.prototype.s=function(e,t,n,r,i){var o=this;Ya.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},Xa.prototype.Ab=function(){return rs(this,Hu,{})},Xa.prototype.Cb=function(e,t){return rs(this,zu,{idToken:e,email:t})},Xa.prototype.Db=function(e,t){return rs(this,Ku,{idToken:e,password:t})};var vu={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function gu(e){if(!e.phoneVerificationInfo)throw new k("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new k("missing-verification-code")}function yu(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new k("internal-error")}function mu(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(er(e=new Xn(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function bu(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Wo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Wo(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Wo(e)):e.errorMessage&&(t=is(e.errorMessage)),t)throw t;du(e)}function wu(e,t){return t.returnIdpCredential=!0,rs(e,Qu,t)}function Eu(e,t){return t.returnIdpCredential=!0,rs(e,Xu,t)}function Tu(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,rs(e,$u,t)}function Su(e){if(!e.oobCode)throw new k("invalid-action-code")}(n=Xa.prototype).Eb=function(e,t){var n={idToken:e},r=[];return pe(vu,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),rs(this,zu,n)},n.wb=function(e,t){return me(e={requestType:"PASSWORD_RESET",email:e},t),rs(this,Fu,e)},n.xb=function(e,t){return me(e={requestType:"EMAIL_SIGNIN",email:e},t),rs(this,Ru,e)},n.vb=function(e,t){return me(e={requestType:"VERIFY_EMAIL",idToken:e},t),rs(this,Lu,e)},n.Fb=function(e,t,n){return me(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),rs(this,Mu,e)},n.gb=function(e){return rs(this,Zu,e)},n.ob=function(e,t){return rs(this,qu,{oobCode:e,newPassword:t})},n.Sa=function(e){return rs(this,Ou,{oobCode:e})},n.kb=function(e){return rs(this,Iu,{oobCode:e})};var Iu={endpoint:"setAccountInfo",A:Su,Z:"email",B:!0},Ou={endpoint:"resetPassword",A:Su,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new k("internal-error")},B:!0},_u={endpoint:"signupNewUser",A:function(e){if(fu(e),!e.password)throw new k("weak-password")},G:du,V:!0,B:!0},ku={endpoint:"createAuthUri",B:!0},Cu={endpoint:"deleteAccount",O:["idToken"]},Au={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new k("internal-error")}},Nu={endpoint:"emailLinkSignin",O:["email","oobCode"],A:fu,G:du,V:!0,B:!0},xu={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:fu,G:du,V:!0},Du={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:gu,G:du,B:!0,Na:!0},Pu={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:gu,G:du,B:!0,Na:!0},ju={endpoint:"getAccountInfo"},Ru={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new k("internal-error");fu(e)},Z:"email",B:!0},Lu={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new k("internal-error")},Z:"email",B:!0},Mu={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new k("internal-error")},Z:"email",B:!0},Fu={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new k("internal-error");fu(e)},Z:"email",B:!0},Uu={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Vu={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new k("internal-error")}},qu={endpoint:"resetPassword",A:Su,Z:"email",B:!0},Bu={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},zu={endpoint:"setAccountInfo",O:["idToken"],A:hu,V:!0},Ku={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(hu(e),!e.password)throw new k("weak-password")},G:du,V:!0},Hu={endpoint:"signupNewUser",G:du,V:!0,B:!0},Gu={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new k("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},Wu={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},Qu={endpoint:"verifyAssertion",A:yu,Za:mu,G:bu,V:!0,B:!0},$u={endpoint:"verifyAssertion",A:yu,Za:mu,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new k("user-not-found");if(e.errorMessage)throw is(e.errorMessage);du(e)},V:!0,B:!0},Xu={endpoint:"verifyAssertion",A:function(e){if(yu(e),!e.idToken)throw new k("internal-error")},Za:mu,G:bu,V:!0},Yu={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new k("invalid-custom-token")},G:du,V:!0,B:!0},Ju={endpoint:"verifyPassword",A:function(e){if(fu(e),!e.password)throw new k("wrong-password")},G:du,V:!0,B:!0},Zu={endpoint:"verifyPhoneNumber",A:pu,G:du,B:!0},es={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new k("internal-error");pu(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Wo(e);du(e)}},ts={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:pu,G:du,B:!0},ns={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[Ja]^!!e.refreshToken)throw new k("internal-error")},B:!0,Na:!0};function rs(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,t.O))return Nt(new k("internal-error"));var r,i=!!t.Na,o=t.Vb||"POST";return At(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&"undefined"===typeof n.tenantId&&(n.tenantId=e.b),lu(e,i?e.i:e.h,t.endpoint,o,n,t.Ib,t.mb||!1)})).then((function(e){return r=e,t.Za?t.Za(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new k("internal-error");return r[t.Z]}))}function is(e){return os({error:{errors:[{message:e}],code:400,message:e}})}function os(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new k(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",me(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new k(r[i],t);return!t&&e&&(t=Rr(e)),new k("internal-error",t)}function as(e){this.b=e,this.a=null,this.sb=function(e){return(ls||(ls=new Tt((function(e,t){function n(){Vr(),Ar("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Vr(),t(Error("Network Error"))},timeout:ss.get()})}if(Ar("gapi.iframes.Iframe"))e();else if(Ar("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Ar("gapi.load")?n():t(Error("Network Error"))},At(za(r=Ce(us,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw ls=null,e})))).then((function(){return new Tt((function(t,n){Ar("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),cs.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var us=new we(Ie,"https://apis.google.com/js/api.js?onload=%{onload}"),ss=new qr(3e4,6e4),cs=new qr(5e3,15e3),ls=null;function fs(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,this.g?e=qn((e=Vn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):e=qn("https",this.l,null,"/__/auth/iframe"),this.a=e,Fn(this.a,"apiKey",this.h),Fn(this.a,"appName",this.i),this.b=null,this.c=[]}function hs(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function ds(e){try{return t.a.app(e).auth().Ga()}catch(n){return[]}}function ps(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function vs(e){var t=lr();return function(e){return rs(e,Uu,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=Vn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,u=r;if(0==o.indexOf("chrome-extension://")?a=Vn(o).a==a&&"chrome-extension"==u:"http"!=u&&"https"!=u?a=!1:vr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Ho(lr())}))}function gs(e){return e.m||(e.m=yr().then((function(){if(!e.u){var t=e.c,n=e.i,r=ds(e.b),i=new fs(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=Z(r||[]),e.u=i.toString()}e.v=new as(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then((function(){e.a.register("authEvent",t,Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=qo(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",At(n)}return n.status="ERROR",At(n)}))}(e)}))),e.m}function ys(e){return e.l||(e.C=e.c?kr(e.c,ds(e.b)):null,e.l=new Xa(e.g,P(e.i),e.C),e.f&&iu(e.l,e.f)),e.l}function ms(e,t,n,r,i,o,a,u,s,c,l,f){return(e=new hs(e,t,n,r,i,f)).l=o,e.g=a,e.i=u,e.b=ge(s||null),e.f=c,e.zb(l).toString()}function bs(e){if(this.a=e||t.a.INTERNAL.reactNative&&t.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function ws(e){this.b=e,this.a={},this.f=T(this.c,this)}fs.prototype.toString=function(){return this.f?Fn(this.a,"v",this.f):Zn(this.a.b,"v"),this.b?Fn(this.a,"eid",this.b):Zn(this.a.b,"eid"),this.c.length?Fn(this.a,"fw",this.c.join(",")):Zn(this.a.b,"fw"),this.a.toString()},hs.prototype.zb=function(e){return this.h=e,this},hs.prototype.toString=function(){if(this.v){var e=Vn(this.v.url);e=qn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=qn("https",this.u,null,"/__/auth/handler");if(Fn(e,"apiKey",this.s),Fn(e,"appName",this.c),Fn(e,"authType",this.m),this.a.isOAuthProvider){var n=this.a;try{var r=t.a.app(this.c).auth().la()}catch(s){r=null}for(var i in n.pb=r,Fn(e,"providerId",this.a.providerId),n=Lr((r=this.a).Jb))n[i]=n[i].toString();i=r.Qc,n=ge(n);for(var o=0;o<i.length;o++){var a=i[o];a in n&&delete n[a]}r.qb&&r.pb&&!n[r.qb]&&(n[r.qb]=r.pb),ve(n)||Fn(e,"customParameters",Rr(n))}if("function"===typeof this.a.Rb&&((r=this.a.Rb()).length&&Fn(e,"scopes",r.join(","))),this.l?Fn(e,"redirectUrl",this.l):Zn(e.b,"redirectUrl"),this.g?Fn(e,"eventId",this.g):Zn(e.b,"eventId"),this.i?Fn(e,"v",this.i):Zn(e.b,"v"),this.b)for(var u in this.b)this.b.hasOwnProperty(u)&&!Un(e,u)&&Fn(e,u,this.b[u]);return this.h?Fn(e,"tid",this.h):Zn(e.b,"tid"),this.f?Fn(e,"eid",this.f):Zn(e.b,"eid"),(u=ds(this.c)).length&&Fn(e,"fw",u.join(",")),e.toString()},(n=ps.prototype).Pb=function(e,t,n){var r=new k("popup-closed-by-user"),i=new k("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return gs(e).then((function(){return function(e,t){return e.sb.then((function(){return new Tt((function(n){e.a.send(t.type,t,n,Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&dr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new Tt((function(t){return function n(){kn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return kn(n).then((function(){t(r)}))}))},n.Yb=function(){var e=Cr();return!jr(e)&&!Ur(e)},n.Ub=function(){return!1},n.Nb=function(e,t,n,r,i,o,a,u){if(!e)return Nt(new k("popup-blocked"));if(a&&!jr())return this.ma().o((function(t){dr(e),i(t)})),r(),At();this.a||(this.a=vs(ys(this)));var s=this;return this.a.then((function(){var t=s.ma().o((function(t){throw dr(e),i(t),t}));return r(),t})).then((function(){(Uo(n),a)||fr(ms(s.s,s.g,s.b,t,n,null,o,s.c,void 0,s.i,u,s.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(s.a=null),e}))},n.Ob=function(e,t,n,r){this.a||(this.a=vs(ys(this)));var i=this;return this.a.then((function(){Uo(t),fr(ms(i.s,i.g,i.b,e,t,lr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},n.ma=function(){var e=this;return gs(this).then((function(){return e.v.sb})).o((function(){throw e.a=null,new k("network-request-failed")}))},n.ac=function(){return!0},n.Ea=function(e){this.h.push(e)},n.Ta=function(e){Y(this.h,(function(t){return t==e}))},(n=bs.prototype).get=function(e){return At(this.a.getItem(e)).then((function(e){return e&&Mr(e)}))},n.set=function(e,t){return At(this.a.setItem(e,Rr(t)))},n.U=function(e){return At(this.a.removeItem(e))},n.ca=function(){},n.ia=function(){};var Es,Ts=[];function Ss(e,t,n){ve(e.a)&&e.b.addEventListener("message",e.f),"undefined"===typeof e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Is(e){this.a=e}function Os(e){this.c=e,this.b=!1,this.a=[]}function _s(e,t,n,r){var i,o,a,u,s=n||{},c=null;if(e.b)return Nt(Error("connection_unavailable"));var l=r?800:50,f="undefined"!==typeof MessageChannel?new MessageChannel:null;return new Tt((function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:f,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),u=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(u),"undefined"!==typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(u),r(Error("invalid_response"))))}},e.a.push(c),f.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:s},[f.port2])):r(Error("connection_unavailable"))})).then((function(t){return ks(e,c),t})).o((function(t){throw ks(e,c),t}))}function ks(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),Y(e.a,(function(e){return e==t}))}}function Cs(){if(!Ds())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;wr()&&self?(this.v=function(){var e=wr()?self:null;if(H(Ts,(function(n){n.b==e&&(t=n)})),!t){var t=new ws(e);Ts.push(t)}return t}(),Ss(this.v,"keyChanged",(function(t,n){return Ms(e).then((function(t){return 0<t.length&&H(e.a,(function(e){e(t)})),{keyProcessed:$(t,n.key)}}))})),Ss(this.v,"ping",(function(){return At(["keyChanged"])}))):function(){var e=s.navigator;return e&&e.serviceWorker?At().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):At(null)}().then((function(t){(e.h=t)&&(e.g=new Os(new Is(t)),_s(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&$(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function As(e){return new Tt((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new Tt((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return As(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function Ns(e){return e.i||(e.i=As(e)),e.i}function xs(e,t){var n=0;return new Tt((function r(i,o){Ns(e).then(t).then(i).o((function(t){if(!(3<++n))return Ns(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function Ds(){try{return!!s.indexedDB}catch(sa){return!1}}function Ps(e){return e.objectStore("firebaseLocalStorage")}function js(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Rs(e){return new Tt((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Ls(e,t){return e.g&&e.h&&function(){var e=s.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?_s(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):At()}function Ms(e){return Ns(e).then((function(e){var t=Ps(js(e,!1));return t.getAll?Rs(t.getAll()):new Tt((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=function e(t,n){var r,i=[];for(r in t)r in n?typeof t[r]!=typeof n[r]?i.push(r):"object"==typeof t[r]&&null!=t[r]&&null!=n[r]?0<e(t[r],n[r]).length&&i.push(r):t[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in t||i.push(r);return i}(e.c,n),e.c=n}return r}))}function Fs(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Us(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=At().then((function(){if(Ds()){var e=Fr(),r="__sak"+e;return Es||(Es=new Cs),(n=Es).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){H(t.a,(function(t){t(e)}))})),e}))}function Vs(){this.a={},this.type="inMemory"}function qs(){if(!function(){var e="Node"==Er();if(!(e=Bs()||e&&t.a.INTERNAL.node&&t.a.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==Er())throw new k("internal-error","The LocalStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=Bs()||t.a.INTERNAL.node.localStorage,this.type="localStorage"}function Bs(){try{var e=s.localStorage,t=Fr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function zs(){this.type="nullStorage"}function Ks(){if(!function(){var e="Node"==Er();if(!(e=Hs()||e&&t.a.INTERNAL.node&&t.a.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==Er())throw new k("internal-error","The SessionStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=Hs()||t.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Hs(){try{var e=s.sessionStorage,t=Fr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Gs(){var e={};e.Browser=$s,e.Node=Xs,e.ReactNative=Ys,e.Worker=Js,this.a=e[Er()]}ws.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];H(r,(function(t){i.push(At().then((function(){return t(e.origin,e.data.data)})))})),Dt(i).then((function(r){var i=[];H(r,(function(e){i.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})})),H(i,(function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Is.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Os.prototype.close=function(){for(;0<this.a.length;)ks(this,this.a[0]);this.b=!0},(n=Cs.prototype).set=function(e,t){var n=this,r=!1;return xs(this,(function(t){return Rs((t=Ps(js(t,!0))).get(e))})).then((function(i){return xs(n,(function(o){if(o=Ps(js(o,!0)),i)return i.value=t,Rs(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Rs(o.add(a))}))})).then((function(){return n.c[e]=t,Ls(n,e)})).oa((function(){r&&n.b--}))},n.get=function(e){return xs(this,(function(t){return Rs(Ps(js(t,!1)).get(e))})).then((function(e){return e&&e.value}))},n.U=function(e){var t=this,n=!1;return xs(this,(function(r){return n=!0,t.b++,Rs(Ps(js(r,!0)).delete(e))})).then((function(){return delete t.c[e],Ls(t,e)})).oa((function(){n&&t.b--}))},n.ca=function(e){0==this.a.length&&function(e){Fs(e),function t(){e.f=setTimeout((function(){e.l=Ms(e).then((function(t){0<t.length&&H(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}()}(this),this.a.push(e)},n.ia=function(e){Y(this.a,(function(t){return t==e})),0==this.a.length&&Fs(this)},(n=Us.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},n.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},n.U=function(e){return this.b.then((function(t){return t.U(e)}))},n.ca=function(e){this.a.push(e)},n.ia=function(e){Y(this.a,(function(t){return t==e}))},(n=Vs.prototype).get=function(e){return At(this.a[e])},n.set=function(e,t){return this.a[e]=t,At()},n.U=function(e){return delete this.a[e],At()},n.ca=function(){},n.ia=function(){},(n=qs.prototype).get=function(e){var t=this;return At().then((function(){return Mr(t.a.getItem(e))}))},n.set=function(e,t){var n=this;return At().then((function(){var r=Rr(t);null===r?n.U(e):n.a.setItem(e,r)}))},n.U=function(e){var t=this;return At().then((function(){t.a.removeItem(e)}))},n.ca=function(e){s.window&&ln(s.window,"storage",e)},n.ia=function(e){s.window&&dn(s.window,"storage",e)},(n=zs.prototype).get=function(){return At(null)},n.set=function(){return At()},n.U=function(){return At()},n.ca=function(){},n.ia=function(){},(n=Ks.prototype).get=function(e){var t=this;return At().then((function(){return Mr(t.a.getItem(e))}))},n.set=function(e,t){var n=this;return At().then((function(){var r=Rr(t);null===r?n.U(e):n.a.setItem(e,r)}))},n.U=function(e){var t=this;return At().then((function(){t.a.removeItem(e)}))},n.ca=function(){},n.ia=function(){};var Ws,Qs,$s={F:qs,cb:Ks},Xs={F:qs,cb:Ks},Ys={F:bs,cb:zs},Js={F:qs,cb:zs},Zs={rd:"local",NONE:"none",td:"session"};function ec(){var e=!(Ur(Cr())||!br()),t=jr(),n=Nr();this.m=e,this.h=t,this.l=n,this.a={},Ws||(Ws=new Gs),e=Ws;try{this.g=!cr()&&Kr()||!s.indexedDB?new e.a.F:new Us(wr()?new Vs:new e.a.F)}catch(r){this.g=new Vs,this.h=!0}try{this.i=new e.a.cb}catch(r){this.i=new Vs}this.v=new Vs,this.f=T(this.Zb,this),this.b={}}function tc(){return Qs||(Qs=new ec),Qs}function nc(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function rc(e,t){return"firebase:"+e.name+(t?":"+t:"")}function ic(e,t,n){return n=rc(t,n),"local"==t.F&&(e.b[n]=null),nc(e,t.F).U(n)}function oc(e){e.c&&(clearInterval(e.c),e.c=null)}function ac(e){this.a=e,this.b=tc()}(n=ec.prototype).get=function(e,t){return nc(this,e.F).get(rc(e,t))},n.set=function(e,t,n){var r=rc(e,n),i=this,o=nc(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},n.addListener=function(e,t,n){e=rc(e,t),this.l&&(this.b[e]=s.localStorage.getItem(e)),ve(this.a)&&(nc(this,"local").ca(this.f),this.h||(cr()||!Kr())&&s.indexedDB||!this.l||function(e){oc(e),e.c=setInterval((function(){for(var t in e.a){var n=s.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Jt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Zb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},n.removeListener=function(e,t,n){e=rc(e,t),this.a[e]&&(Y(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),ve(this.a)&&(nc(this,"local").ia(this.f),oc(this))},n.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?nc(this,"local").ia(this.f):oc(this),this.m)if(n=s.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?s.localStorage.setItem(t,r):s.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var o=this;n=function(){"undefined"===typeof e.a.a&&o.b[t]===s.localStorage.getItem(t)||(o.b[t]=s.localStorage.getItem(t),o.nb(t))},$e&&st&&10==st&&s.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else H(e,T(this.nb,this))},n.nb=function(e){this.a[e]&&H(this.a[e],(function(e){e()}))};var uc,sc={name:"authEvent",F:"local"};function cc(){this.a=tc()}function lc(e,t){this.b=fc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===uc&&(uc=s.Int32Array?new Int32Array(mc):mc),this.reset()}O(lc,(function(){this.b=-1}));for(var fc=64,hc=fc-1,dc=[],pc=0;pc<hc;pc++)dc[pc]=0;var vc=J(128,dc);function gc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var u=0|e.a[2],s=0|e.a[3],c=0|e.a[4],l=0|e.a[5],f=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&u^i&u)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&f)+(0|uc[t])|0)+(0|n[t])|0)|0,o=f,f=l,l=c,c=s+a|0,s=u,u=i,i=r,r=a+h|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+u|0,e.a[3]=e.a[3]+s|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+f|0,e.a[7]=e.a[7]+o|0}function yc(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"===typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(gc(e),i=0);else{if(!p(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(gc(e),i=0)}}e.c=i,e.g+=n}lc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):Z(this.h)};var mc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bc(){lc.call(this,8,wc)}O(bc,lc);var wc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ec(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new cc,this.g=new ac(this.h),this.f=null,this.b=[],this.a=this.c=null}function Tc(e){return new k("invalid-cordova-configuration",e)}function Sc(e){var t=new bc;yc(t,e),e=[];var n=8*t.g;56>t.c?yc(t,vc,56-t.c):yc(t,vc,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(gc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return W(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function Ic(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function Oc(e){return e.f||(e.f=e.ma().then((function(){return new Tt((function(t){e.Ea((function n(r){return t(r),e.Ta(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),_c(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=io(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Mr(Un(o=Vn(i),"firebaseError")||null))?C(o):null)?new Vo(r.c,r.b,null,null,o,null,r.T()):new Vo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Ic(e,i)}))}var n=new Vo("unknown",null,null,null,new k("no-auth-event")),r=!1,i=kn(500).then((function(){return _c(e).then((function(){r||Ic(e,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Ar("BuildInfo.packageName",s).toLowerCase()+"://")&&t({url:e}),"function"===typeof o)try{o(e)}catch(n){console.error(n)}},Ko||(Ko=new Bo),function(e){var t=Ko;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=Ar("universalLinks.subscribe",s))&&e(null,t.b))}(t)}(e)}))}))),e.f}function _c(e){var t=null;return function(e){return e.b.get(sc,e.a).then((function(e){return qo(e)}))}(e.g).then((function(n){return t=n,ic((n=e.g).b,sc,n.a)})).then((function(){return t}))}function kc(e){this.a=e,this.b=tc()}(n=Ec.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(mr(void 0)?yr().then((function(){return new Tt((function(e,t){var n=s.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):Nt(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Ar("universalLinks.subscribe",s))throw Tc("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Ar("BuildInfo.packageName",s))throw Tc("cordova-plugin-buildinfo is not installed");if("function"!==typeof Ar("cordova.plugins.browsertab.openUrl",s))throw Tc("cordova-plugin-browsertab is not installed");if("function"!==typeof Ar("cordova.InAppBrowser.open",s))throw Tc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new k("cordova-not-ready")}))},n.Pb=function(e,t){return t(new k("operation-not-supported-in-this-environment")),At()},n.Nb=function(){return Nt(new k("operation-not-supported-in-this-environment"))},n.ac=function(){return!1},n.Yb=function(){return!0},n.Ub=function(){return!0},n.Ob=function(e,t,n,r){if(this.c)return Nt(new k("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=At().then((function(){return Uo(t),Oc(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new Vo(t,r,null,o,new k("no-auth-event"),null,i),u=Ar("BuildInfo.packageName",s);if("string"!==typeof u)throw new k("invalid-cordova-configuration");var c=Ar("BuildInfo.displayName",s),l={};if(Cr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Cr().toLowerCase().match(/android/))return Nt(new k("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=Sc(o),l.sessionId=o;var f=ms(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(sc,a.w(),t)})).then((function(){var t=Ar("cordova.plugins.browsertab.isAvailable",s);if("function"!==typeof t)throw new k("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!==typeof(n=Ar("cordova.plugins.browsertab.openUrl",s)))throw new k("invalid-cordova-configuration");n(f)}else{if("function"!==typeof(n=Ar("cordova.InAppBrowser.open",s)))throw new k("invalid-cordova-configuration");t=Cr(),e.a=n(f,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new Tt((function(e,t){u=function(){var t=Ar("cordova.plugins.browsertab.close",s);return e(),"function"===typeof t&&t(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=kn(2e3).then((function(){t(new k("redirect-cancelled-by-user"))})))},l=function(){Br()&&c()},o.addEventListener("resume",c,!1),Cr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return _c(i).then((function(){throw e}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Ta(u),i.c=null}))},n.Ea=function(e){this.b.push(e),Oc(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Vo("unknown",null,null,null,new k("no-auth-event")),e(t))}))},n.Ta=function(e){Y(this.b,(function(t){return t==e}))};var Cc={name:"pendingRedirect",F:"session"};function Ac(e){return ic(e.b,Cc,e.a)}function Nc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=T(this.s,this),this.b=new Hc,this.C=new Xc,this.g=new kc(zc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=xc(this.D,this.v,this.m,A,this.J)}function xc(e,n,r,i,o){var a=t.a.SDK_VERSION||null;return mr()?new Ec(e,n,r,a,i,o):new ps(e,n,r,a,i,o)}function Dc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Pc(e){e.a.Yb()&&Dc(e).o((function(t){var n=new Vo("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Uc(t)&&e.s(n)})),e.a.Ub()||Gc(e.b)}function jc(e,t){$(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Cc,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Ac(e.g).then((function(){Dc(e).o((function(t){var n=new Vo("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Uc(t)&&e.s(n)}))})):Pc(e)})).o((function(){Pc(e)}))}function Rc(e,t){Y(e.h,(function(e){return e==t}))}Nc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=xc(this.D,this.v,this.m,null,this.J),this.i={}},Nc.prototype.s=function(e){if(!e)throw new k("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return Gc(this.b),t};var Lc=new qr(2e3,1e4),Mc=new qr(3e4,6e4);function Fc(e,t,n,r,i,o,a){return e.a.Nb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function Uc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Vc(e,t,n,r,i){var o;return function(e){return e.b.set(Cc,"pending",e.a)}(e.g).then((function(){return e.a.Ob(t,n,r,i).o((function(t){if(Uc(t))throw new k("operation-not-supported-in-this-environment");return o=t,Ac(e.g).then((function(){throw o}))})).then((function(){return e.a.ac()?new Tt((function(){})):Ac(e.g).then((function(){return e.ra()})).then((function(){})).o((function(){}))}))}))}function qc(e,t,n,r,i){return e.a.Pb(r,(function(e){t.na(n,null,e,i)}),Lc.get())}Nc.prototype.ra=function(){return this.b.ra()};var Bc={};function zc(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Kc(e,t,n,r){var i=zc(t,n,r);return Bc[i]||(Bc[i]=new Nc(e,t,n,r)),Bc[i]}function Hc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Gc(e){e.g||(e.g=!0,$c(e,!1,null,null))}function Wc(e){e.g&&!e.i&&$c(e,!1,null,null)}function Qc(e,t){if(e.b=function(){return At(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function $c(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Nt(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):Qc(e,n):Qc(e,{user:null}),e.f=[],e.c=[]}function Xc(){}function Yc(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function Jc(e,t){this.a=t,$r(this,"verificationId",e)}function Zc(e,t,n,r){return new Lo(e).gb(t,n).then((function(e){return new Jc(e,r)}))}function el(e){var t=Ki(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Xr(this,{token:e,expirationTime:zr(1e3*t.exp),authTime:zr(1e3*t.auth_time),issuedAtTime:zr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function tl(e,t,n){var r=t&&t[rl];if(!r)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=ge(t),this.g=n,this.c=new oo(null,r),this.b=[];var i=this;H(t[nl]||[],(function(e){(e=ei(e))&&i.b.push(e)})),$r(this,"auth",this.a),$r(this,"session",this.c),$r(this,"hints",this.b)}Hc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Hc.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?($c(this,!0,null,e.a),At()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),u=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){$c(e,u,t,null)})).o((function(t){$c(e,u,null,t)}))}(this,e,t):Nt(new k("invalid-auth-event")):($c(this,!1,null,null),At())}else Nt(new k("invalid-auth-event"))},Hc.prototype.ra=function(){var e=this;return new Tt((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new k("timeout");e.a&&e.a.cancel(),e.a=kn(Mc.get()).then((function(){e.b||(e.g=!0,$c(e,!0,null,t))}))}(e))}))},Xc.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),At()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):Nt(new k("invalid-auth-event"))}else Nt(new k("invalid-auth-event"))},Jc.prototype.confirm=function(e){return e=Mo(this.verificationId,e),this.a(e)};var nl="mfaInfo",rl="mfaPendingCredential";function il(e,t,n,r){k.call(this,"multi-factor-auth-required",r,t),this.b=new tl(e,t,n),$r(this,"resolver",this.b)}function ol(e,t,n){if(e&&g(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new il(t,e.serverResponse,n,e.message)}catch(r){}return null}function al(){}function ul(e){$r(this,"factorId",e.fa),this.a=e}function sl(e){if(ul.call(this,e),this.a.fa!=Lo.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function cl(e,t){for(var n in Yt.call(this,e),t)this[n]=t[n]}function ll(e,t){this.a=e,this.b=[],this.c=T(this.yc,this),ln(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&H(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[ri]=e.uid),e.displayName&&(r[ti]=e.displayName),e.enrollmentTime&&(r[ni]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[ii]=e.phoneNumber);try{t=new oi(r)}catch(i){}e=t}else e=null;e&&n.push(e)})),fl(this,n)}function fl(e,t){e.b=t,$r(e,"enrolledFactors",t)}function hl(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function dl(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function pl(e,t){"undefined"===typeof t&&(e.b?t=(t=e.b).a-t.g:t=0),e.c=Date.now()+1e3*t}function vl(e,t){e.b=zi(t[Ja]||""),e.a=t.refreshToken,pl(e,"undefined"!==typeof(t=t.expiresIn)?Number(t):void 0)}function gl(e,t){return function(e,t){return new Tt((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?uu(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(os(e)):e.access_token&&e.refresh_token?n(e):r(new k("internal-error")):r(new k("network-request-failed"))}),"POST",Jn(t).toString(),e.g,e.m.get()):r(new k("internal-error"))}))}(e.f,t).then((function(t){return e.b=zi(t.access_token),e.a=t.refresh_token,pl(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function yl(e,t){this.a=e||null,this.b=t||null,Xr(this,{lastSignInTime:zr(t||null),creationTime:zr(e||null)})}function ml(e,t,n,r,i,o){Xr(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function bl(e,n,r){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var i=t.a.SDK_VERSION?kr(t.a.SDK_VERSION):null;this.a=new Xa(this.l,P(A),i),(this.u=e.emulatorConfig||null)&&iu(this.a,this.u),this.h=new dl(this.a),Cl(this,n[Ja]),vl(this.h,n),$r(this,"refreshToken",this.h.a),xl(this,r||{}),Tn.call(this),this.P=!1,this.s&&xr()&&(this.b=Kc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(e){return new hl((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.h.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.ba=T(this.ib,this);var o=this;this.za=null,this.Pa=function(e){o.xa(e.h)},this.qa=null,this.Ba=function(e){wl(o,e.c)},this.$=null,this.aa=[],this.Oa=function(e){Sl(o,e.f)},this.ja=null,this.S=new ll(this,r),$r(this,"multiFactor",this.S)}function wl(e,t){e.u=t,iu(e.a,t),e.b&&(t=e.b,e.b=Kc(e.s,e.l,e.m,e.u),e.P&&(Rc(t,e),jc(e.b,e)))}function El(e,t){e.qa&&dn(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&ln(t,"languageCodeChanged",e.Pa)}function Tl(e,t){e.$&&dn(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&ln(t,"emulatorConfigChanged",e.Ba)}function Sl(e,n){e.aa=n,au(e.a,t.a.SDK_VERSION?kr(t.a.SDK_VERSION,e.aa):null)}function Il(e,t){e.ja&&dn(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&ln(t,"frameworkChanged",e.Oa)}function Ol(e){try{return t.a.app(e.m).auth()}catch(n){throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function _l(e){e.J||e.D.b||(e.D.start(),dn(e,"tokenChanged",e.ba),ln(e,"tokenChanged",e.ba))}function kl(e){dn(e,"tokenChanged",e.ba),e.D.stop()}function Cl(e,t){e.Aa=t,$r(e,"_lat",t)}function Al(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return Dt(t).then((function(){return e}))}function Nl(e){e.b&&!e.P&&(e.P=!0,jc(e.b,e))}function xl(e,t){Xr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new yl(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Dl(){}function Pl(e){return At().then((function(){if(e.J)throw new k("app-deleted")}))}function jl(e){return W(e.providerData,(function(e){return e.providerId}))}function Rl(e,t){t&&(Ll(e,t.providerId),e.providerData.push(t))}function Ll(e,t){Y(e.providerData,(function(e){return e.providerId==t}))}function Ml(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&$r(e,t,n)}function Fl(e,t){e!=t&&(Xr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?$r(e,"metadata",function(e){return new yl(e.a,e.b)}(t.metadata)):$r(e,"metadata",new yl),H(t.providerData,(function(t){Rl(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),$r(e,"refreshToken",e.h.a),fl(e.S,t.S.b))}function Ul(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return rs(e.a,ju,{idToken:t}).then(T(e.Kc,e))}(e,t).then((function(){return n||Ml(e,"isAnonymous",!1),t}))}))}function Vl(e,t){t[Ja]&&e.Aa!=t[Ja]&&(vl(e.h,t),e.dispatchEvent(new cl("tokenChanged")),Cl(e,t[Ja]),Ml(e,"refreshToken",e.h.a))}function ql(e,t){return Ul(e).then((function(){if($(jl(e),t))return Al(e).then((function(){throw new k("provider-already-linked")}))}))}function Bl(e,t,n){return Yr({user:e,credential:Fo(t),additionalUserInfo:t=$i(t),operationType:n})}function zl(e,t){return Vl(e,t),e.reload().then((function(){return e}))}function Kl(e,n,r,i,o){if(!xr())return Nt(new k("operation-not-supported-in-this-environment"));if(e.i&&!o)return Nt(e.i);var a=Qi(r.providerId),u=Fr(e.uid+":::"),s=null;(!jr()||br())&&e.s&&r.isOAuthProvider&&(s=ms(e.s,e.l,e.m,n,r,null,u,t.a.SDK_VERSION||null,null,null,e.tenantId,e.u));var c=pr(s,a&&a.va,a&&a.ua);return i=i().then((function(){if(Gl(e),!o)return e.I().then((function(){}))})).then((function(){return Fc(e.b,c,n,r,u,!!s,e.tenantId)})).then((function(){return new Tt((function(t,r){e.na(n,null,new k("cancelled-popup-request"),e.g||null),e.f=t,e.C=r,e.g=u,e.c=qc(e.b,e,n,c,u)}))})).then((function(e){return c&&dr(c),e?Yr(e):null})).o((function(e){throw c&&dr(c),e})),Wl(e,i,o)}function Hl(e,t,n,r,i){if(!xr())return Nt(new k("operation-not-supported-in-this-environment"));if(e.i&&!i)return Nt(e.i);var o=null,a=Fr(e.uid+":::");return r=r().then((function(){if(Gl(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,Al(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(Xl,e.w(),t.a)),t})).then((function(){return Vc(e.b,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return Yl(e.ha);throw o})).then((function(){if(o)throw o})),Wl(e,r,i)}function Gl(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new k("internal-error");throw new k("auth-domain-config-required")}}function Wl(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),Nt(e.i)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new cl("userInvalidated")),e.i=t),t}))}(e,t,n);return e.N.push(r),r.oa((function(){X(e.N,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=ol(t.w(),Ol(e),T(e.jc,e))),n||t}))}function Ql(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[Ja]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new bl(t,n,e);return e.providerData&&H(e.providerData,(function(e){e&&Rl(i,Yr(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function $l(e){this.a=e,this.b=tc()}tl.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then((function(e){var n=ge(t.f);return delete n[nl],delete n[rl],me(n,e),t.g(n)}))},O(il,k),al.prototype.tb=function(e,t,n){return t.type==ao?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),me(n,{phoneVerificationInfo:Ro(e.a)}),rs(t,Du,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return me(n={mfaPendingCredential:n},{phoneVerificationInfo:Ro(e.a)}),rs(t,Pu,n)}))}(this,e,t)},O(ul,al),O(sl,ul),O(cl,Yt),(n=ll.prototype).yc=function(e){fl(this,function(e){var t=[];return H(e.mfaInfo||[],(function(e){(e=ei(e))&&t.push(e)})),t}(e.hd))},n.Sb=function(){return this.a.I().then((function(e){return new oo(e,null)}))},n.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then((function(n){return e.tb(r,n,t)})).then((function(e){return Vl(n.a,e),n.a.reload()}))},n.bd=function(e){var t=this,n="string"===typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return rs(r,ns,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=G(t.b,(function(e){return e.uid!=n}));return fl(t,r),Vl(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},n.w=function(){return{multiFactor:{enrolledFactors:W(this.b,(function(e){return e.w()}))}}},hl.prototype.start=function(){this.a=this.c,function e(t,n){t.stop(),t.b=kn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(t,n)).then((function(){return function(){var e=s.document,t=null;return Br()||!e?At():new Tt((function(n){t=function(){Br()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return t.h()})).then((function(){e(t,!0)})).o((function(n){t.i(n)&&e(t,!1)}))}(this,!0)},hl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},dl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},dl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Nt(new k("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?gl(this,{grant_type:"refresh_token",refresh_token:this.a}):At(null):At({accessToken:this.b.toString(),refreshToken:this.a})},yl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},O(bl,Tn),bl.prototype.xa=function(e){this.za=e,ru(this.a,e)},bl.prototype.la=function(){return this.za},bl.prototype.Ga=function(){return Z(this.aa)},bl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},$r(bl.prototype,"providerId","firebase"),(n=bl.prototype).reload=function(){var e=this;return Wl(this,Pl(this).then((function(){return Ul(e).then((function(){return Al(e)})).then(Dl)})))},n.oc=function(e){return this.I(e).then((function(e){return new el(e)}))},n.I=function(e){var t=this;return Wl(this,Pl(this).then((function(){return t.h.getToken(e)})).then((function(e){if(!e)throw new k("internal-error");return e.accessToken!=t.Aa&&(Cl(t,e.accessToken),t.dispatchEvent(new cl("tokenChanged"))),Ml(t,"refreshToken",e.refreshToken),e.accessToken})))},n.Kc=function(e){if(!(e=e.users)||!e.length)throw new k("internal-error");xl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?W(e,(function(e){return new ml(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Rl(this,t[n]);Ml(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new cl("userReloaded",{hd:e}))},n.Lc=function(e){return Wr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},n.ub=function(e){var t=this,n=null;return Wl(this,e.c(this.a,this.uid).then((function(e){return Vl(t,e),n=Bl(t,e,"reauthenticate"),t.i=null,t.reload()})).then((function(){return n})),!0)},n.Cc=function(e){return Wr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},n.rb=function(e){var t=this,n=null;return Wl(this,ql(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Bl(t,e,"link"),zl(t,e)})).then((function(){return n})))},n.Dc=function(e,t){var n=this;return Wl(this,ql(this,"phone").then((function(){return Zc(Ol(n),e,t,T(n.rb,n))})))},n.Mc=function(e,t){var n=this;return Wl(this,At().then((function(){return Zc(Ol(n),e,t,T(n.ub,n))})),!0)},n.Cb=function(e){var t=this;return Wl(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return Vl(t,e),t.reload()})))},n.ed=function(e){var t=this;return Wl(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return Vl(t,e),t.reload()})))},n.Db=function(e){var t=this;return Wl(this,this.I().then((function(n){return t.a.Db(n,e)})).then((function(e){return Vl(t,e),t.reload()})))},n.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Pl(this);var t=this;return Wl(this,this.I().then((function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Vl(t,e),Ml(t,"displayName",e.displayName||null),Ml(t,"photoURL",e.photoUrl||null),H(t.providerData,(function(e){"password"===e.providerId&&($r(e,"displayName",t.displayName),$r(e,"photoURL",t.photoURL))})),Al(t)})).then(Dl))},n.cd=function(e){var t=this;return Wl(this,Ul(this).then((function(n){return $(jl(t),e)?function(e,t,n){return rs(e,Au,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return H(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),H(jl(t),(function(e){n[e]||Ll(t,e)})),n[Lo.PROVIDER_ID]||$r(t,"phoneNumber",null),Al(t)})):Al(t).then((function(){throw new k("no-such-provider")}))})))},n.delete=function(){var e=this;return Wl(this,this.I().then((function(t){return rs(e.a,Cu,{idToken:t})})).then((function(){e.dispatchEvent(new cl("userDeleted"))}))).then((function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");El(e,null),Tl(e,null),Il(e,null),e.N=[],e.J=!0,kl(e),$r(e,"refreshToken",null),e.b&&Rc(e.b,e)}))},n.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},n.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?T(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?T(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?T(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?T(this.Mb,this):null},n.Ec=function(e){var t=this;return Kl(this,"linkViaPopup",e,(function(){return ql(t,e.providerId).then((function(){return Al(t)}))}),!1)},n.Nc=function(e){return Kl(this,"reauthViaPopup",e,(function(){return At()}),!0)},n.Fc=function(e){var t=this;return Hl(this,"linkViaRedirect",e,(function(){return ql(t,e.providerId)}),!1)},n.Oc=function(e){return Hl(this,"reauthViaRedirect",e,(function(){return At()}),!0)},n.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Wl(this,this.I().then((function(n){return Eu(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Bl(i,e,"link"),zl(i,e)})).then((function(){return o})))},n.Mb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Wl(this,At().then((function(){return co(Tu(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Bl(i,e,"reauthenticate"),Vl(i,e),i.i=null,i.reload()})).then((function(){return o})),!0)},n.vb=function(e){var t=this,n=null;return Wl(this,this.I().then((function(t){return n=t,"undefined"===typeof e||ve(e)?{}:Ui(new Ai(e))})).then((function(e){return t.a.vb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},n.Fb=function(e,t){var n=this,r=null;return Wl(this,this.I().then((function(e){return r=e,"undefined"===typeof t||ve(t)?{}:Ui(new Ai(t))})).then((function(t){return n.a.Fb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},n.jc=function(e){var t=null,n=this;return Wl(this,e=co(At(e),n.uid).then((function(e){return t=Bl(n,e,"reauthenticate"),Vl(n,e),n.i=null,n.reload()})).then((function(){return t})),!0)},n.toJSON=function(){return this.w()},n.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&me(e,this.metadata.w()),H(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),me(e,this.S.w()),e};var Xl={name:"redirectUser",F:"session"};function Yl(e){return ic(e.b,Xl,e.a)}function Jl(e){this.a=e,this.b=tc(),this.c=null,this.f=function(e){var t=tf("local"),n=tf("session"),r=tf("none");return function(e,t,n){var r=rc(t,n),i=nc(e,t.F);return e.get(t,n).then((function(o){var a=null;try{a=Mr(s.localStorage.getItem(r))}catch(u){}if(a&&!o)return s.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(ef,e.a).then((function(e){return e?tf(e):t}))}))}))})).then((function(t){return e.c=t,Zl(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(tf("local"),this.a,T(this.g,this))}function Zl(e,t){var n,r=[];for(n in Zs)Zs[n]!==t&&r.push(ic(e.b,tf(Zs[n]),e.a));return r.push(ic(e.b,ef,e.a)),function(e){return new Tt((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},u=0;u<e.length;u++)xt(e[u],S(o,u),a);else t(i)}))}(r)}Jl.prototype.g=function(){var e=this,t=tf("local");af(this,(function(){return At().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return Zl(e,"local").then((function(){e.c=t}))}))}))};var ef={name:"persistence",F:"session"};function tf(e){return{name:"authUser",F:e}}function nf(e,t){return af(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function rf(e){return af(e,(function(){return ic(e.b,e.c,e.a)}))}function of(e,t,n){return af(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),Ql(e||{})}))}))}function af(e,t){return e.f=e.f.then(t,t),e.f}function uf(e){if(this.l=!1,$r(this,"settings",new Yc),$r(this,"app",e),!gf(this).options||!gf(this).options.apiKey)throw new k("invalid-api-key");e=t.a.SDK_VERSION?kr(t.a.SDK_VERSION):null,this.a=new Xa(gf(this).options&&gf(this).options.apiKey,P(A),e),this.P=[],this.s=[],this.N=[],this.Pa=t.a.INTERNAL.createSubscribe(T(this.zc,this)),this.W=void 0,this.ib=t.a.INTERNAL.createSubscribe(T(this.Ac,this)),pf(this,null),this.i=new Jl(gf(this).options.apiKey+":"+gf(this).name),this.D=new $l(gf(this).options.apiKey+":"+gf(this).name),this.$=wf(this,function(e){var t=gf(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(Xl,e.a).then((function(e){return e&&t&&(e.authDomain=t),Ql(e||{})}))}(e.D,gf(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),Yl(e.D)}));return wf(e,t)}(e).then((function(){return of(e.i,t,e.R)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return nf(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:rf(e.i)}))):null})).then((function(t){pf(e,t||null)}));return wf(e,n)}(this)),this.h=wf(this,function(e){return e.$.then((function(){return hf(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(tf("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=T(this.Zc,this),this.Ba=T(this.da,this),this.qa=T(this.mc,this),this.za=T(this.wc,this),this.Aa=T(this.xc,this),this.b=null,function(e){var t=gf(e).options.authDomain,n=gf(e).options.apiKey;t&&xr()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=Kc(t,n,gf(e).name,e.R),jc(e.b,e),yf(e)&&Nl(yf(e)),e.m){Nl(e.m);var r=e.m;r.xa(e.la()),El(r,e),Sl(r=e.m,e.J),Il(r,e),wl(r=e.m,e.R),Tl(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=T(this.delete,this),this.INTERNAL.logFramework=T(this.Gc,this),this.u=0,Tn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var e=Vn(this.R.url);e=Yr({protocol:e.c,host:e.a,port:e.g,options:Yr({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.R=null}function sf(e){Yt.call(this,"languageCodeChanged"),this.h=e}function cf(e){Yt.call(this,"emulatorConfigChanged"),this.c=e}function lf(e){Yt.call(this,"frameworkChanged"),this.f=e}function ff(e){return e.Oa||Nt(new k("auth-domain-config-required"))}function hf(e){if(!xr())return Nt(new k("operation-not-supported-in-this-environment"));var t=ff(e).then((function(){return e.b.ra()})).then((function(e){return e?Yr(e):null}));return wf(e,t)}function df(e,t){var n={};return n.apiKey=gf(e).options.apiKey,n.authDomain=gf(e).options.authDomain,n.appName=gf(e).name,e.R&&(n.emulatorConfig=e.R),e.$.then((function(){return function(e,t,n,r){var i=new bl(e,t);return n&&(i.ha=n),r&&Sl(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return yf(e)&&t.uid==yf(e).uid?(Fl(yf(e),t),e.da(t)):(pf(e,t),Nl(t),e.da(t))})).then((function(){bf(e)}))}function pf(e,t){yf(e)&&(function(e,t){Y(e.W,(function(e){return e==t}))}(yf(e),e.Ba),dn(yf(e),"tokenChanged",e.qa),dn(yf(e),"userDeleted",e.za),dn(yf(e),"userInvalidated",e.Aa),kl(yf(e))),t&&(t.W.push(e.Ba),ln(t,"tokenChanged",e.qa),ln(t,"userDeleted",e.za),ln(t,"userInvalidated",e.Aa),0<e.u&&_l(t)),$r(e,"currentUser",t),t&&(t.xa(e.la()),El(t,e),Sl(t,e.J),Il(t,e),wl(t,e.R),Tl(t,e))}function vf(e,t){var n=null,r=null;return wf(e,t.then((function(t){return n=Fo(t),r=$i(t),df(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=ol(t.w(),e,T(e.kc,e))),n||t})).then((function(){return Yr({user:yf(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function gf(e){return e.app}function yf(e){return e.currentUser}function mf(e){return yf(e)&&yf(e)._lat||null}function bf(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](mf(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](mf(e))}}function wf(e,t){return e.P.push(t),t.oa((function(){X(e.P,t)})),t}function Ef(){}function Tf(){this.a={},this.b=1e12}Jl.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new k("invalid-persistence-type"),n=new k("unsupported-persistence-type");e:{for(r in Zs)if(Zs[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(Er()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Ds()&&"none"!==e)throw n;break;default:if(!Nr()&&"none"!==e)throw n}}(e),af(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,Zl(n,e)})).then((function(){if(n.c=tf(e),t)return n.b.set(n.c,t,n.a)})):At()}))},O(uf,Tn),O(sf,Yt),O(cf,Yt),O(lf,Yt),(n=uf.prototype).yb=function(e){return wf(this,e=this.i.yb(e))},n.xa=function(e){this.aa===e||this.l||(this.aa=e,ru(this.a,this.aa),this.dispatchEvent(new sf(this.la())))},n.la=function(){return this.aa},n.fd=function(){var e=s.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},n.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!e&&yr().then((function(){var e=s.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),s.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.R={url:e,ec:t},this.settings.jb=!0,iu(this.a,this.R),this.dispatchEvent(new cf(this.R))}},n.Gc=function(e){this.J.push(e),au(this.a,t.a.SDK_VERSION?kr(t.a.SDK_VERSION,this.J):null),this.dispatchEvent(new lf(this.J))},n.Ga=function(){return Z(this.J)},n.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},n.T=function(){return this.S},n.toJSON=function(){return{apiKey:gf(this).options.apiKey,authDomain:gf(this).options.authDomain,appName:gf(this).name,currentUser:yf(this)&&yf(this).w()}},n.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},n.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?T(this.ic,this):null},n.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return vf(i,wu(i.a,o))}))},n.Xc=function(e){if(!xr())return Nt(new k("operation-not-supported-in-this-environment"));var n=this,r=Qi(e.providerId),i=Fr(),o=null;(!jr()||br())&&gf(this).options.authDomain&&e.isOAuthProvider&&(o=ms(gf(this).options.authDomain,gf(this).options.apiKey,gf(this).name,"signInViaPopup",e,null,i,t.a.SDK_VERSION||null,null,null,this.T(),this.R));var a=pr(o,r&&r.va,r&&r.ua);return wf(this,r=ff(this).then((function(t){return Fc(t,a,"signInViaPopup",e,i,!!o,n.T())})).then((function(){return new Tt((function(e,t){n.na("signInViaPopup",null,new k("cancelled-popup-request"),n.g),n.f=e,n.C=t,n.g=i,n.c=qc(n.b,n,"signInViaPopup",a,i)}))})).then((function(e){return a&&dr(a),e?Yr(e):null})).o((function(e){throw a&&dr(a),e})))},n.Yc=function(e){if(!xr())return Nt(new k("operation-not-supported-in-this-environment"));var t=this;return wf(this,ff(this).then((function(){return function(e){return af(e,(function(){return e.b.set(ef,e.c.F,e.a)}))}(t.i)})).then((function(){return Vc(t.b,"signInViaRedirect",e,void 0,t.T())})))},n.ra=function(){var e=this;return hf(this).then((function(t){return e.b&&Wc(e.b.b),t})).o((function(t){throw e.b&&Wc(e.b.b),t}))},n.dd=function(e){if(!e)return Nt(new k("null-user"));if(this.S!=e.tenantId)return Nt(new k("tenant-id-mismatch"));var t=this,n={};n.apiKey=gf(this).options.apiKey,n.authDomain=gf(this).options.authDomain,n.appName=gf(this).name;var r=function(e,t,n,r){var i=e.h,o={};return o[Ja]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new bl(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&Sl(t,r),Fl(t,e),t}(e,n,t.D,t.Ga());return wf(this,this.h.then((function(){if(gf(t).options.apiKey!=e.l)return r.reload()})).then((function(){return yf(t)&&e.uid==yf(t).uid?(Fl(yf(t),e),t.da(e)):(pf(t,r),Nl(r),t.da(r))})).then((function(){bf(t)})))},n.Bb=function(){var e=this;return wf(this,this.h.then((function(){return e.b&&Wc(e.b.b),yf(e)?(pf(e,null),rf(e.i).then((function(){bf(e)}))):At()})))},n.Zc=function(){var e=this;return of(this.i,gf(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=yf(e)&&t){n=yf(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Fl(yf(e),t),yf(e).I();(yf(e)||t)&&(pf(e,t),t&&(Nl(t),t.ha=e.D),e.b&&jc(e.b,e),bf(e))}}))},n.da=function(e){return nf(this.i,e)},n.mc=function(){bf(this),this.da(yf(this))},n.wc=function(){this.Bb()},n.xc=function(){this.Bb()},n.kc=function(e){var t=this;return this.h.then((function(){return vf(t,At(e))}))},n.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(yf(t))}))},n.Ac=function(e){var t=this;!function(e,t){e.N.push(t),wf(e,e.h.then((function(){!e.l&&$(e.N,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(mf(e)))})))}(this,(function(){e.next(yf(t))}))},n.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof e?e(yf(r)):"function"===typeof e.next&&e.next(yf(r))})),this.Pa(e,t,n)},n.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"===typeof e?e(yf(r)):"function"===typeof e.next&&e.next(yf(r))})),this.ib(e,t,n)},n.nc=function(e){var t=this;return wf(this,this.h.then((function(){return yf(t)?yf(t).I(e).then((function(e){return{accessToken:e}})):null})))},n.Tc=function(e){var t=this;return this.h.then((function(){return vf(t,rs(t.a,Yu,{token:e}))})).then((function(e){var n=e.user;return Ml(n,"isAnonymous",!1),t.da(n),e}))},n.Uc=function(e,t){var n=this;return this.h.then((function(){return vf(n,rs(n.a,Ju,{email:e,password:t}))}))},n.dc=function(e,t){var n=this;return this.h.then((function(){return vf(n,rs(n.a,_u,{email:e,password:t}))}))},n.ab=function(e){var t=this;return this.h.then((function(){return vf(t,e.ka(t.a))}))},n.Sc=function(e){return Wr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},n.Ab=function(){var e=this;return this.h.then((function(){var t=yf(e);if(t&&t.isAnonymous){var n=Yr({providerId:null,isNewUser:!1});return Yr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return vf(e,e.a.Ab()).then((function(t){var n=t.user;return Ml(n,"isAnonymous",!0),e.da(n),t}))}))},n.getUid=function(){return yf(this)&&yf(this).uid||null},n.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&yf(this)&&_l(yf(this))},n.Pc=function(e){var t=this;H(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&yf(this)&&kl(yf(this)),this.removeAuthTokenListener(e)},n.addAuthTokenListener=function(e){var t=this;this.s.push(e),wf(this,this.h.then((function(){t.l||$(t.s,e)&&e(mf(t))})))},n.removeAuthTokenListener=function(e){Y(this.s,(function(t){return t==e}))},n.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(tf("local"),e.a,this.ja),this.b&&(Rc(this.b,this),Wc(this.b.b)),Promise.resolve()},n.hc=function(e){return wf(this,function(e,t){return rs(e,ku,{identifier:t,continueUri:Dr()?lr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},n.Bc=function(e){return!!Do(e)},n.xb=function(e,t){var n=this;return wf(this,At().then((function(){var e=new Ai(t);if(!e.c)throw new k("argument-error",Di+" must be true when sending sign in link to email");return Ui(e)})).then((function(t){return n.a.xb(e,t)})).then((function(){})))},n.jd=function(e){return this.Sa(e).then((function(e){return e.data.email}))},n.ob=function(e,t){return wf(this,this.a.ob(e,t).then((function(){})))},n.Sa=function(e){return wf(this,this.a.Sa(e).then((function(e){return new ai(e)})))},n.kb=function(e){return wf(this,this.a.kb(e).then((function(){})))},n.wb=function(e,t){var n=this;return wf(this,At().then((function(){return"undefined"===typeof t||ve(t)?{}:Ui(new Ai(t))})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},n.Wc=function(e,t){return wf(this,Zc(this,e,t,T(this.ab,this)))},n.Vc=function(e,t){var n=this;return wf(this,At().then((function(){var r=t||lr(),i=xo(e,r);if(!(r=Do(r)))throw new k("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new k("tenant-id-mismatch");return n.ab(i)})))},Ef.prototype.render=function(){},Ef.prototype.reset=function(){},Ef.prototype.getResponse=function(){},Ef.prototype.execute=function(){};var Sf=null;function If(e,t){return(t=Of(t))&&e.a[t]||null}function Of(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function _f(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=lt(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():ln(this.f,"click",this.i)}function kf(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Cf(){}function Af(){}Tf.prototype.render=function(e,t){return this.a[this.b.toString()]=new _f(e,t),this.b++},Tf.prototype.reset=function(e){var t=If(this,e);e=Of(e),t&&e&&(t.delete(),delete this.a[e])},Tf.prototype.getResponse=function(e){return(e=If(this,e))?e.getResponse():null},Tf.prototype.execute=function(e){(e=If(this,e))&&e.execute()},_f.prototype.getResponse=function(){return kf(this),this.b},_f.prototype.execute=function(){kf(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()}),6e4)}),500))},_f.prototype.delete=function(){kf(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},$r(Cf,"FACTOR_ID","phone"),Af.prototype.g=function(){return Sf||(Sf=new Tf),At(Sf)},Af.prototype.c=function(){};var Nf=null;function xf(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Df=new we(Ie,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Pf=new qr(3e4,6e4);xf.prototype.g=function(e){var t=this;return new Tt((function(n,r){var i=setTimeout((function(){r(new k("network-request-failed"))}),Pf.get());!s.grecaptcha||e!==t.f&&!t.b?(s[t.a]=function(){if(s.grecaptcha){t.f=e;var o=s.grecaptcha.render;s.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new k("internal-error"));delete s[t.a]},At(za(Ce(Df,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},xf.prototype.c=function(){this.b--};var jf=null;function Rf(e,t,n,r,i,o,a){if($r(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,a?(Nf||(Nf=new Af),a=Nf):(jf||(jf=new xf),a=jf),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Ff])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Uf],!s.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!lt(t)||!this.i&&lt(t).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Xa(e,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Lf];this.a[Lf]=function(e){if(Vf(u,e),"function"===typeof c)c(e);else if("string"===typeof c){var t=Ar(c,s);"function"===typeof t&&t(e)}};var l=this.a[Mf];this.a[Mf]=function(){if(Vf(u,null),"function"===typeof l)l();else if("string"===typeof l){var e=Ar(l,s);"function"===typeof e&&e()}}}var Lf="callback",Mf="expired-callback",Ff="sitekey",Uf="size";function Vf(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function qf(e,t){return e.h.push(t),t.oa((function(){X(e.h,t)})),t}function Bf(e){if(e.J)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}function zf(e,n,r){var i=!1;try{this.b=r||t.a.app()}catch(u){throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new k("invalid-api-key");r=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(u){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(u){}a=t.a.SDK_VERSION?kr(t.a.SDK_VERSION,a):null,Rf.call(this,r,e,n,(function(){try{var e=o.b.auth().la()}catch(t){e=null}return e}),a,P(A),i)}function Kf(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=Hf.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");n=Hf[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new k("argument-error",e+" failed: "+r)}(n=Rf.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=qf(this,At().then((function(){if(Dr()&&!wr())return yr();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,rs(e.s,Vu,{})})).then((function(t){e.a[Ff]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},n.render=function(){Bf(this);var e=this;return qf(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=lt(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ct&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',He(a.name),'"'),a.type){o.push(' type="',He(a.type),'"');var u={};me(u,a),delete u.type,a=u}o.push(">"),o=o.join("")}return o=gt(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ft(o,a)),2<r.length&&vt(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},n.verify=function(){Bf(this);var e=this;return qf(this,this.render().then((function(t){return new Tt((function(n){var r=e.g.getResponse(t);if(r)n(r);else{e.l.push((function t(r){r&&(function(e,t){Y(e.l,(function(e){return e==t}))}(e,t),n(r))})),e.i&&e.g.execute(e.c)}}))})))},n.reset=function(){Bf(this),null!==this.c&&this.g.reset(this.c)},n.clear=function(){Bf(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=lt(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},O(zf,Rf);var Hf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Gf(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"===typeof e}}}function Wf(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"===typeof e}}}function Qf(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:g}}function $f(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"===typeof e}}}function Xf(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function Yf(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function Jf(e,t){return g(e)&&"string"===typeof e.type&&e.type===t&&"function"===typeof e.Ha}function Zf(e){return g(e)&&"string"===typeof e.uid}function eh(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function th(e,t){for(var n in t){var r=t[n].name;e[r]=ih(r,e[n],t[n].j)}}function nh(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:S((function(e){return this[e]}),n),set:S((function(e,t,n,r){Kf(e,[n],[r],!0),this[t]=r}),r,n,t[n].lb),enumerable:!0})}}function rh(e,t,n,r){e[t]=ih(t,n,r)}function ih(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Kf(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}th(uf.prototype,{kb:{name:"applyActionCode",j:[Gf("code")]},Sa:{name:"checkActionCode",j:[Gf("code")]},ob:{name:"confirmPasswordReset",j:[Gf("code"),Gf("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Gf("email"),Gf("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Gf("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Gf("emailLink")]},Hc:{name:"onAuthStateChanged",j:[eh(Qf(),$f(),"nextOrObserver"),$f("opt_error",!0),$f("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[eh(Qf(),$f(),"nextOrObserver"),$f("opt_error",!0),$f("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Gf("email"),eh(Qf("opt_actionCodeSettings",!0),Xf(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Gf("email"),Qf("actionCodeSettings")]},yb:{name:"setPersistence",j:[Gf("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Yf()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Yf()]},Tc:{name:"signInWithCustomToken",j:[Gf("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Gf("email"),Gf("password")]},Vc:{name:"signInWithEmailLink",j:[Gf("email"),Gf("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Gf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[eh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof bl)}},Xf(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Gf(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Gf("url"),Qf("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Gf("code")]}}),nh(uf.prototype,{lc:{name:"languageCode",lb:eh(Gf(),Xf(),"languageCode")},ti:{name:"tenantId",lb:eh(Gf(),Xf(),"tenantId")}}),uf.Persistence=Zs,uf.Persistence.LOCAL="local",uf.Persistence.SESSION="session",uf.Persistence.NONE="none",th(bl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Wf("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Wf("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Yf()]},rb:{name:"linkWithCredential",j:[Yf()]},Dc:{name:"linkWithPhoneNumber",j:[Gf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Yf()]},ub:{name:"reauthenticateWithCredential",j:[Yf()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Gf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[eh(Qf("opt_actionCodeSettings",!0),Xf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Gf(null,!0)]},cd:{name:"unlink",j:[Gf("provider")]},Cb:{name:"updateEmail",j:[Gf("email")]},Db:{name:"updatePassword",j:[Gf("password")]},ed:{name:"updatePhoneNumber",j:[Yf("phone")]},Eb:{name:"updateProfile",j:[Qf("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Gf("email"),eh(Qf("opt_actionCodeSettings",!0),Xf(null,!0),"opt_actionCodeSettings",!0)]}}),th(Tf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),th(Ef.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),th(Tt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),nh(Yc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Wf("appVerificationDisabledForTesting")}}),th(Jc.prototype,{confirm:{name:"confirm",j:[Gf("verificationCode")]}}),rh(so,"fromJSON",(function(e){e="string"===typeof e?JSON.parse(e):e;for(var t,n=[go,Ao,jo,ho],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[eh(Gf(),Qf(),"json")]),rh(No,"credential",(function(e,t){return new Co(e,t)}),[Gf("email"),Gf("password")]),th(Co.prototype,{w:{name:"toJSON",j:[Gf(null,!0)]}}),th(wo.prototype,{Ca:{name:"addScope",j:[Gf("scope")]},Ka:{name:"setCustomParameters",j:[Qf("customOAuthParameters")]}}),rh(wo,"credential",Eo,[eh(Gf(),Qf(),"token")]),rh(No,"credentialWithLink",xo,[Gf("email"),Gf("emailLink")]),th(To.prototype,{Ca:{name:"addScope",j:[Gf("scope")]},Ka:{name:"setCustomParameters",j:[Qf("customOAuthParameters")]}}),rh(To,"credential",So,[eh(Gf(),Qf(),"token")]),th(Io.prototype,{Ca:{name:"addScope",j:[Gf("scope")]},Ka:{name:"setCustomParameters",j:[Qf("customOAuthParameters")]}}),rh(Io,"credential",Oo,[eh(Gf(),eh(Qf(),Xf()),"idToken"),eh(Gf(),Xf(),"accessToken",!0)]),th(_o.prototype,{Ka:{name:"setCustomParameters",j:[Qf("customOAuthParameters")]}}),rh(_o,"credential",ko,[eh(Gf(),Qf(),"token"),Gf("secret",!0)]),th(bo.prototype,{Ca:{name:"addScope",j:[Gf("scope")]},credential:{name:"credential",j:[eh(Gf(),eh(Qf(),Xf()),"optionsOrIdToken"),eh(Gf(),Xf(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Qf("customOAuthParameters")]}}),th(po.prototype,{w:{name:"toJSON",j:[Gf(null,!0)]}}),th(lo.prototype,{w:{name:"toJSON",j:[Gf(null,!0)]}}),rh(Lo,"credential",Mo,[Gf("verificationId"),Gf("verificationCode")]),th(Lo.prototype,{gb:{name:"verifyPhoneNumber",j:[eh(Gf(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?Jf(e.session,ao)&&"string"===typeof e.phoneNumber:e.session&&e.multiFactorHint?Jf(e.session,uo)&&Zf(e.multiFactorHint):e.session&&e.multiFactorUid?Jf(e.session,uo)&&"string"===typeof e.multiFactorUid:!!e.phoneNumber&&"string"===typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]}}),th(Po.prototype,{w:{name:"toJSON",j:[Gf(null,!0)]}}),th(k.prototype,{toJSON:{name:"toJSON",j:[Gf(null,!0)]}}),th(Go.prototype,{toJSON:{name:"toJSON",j:[Gf(null,!0)]}}),th(Ho.prototype,{toJSON:{name:"toJSON",j:[Gf(null,!0)]}}),th(il.prototype,{toJSON:{name:"toJSON",j:[Gf(null,!0)]}}),th(tl.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),th(ll.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},Gf("displayName",!0)]},bd:{name:"unenroll",j:[eh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Zf},Gf(),"multiFactorInfoIdentifier")]}}),th(zf.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),rh(wi,"parseLink",Ci,[Gf("link")]),rh(Cf,"assertion",(function(e){return new sl(e)}),[Yf("phone")]),function(){if("undefined"===typeof t.a||!t.a.INTERNAL||!t.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:si,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ui,VERIFY_AND_CHANGE_EMAIL:ci,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:uf,AuthCredential:so,Error:k};rh(e,"EmailAuthProvider",No,[]),rh(e,"FacebookAuthProvider",wo,[]),rh(e,"GithubAuthProvider",To,[]),rh(e,"GoogleAuthProvider",Io,[]),rh(e,"TwitterAuthProvider",_o,[]),rh(e,"OAuthProvider",bo,[Gf("providerId")]),rh(e,"SAMLAuthProvider",mo,[Gf("providerId")]),rh(e,"PhoneAuthProvider",Lo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof uf)}}]),rh(e,"RecaptchaVerifier",zf,[eh(Gf(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Qf("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof t.a.app.App)}}]),rh(e,"ActionCodeURL",wi,[]),rh(e,"PhoneMultiFactorGenerator",Cf,[]),t.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new uf(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),t.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:T((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:T(e.nc,e),addAuthTokenListener:T(e.cc,e),removeAuthTokenListener:T(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),t.a.registerVersion("@firebase/auth","0.16.8"),t.a.INTERNAL.extendNamespace({User:bl})}()}).apply("undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}).call(this,n(26))},function(e,t,n){"use strict";var r=n(78);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,u=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,E=r?Symbol.for("react.scope"):60119;function T(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case h:case a:case s:case u:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case y:case g:case c:return e;default:return t}}case o:return t}}}function S(e){return T(e)===h}t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=a,t.Lazy=y,t.Memo=g,t.Portal=o,t.Profiler=s,t.StrictMode=u,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||T(e)===f},t.isConcurrentMode=S,t.isContextConsumer=function(e){return T(e)===l},t.isContextProvider=function(e){return T(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return T(e)===d},t.isFragment=function(e){return T(e)===a},t.isLazy=function(e){return T(e)===y},t.isMemo=function(e){return T(e)===g},t.isPortal=function(e){return T(e)===o},t.isProfiler=function(e){return T(e)===s},t.isStrictMode=function(e){return T(e)===u},t.isSuspense=function(e){return T(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===h||e===s||e===u||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===g||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===b||e.$$typeof===w||e.$$typeof===E||e.$$typeof===m)},t.typeOf=T},function(e,t,n){var r=n(82);e.exports=function(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=r(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o,a=!0,u=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==i.return||i.return()}finally{if(u)throw o}}}}},function(e,t,n){var r=n(83);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.asap=function(e){o.enqueueTask(a.create(e))};var r=n(51),i=n(52),o=new r.AsapQueue,a=new i.TaskFactory(o.registerPendingError)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.makeRequestCallFromTimer=i,t.makeRequestCallFromMutationObserver=o,t.makeRequestCall=void 0;var n="undefined"!==typeof e?e:self,r=n.MutationObserver||n.WebKitMutationObserver;function i(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}function o(e){var t=1,n=new r(e),i=document.createTextNode("");return n.observe(i,{characterData:!0}),function(){t=-t,i.data=t}}var a="function"===typeof r?o:i;t.makeRequestCall=a}).call(this,n(26))},function(e,t,n){"use strict";var r=n(43),i=n(44);Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t,n){r(this,e),this.onError=t,this.release=n,this.task=null}return i(e,[{key:"call",value:function(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}}]),e}();t.RawTask=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},,,,,,,,,,,,,,function(e,t,n){"use strict";var r,i=n(3),o=n(8),a=n(24),u=(n(4),n(14),n(10),{Firestore:o.e,GeoPoint:o.a,Timestamp:o.g,Blob:o.f,Transaction:o.j,WriteBatch:o.c,DocumentReference:o.d,DocumentSnapshot:o.k,Query:o.m,QueryDocumentSnapshot:o.r,QuerySnapshot:o.q,CollectionReference:o.n,FieldPath:o.p,FieldValue:o.l,setLogLevel:o.o,CACHE_SIZE_UNLIMITED:o.b});(function(e,t){e.INTERNAL.registerComponent(new a.a("firestore",(function(e){return function(e,t){return new o.e(e,new o.h(e,t),new o.i)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},u)))})(r=i.a),r.registerVersion("@firebase/firestore","2.4.1")},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(20),i=n(21);function o(e,t){return Object(r.a)((function(n,r){var o=0;n.subscribe(Object(i.a)(r,(function(n){r.next(e.call(t,n,o++))})))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1),i=r.memo((function(e){var t=e.connect,n=e.src;return r.useEffect((function(){if("undefined"!==typeof Image){var e=!1,r=new Image;return r.src=n,r.onload=function(){t(r),e=!0},function(){e&&t(null)}}})),null}));i.displayName="DragPreviewImage"},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n(1),i=n(33);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=0,c=Object(r.memo)((function(e){var t=e.children,n=o(function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f(),n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=t;o[l]||(o[l]=Object(i.b)(e,t,n,r));return o[l]}(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}(u(e,["children"])),2),a=n[0],c=n[1];return r.useEffect((function(){return c&&s++,function(){c&&(0===--s&&(f()[l]=null))}}),[]),r.createElement(i.a.Provider,{value:a},t)}));c.displayName="DndProvider";var l=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");function f(){return"undefined"!==typeof e?e:window}}).call(this,n(26))},function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n(1),i=n(2),o=n(40),a=n(13),u=n(39),s=n(27);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=!1,f=!1,h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourceId=null,this.internalMonitor=t.getMonitor()}var t,n,r;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.sourceId=e}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){Object(i.a)(!l,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return l=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{l=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;Object(i.a)(!f,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return f=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{f=!1}}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"isDraggingSource",value:function(e){return this.internalMonitor.isDraggingSource(e)}},{key:"isOverTarget",value:function(e,t){return this.internalMonitor.isOverTarget(e,t)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(e){return this.internalMonitor.subscribeToOffsetChange(e)}},{key:"canDragSource",value:function(e){return this.internalMonitor.canDragSource(e)}},{key:"canDropOnTarget",value:function(e){return this.internalMonitor.canDropOnTarget(e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&c(t.prototype,n),r&&c(t,r),e}(),d=n(41),p=n(32),v=n(23);function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks=Object(d.a)({dragSource:function(e,t){n.clearDragSource(),n.dragSourceOptions=t||null,Object(p.a)(e)?n.dragSourceRef=e:n.dragSourceNode=e,n.reconnectDragSource()},dragPreview:function(e,t){n.clearDragPreview(),n.dragPreviewOptions=t||null,Object(p.a)(e)?n.dragPreviewRef=e:n.dragPreviewNode=e,n.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}var t,n,r;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();t&&this.disconnectDragSource(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)):this.lastConnectedDragSource=e)}},{key:"reconnectDragPreview",value:function(){var e=this.dragPreview,t=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();t&&this.disconnectDragPreview(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=e,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,e,this.dragPreviewOptions)):this.lastConnectedDragPreview=e)}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!Object(v.a)(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!Object(v.a)(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}}])&&g(t.prototype,n),r&&g(t,r),e}();function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e){return(w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e){var t=Object(r.useRef)(e);t.current=e,Object(i.a)(null!=e.item,"item must be defined"),Object(i.a)(null!=e.item.type,"item type must be defined");var n=E(function(){var e=Object(s.a)();return[Object(r.useMemo)((function(){return new h(e)}),[e]),Object(r.useMemo)((function(){return new y(e.getBackend())}),[e])]}(),2),c=n[0],l=n[1];!function(e,t,n){var o=Object(s.a)(),c=Object(r.useMemo)((function(){return{beginDrag:function(){var n=e.current,r=n.begin,o=n.item;if(r){var a=r(t);return Object(i.a)(null==a||"object"===w(a),"dragSpec.begin() must either return an object, undefined, or null"),a||o||{}}return o||{}},canDrag:function(){return"boolean"===typeof e.current.canDrag?e.current.canDrag:"function"!==typeof e.current.canDrag||e.current.canDrag(t)},isDragging:function(n,r){var i=e.current.isDragging;return i?i(t):r===n.getSourceId()},endDrag:function(){var r=e.current.end;r&&r(t.getItem(),t),n.reconnect()}}}),[]);Object(a.a)((function(){var r=m(Object(u.a)(e.current.item.type,c,o),2),i=r[0],a=r[1];return t.receiveHandlerId(i),n.receiveHandlerId(i),a}),[])}(t,c,l);var f=Object(o.a)(c,t.current.collect||function(){return{}},(function(){return l.reconnect()})),d=Object(r.useMemo)((function(){return l.hooks.dragSource()}),[l]),p=Object(r.useMemo)((function(){return l.hooks.dragPreview()}),[l]);return Object(a.a)((function(){l.dragSourceOptions=t.current.options||null,l.reconnect()}),[l]),Object(a.a)((function(){l.dragPreviewOptions=t.current.previewOptions||null,l.reconnect()}),[l]),[f,d,p]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n(1),i=n(2),o=n(40),a=n(13),u=n(39),s=n(27),c=n(23),l=n(41),f=n(32);function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks=Object(l.a)({dropTarget:function(e,t){n.clearDropTarget(),n.dropTargetOptions=t,Object(f.a)(e)?n.dropTargetRef=e:n.dropTargetNode=e,n.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}var t,n,r;return t=e,(n=[{key:"reconnect",value:function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}},{key:"receiveHandlerId",value:function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!Object(c.a)(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}},{key:"connectTarget",get:function(){return this.dropTarget}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}}])&&h(t.prototype,n),r&&h(t,r),e}();function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=!1,g=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.targetId=null,this.internalMonitor=t.getMonitor()}var t,n,r;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;Object(i.a)(!v,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return v=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{v=!1}}},{key:"isOver",value:function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&p(t.prototype,n),r&&p(t,r),e}();function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e){var t=Object(r.useRef)(e);t.current=e,Object(i.a)(null!=e.accept,"accept must be defined");var n=b(function(){var e=Object(s.a)();return[Object(r.useMemo)((function(){return new g(e)}),[e]),Object(r.useMemo)((function(){return new d(e.getBackend())}),[e])]}(),2),c=n[0],l=n[1];!function(e,t,n){var i=Object(s.a)(),o=Object(r.useMemo)((function(){return{canDrop:function(){var n=e.current.canDrop;return!n||n(t.getItem(),t)},hover:function(){var n=e.current.hover;n&&n(t.getItem(),t)},drop:function(){var n=e.current.drop;if(n)return n(t.getItem(),t)}}}),[t]);Object(a.a)((function(){var r=y(Object(u.b)(e.current.accept,o,i),2),a=r[0],s=r[1];return t.receiveHandlerId(a),n.receiveHandlerId(a),s}),[t,n])}(t,c,l);var f=Object(o.a)(c,t.current.collect||function(){return{}},(function(){return l.reconnect()})),h=Object(r.useMemo)((function(){return l.hooks.dropTarget()}),[l]);return Object(a.a)((function(){l.dropTargetOptions=e.options||null,l.reconnect()}),[e.options]),[f,h]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(0),i=n(46),o=n(19),a=n(37),u=Object(a.a)((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),s=n(31),c=n(22),l=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return Object(r.c)(t,e),t.prototype.lift=function(e){var t=new f(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new u},t.prototype.next=function(e){var t=this;Object(c.b)((function(){var n,i;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var o=Object(r.g)(t.currentObservers),a=o.next();!a.done;a=o.next()){a.value.next(e)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;Object(c.b)((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;Object(c.b)((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this.hasError,r=this.isStopped,i=this.observers;return n||r?o.a:(this.currentObservers=null,i.push(e),new o.b((function(){t.currentObservers=null,Object(s.a)(i,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this.hasError,n=this.thrownError,r=this.isStopped;t?e.error(n):r&&e.complete()},t.prototype.asObservable=function(){var e=new i.a;return e.source=this,e},t.create=function(e,t){return new f(e,t)},t}(i.a),f=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return Object(r.c)(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:o.a},t}(l),h=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return Object(r.c)(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this.hasError,t=this.thrownError,n=this._value;if(e)throw t;return this._throwIfClosed(),n},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(l)}]]);
//# sourceMappingURL=2.6deee0db.chunk.js.map